<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>UI Preferences :: Eclipse Scout</title>
    <link rel="prev" href="ui-callback.html">
    <link rel="next" href="html-document-parser.html">
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">Eclipse Scout Docs</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search Docs">
      		  <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:scout-docs"> In this project
          </label>
        </div>
      </div>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item">
          <a class="logo" href="https://eclipse.dev/scout/"><img src="../../index.html/../../../_/img/eclipse-scout-logo.svg" alt="Eclipse Scout"></a>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="scout-docs" data-version="25.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Eclipse Scout</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../index.html">Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../getstarted/getstarted.html">Get Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scout Classic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../getstarted/helloscout.html">Hello Scout Classic</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../getstarted/run-as-service.html">Build Scout App and Run as Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../getstarted/run-as-docker-container.html">Run as Docker Container</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../getstarted/one-day-tutorial.html">One Day Tutorial</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scout JS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../getstarted/helloscout-js.html">Hello Scout JS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../getstarted/helloscout-js-fullstack.html">Hello Scout JS Full Stack</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../getstarted/helloscout-cdn.html">Hello Scout JS with a CDN</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../technical-guide.html">Technical Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Common Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../common-concepts/platform.html">Platform</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../common-concepts/application.html">Application</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../common-concepts/exception-handling.html">Working with exceptions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../common-concepts/job-manager.html">JobManager</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../common-concepts/run-context.html">RunContext</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../common-concepts/run-monitor.html">RunMonitor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../common-concepts/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../common-concepts/smtp-helper.html">SmtpHelper</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../common-concepts/observability.html">Observability</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">User Interface</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="widget.html">Widget</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="object-factory.html">Object Factory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="form.html">Form</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="form-field.html">Form Field</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="composite-field.html">Composite Field</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="group-box.html">Group Box</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="logical-grid.html">Logical Grid</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="value-field.html">Value Field</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="desktop.html">Desktop</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="outline.html">Outline</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="page.html">Page</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bookmarks.html">Bookmarks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="styling.html">Styling</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile.html">Mobile Support</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="extensibility.html">Extensibility</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="texts.html">Texts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="icons.html">Icons</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="object-identifiers.html">Object Identifiers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="url-hints.html">URL Hints</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="widget-reference.html">Widget Reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ui-callback.html">UI Callbacks</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="ui-preferences.html">UI Preferences</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="html-document-parser.html">HTML Document Parser</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="typescript.html">TypeScript Support</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="build-stack.html">Build Stack</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="browser-support.html">Browser Support</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Working with Data</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../working-with-data/lookup-call.html">Lookup Call</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../working-with-data/code-type.html">Code Type</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../working-with-data/client-notification.html">Client Notifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../working-with-data/ui-notifications.html">UI Notifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../working-with-data/data-object.html">Data Objects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../working-with-data/rest.html">REST</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../working-with-data/jax-ws.html">Webservices with JAX-WS</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../sdk/sdk.html">Scout SDK</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../sdk/sdk-intellij.html">Scout SDK for IntelliJ</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../sdk/sdk-eclipse.html">Scout SDK for Eclipse</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../howtos/how-tos.html">How-Tos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scout Classic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../howtos/scout-classic/chart-how-to.html">How to Create a Chart</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../howtos/scout-classic/smart-field-how-to.html">SmartField: How to Apply Colors and Styles From a Lookup Row</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../howtos/scout-classic/js-form-how-to.html">How to open a Scout JS form in a Scout Classic application</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scout JS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../howtos/scout-js/chart-how-to.html">How to Create a Chart</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../howtos/scout-js/flip-card-how-to.html">How to Create a Custom Field</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../howtos/scout-js/rest-service-how-to.html">How to Use a REST Service in Scout JS</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../releasenotes/release-notes.html">Release Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../migration/migration-guide.html">Migration Guide</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Eclipse Scout</span>
    <span class="version">25.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../index.html">Eclipse Scout</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">25.2</a>
        </li>
        <li class="version">
          <a href="../../../25.1/index.html">25.1</a>
        </li>
        <li class="version">
          <a href="../../../24.2/index.html">24.2</a>
        </li>
        <li class="version">
          <a href="../../../24.1/index.html">24.1</a>
        </li>
        <li class="version">
          <a href="../../../23.2/index.html">23.2</a>
        </li>
        <li class="version">
          <a href="../../../23.1/index.html">23.1</a>
        </li>
        <li class="version">
          <a href="../../../22/index.html">22</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Eclipse Scout</a></li>
    <li><a href="../technical-guide.html">Technical Guide</a></li>
    <li>User Interface</li>
    <li><a href="ui-preferences.html">UI Preferences</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">25.2</button>
  <div class="version-menu">
    <a class="version is-current" href="ui-preferences.html">25.2</a>
    <a class="version is-missing" href="../../../25.1/index.html">25.1</a>
    <a class="version is-missing" href="../../../24.2/index.html">24.2</a>
    <a class="version is-missing" href="../../../24.1/index.html">24.1</a>
    <a class="version is-missing" href="../../../23.2/index.html">23.2</a>
    <a class="version is-missing" href="../../../23.1/index.html">23.1</a>
    <a class="version is-missing" href="../../../22/index.html">22</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/eclipse-scout/scout.docs/edit/releases/25.2/docs/modules/technical-guide/pages/user-interface/ui-preferences.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">UI Preferences</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Some widgets allow the user to change their appearance.
UI preferences can store these adjustments and restore them automatically when the user starts a new session.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The information presented in this chapter applies to Scout JS only.
In Scout Classic applications, preferences are handled similarly by the class <code>ClientUiPreferences</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ui-preferences-storage"><a class="anchor" href="#ui-preferences-storage"></a>Storage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There is a global utility <code>scout.uiPreferences</code> that loads and stores all UI preferences for the current user.
It is automatically initialized on application startup, so all widgets can access the preferences  synchronously.
The data consists of a single data object <code>UiPreferencesDo</code> that is loaded from and stored to an implementation of the abstract <code>scout.UiPreferencesStore</code>.</p>
</div>
<div class="paragraph">
<p>The default implementation uses the browser&#8217;s local storage as means of persistence.
To store the data somewhere else (e.g. on a central database), you can register your own implementation via the <a href="object-factory.html" class="xref page">object factory</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_table_preferences"><a class="anchor" href="#_table_preferences"></a>Table Preferences</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If enabled, tables store the following settings in the UI preferences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tile mode</p>
</li>
<li>
<p>For each column:</p>
<div class="ulist">
<ul>
<li>
<p>Position</p>
</li>
<li>
<p>Visibility</p>
</li>
<li>
<p>Width</p>
</li>
<li>
<p>Sort index and direction</p>
</li>
<li>
<p>Grouping</p>
</li>
<li>
<p>Aggregation and background color (<code>NumberColumn</code> only)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Custom columns (if a <code>TableCustomizer</code> is present on the table)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In order to activate the feature for a table, set the property <code>uiPreferencesEnabled</code> to <code>true</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For the detail page of a table page, this feature is enabled automatically.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To ensure that the settings are assigned to the correct table, make sure it has a unique <code>uuid</code>.
In case the same table is used in different places in the application that should not share the same preferences, you can make the identifier even more specific by specifying the property <code>userPreferenceContext</code>.</p>
</div>
<div class="paragraph">
<p>Tables support multiple sets of preferences called "profiles".
The current preferences are stored in a special global profile.
If the <code>TableOrganizerMenu</code> is added to the table, a small gear icon appears in the top right of the table that allows the user to create and activate additional profiles or reset the table to the initial preferences.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">{
  objectType: Table,
  uuid: '59164ac1-f19e-49eb-8d3d-14329424aae4',
  uiPreferencesEnabled: true
  menus: [
    {
      objectType: TableOrganizerMenu
    }
  ],
  columns: [
    ....
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>All functions to create, manage or apply table UI preferences are provided by the utility <code>scout.tableUiPreferences</code>.</p>
</div>
<div class="paragraph">
<p>When creating a bookmark for a <code>PageWithTable</code>, the current UI preferences of the detail table are automatically stored as part of the bookmark.
When the bookmark is activated later, the stored preferences are then also restored.
In addition to the properties listed above, the bookmark also preserves the current user filters.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_custom_preference_handler"><a class="anchor" href="#_creating_a_custom_preference_handler"></a>Creating a Custom Preference Handler</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To add preference support for a custom widget, you can provide your own handler by following these steps.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create custom class that can import and export the preference data.</p>
</li>
<li>
<p>Because the class is stateful, provide a global singleton, so all widgets operate on the same instance.</p>
</li>
<li>
<p>Register a handler with the global <code>UiPreferences</code> class that extracts the relevant parts of the <code>UiPreferencesDo</code> object into your own class.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class MyUiPreferences {

  protected _myPreferences: MyUiPreferencesContributionDo;

  _importMyPreferences(myPreferences: MyUiPreferencesContributionDo) {
    this._myPreferences = myPreferences || scout.create(MyUiPreferencesContributionDo);
  }

  _exportMyPreferences(): MyUiPreferencesContributionDo {
    return this._myPreferences;
  }

  storeMyPreference(value: string) {
    this._myPreferences.value = value;
    uiPreferences.scheduleStore(MyUiPreferences);
  }

  applyMyPreference(myWidget: MyWidget) {
    myWidget.setValue(this._myPreferences.value);
  }
}

export const myUiPreferences = objects.createSingletonProxy(MyUiPreferences);

UiPreferences.registerHandler(MyUiPreferences, {
  importPreferences: preferences =&gt; {
    myUiPreferences._importMyPreferences(preferences.getContribution(MyUiPreferencesContributionDo));
  },
  exportPreferences: preferences =&gt; {
    preferences.addContribution(myUiPreferences._exportMyPreferences());
  }
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class MyWidget extends Widget {

  _init(model: ModelOf&lt;this&gt;) {
    ...
    myUiPreferences.applyMyPreference(this);
    this.on('valueUpdated', event =&gt; myUiPreferences.storeMyPreference(value));
  }
}</code></pre>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="ui-callback.html">UI Callbacks</a></span>
  <span class="next"><a href="html-document-parser.html">HTML Document Parser</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using Antora.</p>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
  </body>
</html>
