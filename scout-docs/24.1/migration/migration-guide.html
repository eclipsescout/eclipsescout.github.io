<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Eclipse Scout Migration Guide :: Eclipse Scout</title>
    <link rel="prev" href="../releasenotes/release-notes.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">Eclipse Scout Docs</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search Docs">
      		  <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:scout-docs"> In this project
          </label>
        </div>
      </div>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item">
          <a class="logo" href="https://www.eclipse.org/scout"><img src="../index.html/../../../_/img/eclipse-scout-logo.svg" alt="Eclipse Scout"></a>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="scout-docs" data-version="24.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Eclipse Scout</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../getstarted/getstarted.html">Get Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scout Classic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getstarted/helloscout.html">Hello Scout Classic</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getstarted/run-as-service.html">Build Scout App and Run as Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getstarted/run-as-docker-container.html">Run as Docker Container</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getstarted/one-day-tutorial.html">One Day Tutorial</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scout JS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getstarted/helloscout-js.html">Hello Scout JS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getstarted/helloscout-js-fullstack.html">Hello Scout JS Full Stack</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getstarted/helloscout-cdn.html">Hello Scout JS with a CDN</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../technical-guide/technical-guide.html">Technical Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Common Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/common-concepts/platform.html">Platform</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/common-concepts/application.html">Application</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/common-concepts/exception-handling.html">Working with exceptions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/common-concepts/job-manager.html">JobManager</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/common-concepts/run-context.html">RunContext</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/common-concepts/run-monitor.html">RunMonitor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/common-concepts/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/common-concepts/smtp-helper.html">SmtpHelper</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/common-concepts/observability.html">Observability</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">User Interface</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/widget.html">Widget</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/object-factory.html">Object Factory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/form.html">Form</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/form-field.html">Form Field</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/composite-field.html">Composite Field</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/group-box.html">Group Box</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/logical-grid.html">Logical Grid</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/value-field.html">Value Field</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/desktop.html">Desktop</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/outline.html">Outline</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/page.html">Page</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/styling.html">Styling</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/mobile.html">Mobile Support</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/extensibility.html">Extensibility</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/texts.html">Texts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/icons.html">Icons</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/widget-reference.html">Widget Reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/html-document-parser.html">HTML Document Parser</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/typescript.html">TypeScript Support</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/build-stack.html">Build Stack</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/user-interface/browser-support.html">Browser Support</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Working with Data</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/working-with-data/lookup-call.html">Lookup Call</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/working-with-data/code-type.html">Code Type</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/working-with-data/client-notification.html">Client Notifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/working-with-data/ui-notifications.html">UI Notifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/working-with-data/data-object.html">Data Objects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/working-with-data/rest.html">REST</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../technical-guide/working-with-data/jax-ws.html">Webservices with JAX-WS</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../sdk/sdk.html">Scout SDK</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sdk/sdk-intellij.html">Scout SDK for IntelliJ</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sdk/sdk-eclipse.html">Scout SDK for Eclipse</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../howtos/how-tos.html">How-Tos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scout Classic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/scout-classic/chart-how-to.html">How to Create a Chart</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/scout-classic/smart-field-how-to.html">SmartField: How to Apply Colors and Styles From a Lookup Row</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/scout-classic/js-form-how-to.html">How to open a Scout JS form in a Scout Classic application</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scout JS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/scout-js/chart-how-to.html">How to Create a Chart</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../howtos/scout-js/flip-card-how-to.html">How to Create a Custom Field</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../releasenotes/release-notes.html">Release Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="migration-guide.html">Migration Guide</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Eclipse Scout</span>
    <span class="version">24.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Eclipse Scout</a>
      <ul class="versions">
        <li class="version">
          <a href="../../24.2/index.html">24.2</a>
        </li>
        <li class="version is-current is-latest">
          <a href="../index.html">24.1</a>
        </li>
        <li class="version">
          <a href="../../23.2/index.html">23.2</a>
        </li>
        <li class="version">
          <a href="../../23.1/index.html">23.1</a>
        </li>
        <li class="version">
          <a href="../../22/index.html">22</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Eclipse Scout</a></li>
    <li><a href="migration-guide.html">Migration Guide</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">24.1</button>
  <div class="version-menu">
    <a class="version" href="../../24.2/migration/migration-guide.html">24.2</a>
    <a class="version is-current" href="migration-guide.html">24.1</a>
    <a class="version" href="../../23.2/migration/migration-guide.html">23.2</a>
    <a class="version" href="../../23.1/migration/migration-guide.html">23.1</a>
    <a class="version" href="../../22/migration/migration-guide.html">22</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/eclipse-scout/scout.docs/edit/releases/24.1/docs/modules/migration/pages/migration-guide.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Eclipse Scout Migration Guide</h1>
<div class="sect1">
<h2 id="about-this-document"><a class="anchor" href="#about-this-document"></a>About This Document</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document describes all relevant changes <strong>from Eclipse Scout 24.1 to Eclipse Scout 24.2</strong>. If existing code has to be migrated, instructions are provided here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="obtaining-the-latest-version"><a class="anchor" href="#obtaining-the-latest-version"></a>Obtaining the Latest Version</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="scout-runtime-for-java"><a class="anchor" href="#scout-runtime-for-java"></a>Scout Runtime for Java</h3>
<div class="paragraph">
<p>Scout Runtime artifacts for Java are distributed using Maven Central:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://central.sonatype.com/artifact/org.eclipse.scout.rt/org.eclipse.scout.rt/24.2.0-beta.0">24.2.0-beta.0</a> on <em>Maven Central</em></p>
</li>
<li>
<p><a href="https://mvnrepository.com/artifact/org.eclipse.scout.rt/org.eclipse.scout.rt/24.2.0-beta.0">24.2.0-beta.0</a> on <em>mvnrepository.com</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Usage example in the parent POM of your Scout application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.eclipse.scout.rt&lt;/groupId&gt;
    &lt;artifactId&gt;org.eclipse.scout.rt&lt;/artifactId&gt;
    &lt;version&gt;24.2.0-beta.0&lt;/version&gt;
    &lt;type&gt;pom&lt;/type&gt;
    &lt;scope&gt;import&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="scout-runtime-for-javascript"><a class="anchor" href="#scout-runtime-for-javascript"></a>Scout Runtime for JavaScript</h3>
<div class="paragraph">
<p>Scout Runtime artifacts for JavaScript are distributed using npm:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.npmjs.com/package/@eclipse-scout/core">Scout Core Runtime</a></p>
</li>
<li>
<p><a href="https://www.npmjs.com/search?q=%40eclipse-scout">All official Scout JavaScript packages</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Usage example in your package.json:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "name": "my-module",
  "version": "1.0.0",
  "devDependencies": {
    "@eclipse-scout/cli": "24.2.0-beta.0",
    "@eclipse-scout/releng": "^24.1.0"
  },
  "dependencies": {
    "@eclipse-scout/core": "24.2.0-beta.0",
    "jquery": "3.7.1"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The pre-built Scout JavaScript assets are also available using a CDN (e.g. to be directly included in a html document):
<a href="https://www.jsdelivr.com/package/npm/@eclipse-scout/core?path=dist" class="bare">https://www.jsdelivr.com/package/npm/@eclipse-scout/core?path=dist</a></p>
</div>
</div>
<div class="sect2">
<h3 id="ide-tooling-scout-sdk"><a class="anchor" href="#ide-tooling-scout-sdk"></a>IDE Tooling (Scout SDK)</h3>
<div class="paragraph">
<p>Scout officially supports <a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> and <a href="https://www.eclipse.org/downloads/packages/release/2024-09/r/eclipse-ide-scout-developers">Eclipse for Scout Developers</a>.</p>
</div>
<div class="sect3">
<h4 id="intellij-idea"><a class="anchor" href="#intellij-idea"></a>IntelliJ IDEA</h4>
<div class="paragraph">
<p>You can download the Scout plugin for IntelliJ IDEA from the <a href="https://plugins.jetbrains.com/plugin/13393-eclipse-scout/">JetBrains Plugin Repository</a> or you can use the plugins client built into IntelliJ IDEA.
Please refer to the <a href="https://www.jetbrains.com/help/idea/managing-plugins.html">IntelliJ Help</a> on how to install and manage plugins.</p>
</div>
</div>
<div class="sect3">
<h4 id="eclipse"><a class="anchor" href="#eclipse"></a>Eclipse</h4>
<div class="paragraph">
<p>You can download the complete Eclipse IDE with Scout SDK included here:<br>
<a href="https://www.eclipse.org/downloads/packages/release/2024-09/r/eclipse-ide-scout-developers">Eclipse for Scout Developers</a></p>
</div>
<div class="paragraph">
<p>To install the Scout SDK into your existing Eclipse IDE, use this P2 update site:<br>
<a href="https://download.eclipse.org/scout/releases" class="bare">https://download.eclipse.org/scout/releases</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new-build-runtime-requirements"><a class="anchor" href="#new-build-runtime-requirements"></a>New Build &amp; Runtime Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Scout 24.1 requires at least the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Java 11 support has been dropped. Build and runtime therefore require Java 17 now. Java 21 Support is planned for a future release.</p>
</li>
<li>
<p>Furthermore, the build requires</p>
<div class="ulist">
<ul>
<li>
<p>Maven &gt;= 3.9.2</p>
</li>
<li>
<p>Node.js &gt;= 20.10.0</p>
</li>
<li>
<p>pnpm &gt;= 8.11.0</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="http2-support"><a class="anchor" href="#http2-support"></a>HTTP/2 Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For Scout 24 and newer enabling <code>HTTP/2</code> for your application is recommended. Please refer to the <a href="../technical-guide/user-interface/browser-support.html" class="xref page">documentation</a> on how to enable <code>HTTP/2</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build-changes"><a class="anchor" href="#build-changes"></a>Build Changes</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The Maven build has the enforcer rule <a href="https://maven.apache.org/enforcer/enforcer-rules/dependencyConvergence.html">dependencyConvergence</a> enabled by default.
Therefore, builds will fail if different versions for the same dependency are used.
To fix this, ensure your dependencies converge and use the <a href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html">dependencyManagement</a> where necessary to specify which version to use.</p>
</li>
<li>
<p>The property <code>master_dependency_tycho-compiler_version</code> has been deleted as the Tycho compiler is no longer used.
Instead, the property <code>master_dependency_ecj_version</code> may be used to specify the <a href="https://search.maven.org/artifact/org.eclipse.jdt/ecj">Eclipse compiler (ECJ)</a> version. By default version 3.31.0 is used which is part of Eclipse 4.27 (2023-03), IntelliJ 2023.2 and IntelliJ 2023.3.</p>
</li>
<li>
<p>Typescript has been updated from 4.9.5 to 5.3.2. See <a href="https://devblogs.microsoft.com/typescript/announcing-typescript-5-0/#breaking-changes-and-deprecations">here</a> for a list of breaking changes and update your code accordingly.</p>
</li>
<li>
<p>Update the version of the <code>maven_rt_plugin_config-master</code> in your <code>pom.xml</code> files to the newest <code>24.1.x</code> release.
See <a href="https://search.maven.org/artifact/org.eclipse.scout/maven_rt_plugin_config-master">Maven central</a> for a list of versions available.</p>
</li>
<li>
<p>Update the Scout versions (<code>package.json</code> and <code>pom.xml</code>) as shown in <a href="#obtaining-the-latest-version">Obtaining the Latest Version</a>.</p>
</li>
<li>
<p>If you are using Eclipse and web-service providers, update the <code>.factorypath</code> files as shown in <a href="../technical-guide/working-with-data/jax-ws.html#jax-ws-appendix" class="xref page">JAX-WS Appendix</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3rd-party-libraries-update"><a class="anchor" href="#3rd-party-libraries-update"></a>3rd Party Libraries Update</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="update-to-jakarta"><a class="anchor" href="#update-to-jakarta"></a>Update to Jakarta EE</h3>
<div class="paragraph">
<p>As part of the Jakarta EE version update all imports need to be renamed from javax to jakarta.
The update also requires some changes on the usage of third party libraries.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update Scout dependency to release 24.1</p>
</li>
<li>
<p>Check third party library dependencies in your project, upgrade to Jakarta version if necessary</p>
</li>
<li>
<p>Reload all maven projects in IntelliJ or Eclipse IDE</p>
</li>
<li>
<p>Migrate your own code to Jakarta (e.g. using IntelliJ Migrator or similar Eclipse tooling)</p>
<div class="ulist">
<ul>
<li>
<p>IntelliJ Menu: Refactor &#8594; Migrate Packages and Classes &#8594; Java EE to Jakarta EE</p>
</li>
<li>
<p>Eclipse see <em>Eclipse Transformer</em> tool</p>
</li>
<li>
<p>All packages and classes are updated automatically</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="jax-ws-services"><a class="anchor" href="#jax-ws-services"></a>JAX-WS Services</h4>
<div class="paragraph">
<p>After the upgrade to 24.1, projects that use JAX-WS (Soap) as a provider should check the connection both on DEV and on the deployed system
to ensure that everything is working as desired.
This applies above all to cases when own libraries in /WEB-INF/lib are used or the corresponding resources in /META-INF/resources.</p>
</div>
<div class="paragraph">
<p>If your JAX-WS service uses global bindings, the <em>global-bindings.xml</em> file must be updated according to the following example:</p>
</div>
<div class="listingblock">
<div class="title">Listing 1. Example global-bindings.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;jaxb:bindings version="3.0"    <i class="conum" data-value="1"></i><b>(1)</b>
xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:xjc="http://java.sun.com/xml/ns/jaxb/xjc"
xmlns:jaxb="https://jakarta.ee/xml/ns/jaxb"&gt;  <i class="conum" data-value="2"></i><b>(2)</b>
&lt;jaxb:globalBindings&gt;
  &lt;!-- your global mappings here --&gt;
&lt;/jaxb:globalBindings&gt;
&lt;/jaxb:bindings&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Update to version 3.0</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Update to namespace <em><a href="https://jakarta.ee/xml/ns/jaxb" class="bare">https://jakarta.ee/xml/ns/jaxb</a></em></td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="ui-server-multipart-request-configuration"><a class="anchor" href="#ui-server-multipart-request-configuration"></a>UI Server: Multipart Request Configuration</h4>
<div class="paragraph">
<p>As part of the switch to Jakarta EE the third party library dependency to Apache File Upload was eliminated.
Scout now relies on plain Jakarta EE API to process HTTP multipart requests.
Servlets processing multipart requests using Jakarta EE API requires a multipart-config in their servlet registration.</p>
</div>
<div class="sect4">
<h5 id="deployment-using-web-xml"><a class="anchor" href="#deployment-using-web-xml"></a>Deployment Using web.xml</h5>
<div class="paragraph">
<p>If you use a <code>web.xml</code>-based deployment (legacy only, see <a href="#migration-guide-24-1-jetty-removal-of-war-modules">Removal of .war Modules</a>), make sure to add a <em>&lt;multipart-config&gt;</em> section to your <code>web.xml</code> where the <code>UiServlet</code> is registered:</p>
</div>
<div class="listingblock">
<div class="title">Listing 2. Example multipart-config in <em>web.xml</em> of Scout UI server</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;servlet&gt;
&lt;servlet-name&gt;UiServlet&lt;/servlet-name&gt;
&lt;servlet-class&gt;org.eclipse.scout.rt.ui.html.UiServlet&lt;/servlet-class&gt;
&lt;multipart-config&gt;
  &lt;location&gt;/tmp&lt;/location&gt;
  &lt;max-file-size&gt;104857600&lt;/max-file-size&gt; <i class="conum" data-value="1"></i><b>(1)</b>
  &lt;max-request-size&gt;104857600&lt;/max-request-size&gt;   <i class="conum" data-value="2"></i><b>(2)</b>
  &lt;file-size-threshold&gt;20971520&lt;/file-size-threshold&gt;   <i class="conum" data-value="3"></i><b>(3)</b>
&lt;/multipart-config&gt;
&lt;/servlet&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Maximum size of single file, e.g. 100mb</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Maximum size of multi-part request, e.g. 100mb</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Threshold for file chunking, e.g. 20mb</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="deployment-using-jetty-server"><a class="anchor" href="#deployment-using-jetty-server"></a>Deployment using Jetty server</h5>
<div class="paragraph">
<p>If you switch to a Jetty-based deployment (see chapter <a href="#cha-jettyserver">Former JettyServer for Development Can Be Used in a Productive Environment</a> for details) a default multipart configuration providing the ability
to upload multipart requests with unlimited size is used by default (see chapter <a href="#migration-guide-24-1-jetty-web.xml-ui-servlet">UIServlet</a>).
This corresponds to the same behavior as using the former Apache File Upload based implementation.</p>
</div>
<div class="paragraph">
<p>Unlimited request size means, there is no global request size limit at level of the UI servlet.
In practice the upload size is limited by implementations of <code>IUploadable</code> and the corresponding implementations in various JSON form fields,
see <code>getConfiguredMaximumUploadSize()</code> implementations for default value for each type of field: e.g. <code>AbstractFileChooserField.getConfiguredMaximumUploadSize</code>.</p>
</div>
<div class="paragraph">
<p>See <code>UiServletMultipartConfigProperty</code> and the config property <code>scout.ui.servletMultipartConfig</code> to provide a custom global multipart
request configuration for your UI server.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="other-libraries"><a class="anchor" href="#other-libraries"></a>Other Libraries</h3>
<div class="ulist">
<ul>
<li>
<p>Mockito 5: Uses the inline mock maker as new default and change the behavior of <code>any()</code>, which does not match varargs anymore (use <code>any(Class)</code> instead).</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removed-deprecated-methods-in-icachebuilder-and-iformhandler"><a class="anchor" href="#removed-deprecated-methods-in-icachebuilder-and-iformhandler"></a>Removed Deprecated Methods in ICacheBuilder and IFormHandler</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The deprecated method <code>ICacheBuilder#withAtomicInsertion</code> was removed.
No migration is required, as this method did not change behavior in any way.</p>
</div>
<div class="paragraph">
<p>The method <code>IFormHandler#getHandlerId</code> was removed without a replacement as there is no use for it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cha-jettyserver"><a class="anchor" href="#cha-jettyserver"></a>Former JettyServer for Development Can Be Used in a Productive Environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>org.eclipse.scout.dev.jetty.JettyServer</code> was so far only used for development environments.
With this release it was improved so that it can be used in a productive environment too (instead of building a .war file to be used in an application server).
The Scout Application class contains a main-method which may be started directly and itself starts an embedded Jetty server.</p>
</div>
<div class="paragraph">
<p>The support for using a <code>web.xml</code> was dropped when using the Scout Application, <code>IServletContributor</code> and <code>IServletFilterContributer</code> are used instead (see <a href="#migration-guide-24-1-jetty-web.xml">web.xml</a> and <a href="#migration-guide-24-1-jetty-removal-of-war-modules">Removal of .war Modules</a>).</p>
</div>
<div class="paragraph">
<p>The following renaming/refactoring is applied.</p>
</div>
<div class="sect2">
<h3 id="modules"><a class="anchor" href="#modules"></a>Modules</h3>
<div class="ulist">
<ul>
<li>
<p><code>org.eclipse.scout.dev.jetty</code> &#8594; <code>org.eclipse.scout.rt.app</code></p>
<div class="ulist">
<ul>
<li>
<p>Check dependencies within <code>pom.xml</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>These modules were removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.eclipse.scout.dev.jetty.test</code></p>
</li>
<li>
<p><code>org.eclipse.scout.dev.jetty.test.affix</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="java-classes"><a class="anchor" href="#java-classes"></a>Java classes</h3>
<div class="ulist">
<ul>
<li>
<p><code>org.eclipse.scout.dev.jetty.JettyServer</code> &#8594; <code>org.eclipse.scout.rt.app.Application</code></p>
<div class="ulist">
<ul>
<li>
<p>Check run configurations etc.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="properties"><a class="anchor" href="#properties"></a>Properties</h3>
<div class="ulist">
<ul>
<li>
<p><code>scout.jetty.port</code> &#8594; <code>scout.app.port</code></p>
</li>
<li>
<p><code>scout.jetty.consoleInputHandler</code> &#8594; <code>scout.app.consoleInputHandlerEnabled</code></p>
</li>
<li>
<p><code>scout.jetty.webapp.contextpath</code> &#8594; <code>scout.app.contextPath</code></p>
</li>
<li>
<p><code>scout.jetty.keyStorePath</code> &#8594; <code>scout.app.keyStorePath</code></p>
</li>
<li>
<p><code>scout.jetty.autoCreateSelfSignedCertificate</code> &#8594; <code>scout.app.autoCreateSelfSignedCertificate</code></p>
</li>
<li>
<p><code>scout.jetty.keyStorePassword</code> &#8594; <code>scout.app.keyStorePassword</code></p>
</li>
<li>
<p><code>scout.jetty.privateKeyPassword</code> &#8594; <code>scout.app.privateKeyPassword</code></p>
</li>
<li>
<p><code>scout.jetty.certificateAlias</code> &#8594; <code>scout.app.certificateAlias</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following property was removed (not required anymore due to the drop of <code>web.xml</code> support)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>scout.jetty.webapp.folder</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="improved-app-module-structure"><a class="anchor" href="#improved-app-module-structure"></a>Improved .app module structure</h3>
<div class="paragraph">
<p>For each server (i.e. single server for Scout JS and UI/backend server for Scout Classic application), the following modules are used to build or run the application:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>.app</code>: main module serving as base for all dependencies</p>
<div class="ulist">
<ul>
<li>
<p><code>.app.dev</code>: used for development</p>
</li>
<li>
<p><code>.app.image</code>: used for docker image build</p>
</li>
<li>
<p><code>.app.zip</code>: used for deployment via shell scripts</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each leaf module (<code>.dev</code>, <code>.image</code>, <code>.zip</code>) contains a <code>config.properties</code>, <code>logback.xml</code> and possible other resources relevant for the corresponding build/application run.
Dependencies only relevant for a certain build (e.g. development) must only be added in the corresponding module.
Dependencies relevant for all builds should be placed in the <code>.app</code> module.
Make sure to move your dependencies accordingly.</p>
</div>
<div class="paragraph">
<p>The Scout archetypes (Classic and JS) were updated and generate the new <code>.app</code> module structure.
Update your project structure as newly defined.
This includes the migration from <code>web.xml</code> to servlet contributors and the removal of the <code>.war</code> module(s) as described in the next chapters too.</p>
</div>
</div>
<div class="sect2">
<h3 id="migration-guide-24-1-jetty-web.xml"><a class="anchor" href="#migration-guide-24-1-jetty-web.xml"></a>web.xml</h3>
<div class="paragraph">
<p>Using a <code>web.xml</code> to define servlet filters and servlet is no longer supported when using the Scout application.</p>
</div>
<div class="paragraph">
<p>Migrate your entries within the <code>web.xml</code> to static inner classes implementing either <code>IServletContributor</code> or <code>IServletFilterContributor</code>.
The static inner classes are placed in a container class in the <code>.app</code> module (i.e. <code>ServerServletContributors</code>, <code>UiServletContributors</code> or <code>AppServletContributor</code> as generated by the Scout archetype).</p>
</div>
<div class="paragraph">
<p>The contributors are Scout beans, so the module needs a <code>scout.xml</code> file. Copy an existing <code>scout.xml</code> file and paste it under <code>resources/META-INF/scout.xml</code>.</p>
</div>
<div class="paragraph">
<p>If you haven&#8217;t modified the <code>web.xml</code>, all entries as described below are already present in the container class generated by the Scout archetype or provided by dependencies.
The new modules <code>org.eclipse.scout.rt.server.app</code> and <code>org.eclipse.scout.rt.ui.html.app</code> provide default servlet (filter) contributors for your Scout application.
Make sure to add a dependency to the corresponding module in your <code>.server.app</code> and <code>.ui.html.app</code> modules.
Only add own servlet (filter) contributors for those not already defined within the two container classes <code>ServerServletContributors</code> and <code>UiServletContributors</code>.</p>
</div>
<div class="paragraph">
<p>The <code>@Order</code> annotation might differ from the examples below.
Make sure to add them in incrementing order (e.g. interval of 1000) within your container class (own order for servlet filters, own order for servlets).</p>
</div>
<div class="sect3">
<h4 id="webappeventlistener"><a class="anchor" href="#webappeventlistener"></a>WebappEventListener</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;listener&gt;
  &lt;listener-class&gt;org.eclipse.scout.rt.server.commons.WebappEventListener&lt;/listener-class&gt;
&lt;/listener&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>No migration required, automatically handled by the Scout application.</p>
</div>
</div>
<div class="sect3">
<h4 id="listeners-e-g-httpsessionmutex"><a class="anchor" href="#listeners-e-g-httpsessionmutex"></a>Listeners (e.g. HttpSessionMutex)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;listener&gt;
  &lt;listener-class&gt;org.eclipse.scout.rt.server.commons.HttpSessionMutex&lt;/listener-class&gt;
&lt;/listener&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>results in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">@Order(1000)
public static class HttpSessionMutexFilterContributor implements IServletFilterContributor {

  @Override
  public void contribute(ServletContextHandler handler) {
    handler.addEventListener(new HttpSessionMutex());
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Applies to other listeners too.</p>
</div>
<div class="paragraph">
<p>Servlet filter contributor for <code>HttpSessionMutex</code> is already provided by <code>org.eclipse.scout.rt.ui.html.app.UiServletContributors</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="filters-e-g-httpserverruncontextfilter"><a class="anchor" href="#filters-e-g-httpserverruncontextfilter"></a>Filters (e.g. HttpServerRunContextFilter)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;filter&gt;
  &lt;filter-name&gt;HttpServerRunContextFilter&lt;/filter-name&gt;
  &lt;filter-class&gt;org.eclipse.scout.rt.server.context.HttpServerRunContextFilter&lt;/filter-class&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;session&lt;/param-name&gt;
    &lt;param-value&gt;false&lt;/param-value&gt;
  &lt;/init-param&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
  &lt;filter-name&gt;HttpServerRunContextFilter&lt;/filter-name&gt;
  &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>results in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">@Order(2000)
public static class ApiServerRunContextFilterContributor implements IServletFilterContributor {

  @Override
  public void contribute(ServletContextHandler handler) {
    FilterHolder filter = handler.addFilter(HttpServerRunContextFilter.class, "/api/*", null);
    filter.setInitParameter("session", "false");
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Applies to other filters too (init-params may be different/may not exist).</p>
</div>
</div>
<div class="sect3">
<h4 id="servlets"><a class="anchor" href="#servlets"></a>Servlets</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;servlet&gt;
  &lt;servlet-name&gt;api&lt;/servlet-name&gt;
  &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;jakarta.ws.rs.Application&lt;/param-name&gt;
    &lt;param-value&gt;org.eclipse.scout.rt.rest.RestApplication&lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;jersey.config.server.wadl.disableWadl&lt;/param-name&gt;
    &lt;param-value&gt;true&lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;api&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>results in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">@Order(3000)
public static class ApiServletContributor implements IServletContributor {

  @Override
  public void contribute(ServletContextHandler handler) {
    ServletHolder servlet = handler.addServlet(ServletContainer.class, "/api/*");
    servlet.setInitParameter(ServerProperties.WADL_FEATURE_DISABLE, Boolean.TRUE.toString());
    servlet.setInitParameter(ServletProperties.JAXRS_APPLICATION_CLASS, RestApplication.class.getName());
    servlet.setInitOrder(1); // load-on-startup
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Applies to other servlets too (init-params may be different/may not exist, load-on-startup flag too).</p>
</div>
</div>
<div class="sect3">
<h4 id="migration-guide-24-1-jetty-web.xml-ui-servlet"><a class="anchor" href="#migration-guide-24-1-jetty-web.xml-ui-servlet"></a>UIServlet</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;servlet&gt;
  &lt;servlet-name&gt;UiServlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;org.eclipse.scout.rt.ui.html.UiServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;UiServlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>results in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">@Order(2000)
public static class UiServletContributor implements IServletContributor {

  @Override
  public void contribute(ServletContextHandler handler) {
    handler.addServlet(UiServlet.class, "/*");
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Servlet contributor for <code>UiServlet</code> is already provided by <code>org.eclipse.scout.rt.ui.html.app.UiServletContributors</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="session-config"><a class="anchor" href="#session-config"></a>Session Config</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;session-config&gt;
  &lt;!-- Session timeout in minutes --&gt;
  &lt;session-timeout&gt;5&lt;/session-timeout&gt;
  &lt;cookie-config&gt;
    &lt;http-only&gt;true&lt;/http-only&gt;
  &lt;/cookie-config&gt;
&lt;/session-config&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The session cookie config is now handled by the properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>scout.app.httpSessionTimeout</code> (timeout in seconds, default 5 minutes = 300 seconds for non-development mode, 60 minutes = 3600 seconds for development mode)</p>
<div class="ulist">
<ul>
<li>
<p><code>session-config/session-timeout</code> in <code>web.xml</code> (was in minutes, convert to seconds for property)</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>scout.app.sessionCookieConfigHttpOnly</code> (default <code>true</code>)</p>
<div class="ulist">
<ul>
<li>
<p><code>session-config/cookie-config/http-only</code> in <code>web.xml</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>scout.app.sessionCookieConfigSecure</code> (default <code>true</code> for non-development mode)</p>
<div class="ulist">
<ul>
<li>
<p><code>session-config/cookie-config/secure</code> in <code>web.xml</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>scout.app.sessionCookieConfigSameSite</code> (default <code>Lax</code>)</p>
<div class="ulist">
<ul>
<li>
<p><code>context.xml</code>: <code>CookieProcessor</code> attribute <code>sameSiteCookies</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The property <code>scout.auth.cookieSessionValidateSecure</code> was removed.
It was used in the <code>UiServlet</code> for validation of HTTP only and secure flags (to check if they were correctly defined in the <code>web.xml</code>).
Because these two flags are now set via property, an additional property for validation isn&#8217;t required anymore.</p>
</div>
</div>
<div class="sect3">
<h4 id="logbackdisableservletcontainerinitializer"><a class="anchor" href="#logbackdisableservletcontainerinitializer"></a>logbackDisableServletContainerInitializer</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;context-param&gt;
  &lt;param-name&gt;logbackDisableServletContainerInitializer&lt;/param-name&gt;
  &lt;param-value&gt;true&lt;/param-value&gt;
&lt;/context-param&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>No migration required, automatically handled by the Scout application.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="migration-guide-24-1-jetty-removal-of-war-modules"><a class="anchor" href="#migration-guide-24-1-jetty-removal-of-war-modules"></a>Removal of .war Modules</h3>
<div class="paragraph">
<p>The build of a <code>.war</code> file to be used within an application server (e.g. Tomcat) is deprecated now and might not work anymore in a further release (due to dependencies issues).
Thus, it&#8217;s highly recommended to either use shell scripts to run your productive environment as a service or built docker images to be used in Kubernetes or a similar setup.
Two new tutorial describe these scenarios in detail.</p>
</div>
<div class="paragraph">
<p>In case you still like to keep your <code>.war</code> build for now, follow the steps as described below.
The examples are based on a classic Scout application with the group id <code>org.eclipse.scout.apps</code> and artifact ID <code>helloscout</code> as created by the archetype.</p>
</div>
<div class="paragraph">
<p>Create a new module (or keep your old <code>.war</code> modules) for each server with the suffix <code>.app.war</code> similar to <code>.app.image</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>helloscout.server.app.war</code></p>
</li>
<li>
<p><code>helloscout.ui.html.app.war</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Place your old <code>config.properties</code> and <code>logback.xml</code> into the <code>src/main/resources</code> directory of the corresponding module.
These two files will most likely be similar as the ones in <code>.app.zip</code>.</p>
</div>
<div class="paragraph">
<p>Place your old <code>web.xml</code> into <code>src/main/webapp/WEB-INF</code>.
Some modification might be necessary, see Jakarta migration guide above.</p>
</div>
<div class="paragraph">
<p>Add entries to your parent <code>pom.xml</code> (within <code>helloscout</code>) referencing these two modules</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;modules&gt;
  ...
  &lt;module&gt;../helloscout.server.app.war&lt;/module&gt;
  &lt;module&gt;../helloscout.ui.html.app.war&lt;/module&gt;
  ...
&lt;/modules&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and the dependencies</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;dependencyManagement&gt;
  &lt;dependencies&gt;
    ...
    &lt;dependency&gt;
      &lt;groupId&gt;org.eclipse.scout.apps&lt;/groupId&gt;
      &lt;artifactId&gt;helloscout.server.app.war&lt;/artifactId&gt;
      &lt;version&gt;${org.eclipse.scout.apps.helloscout.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.eclipse.scout.apps&lt;/groupId&gt;
      &lt;artifactId&gt;helloscout.ui.html.app.war&lt;/artifactId&gt;
      &lt;version&gt;${org.eclipse.scout.apps.helloscout.version}&lt;/version&gt;
    &lt;/dependency&gt;
    ...
  &lt;dependencies&gt;
&lt;dependencyManagement&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The main part of the <code>pom.xml</code> should look like this one (similar for the UI server):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;artifactId&gt;helloscout.server.app.war&lt;/artifactId&gt;
&lt;packaging&gt;war&lt;/packaging&gt;

&lt;name&gt;Helloscout Server Application&lt;/name&gt;

&lt;build&gt;
  &lt;finalName&gt;org.eclipse.scout.apps.helloscout.server&lt;/finalName&gt;

  &lt;!-- configure maven-resources-plugin to replace placeholders in resources --&gt;
  &lt;resources&gt;
    &lt;resource&gt;
      &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;
      &lt;filtering&gt;true&lt;/filtering&gt;
    &lt;/resource&gt;
  &lt;/resources&gt;
&lt;/build&gt;

&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.eclipse.scout.apps&lt;/groupId&gt;
    &lt;artifactId&gt;helloscout.server.app&lt;/artifactId&gt;
    &lt;exclusions&gt;
      &lt;!-- exclusions required because for running in a tomcat, we must not include jetty --&gt;
      &lt;exclusion&gt;
        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;
        &lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;
      &lt;/exclusion&gt;
    &lt;/exclusions&gt;
  &lt;/dependency&gt;

  &lt;!-- provided by container --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;
    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Make sure to not forget the exclusion of <code>jetty-webapp</code>.</p>
</div>
<div class="paragraph">
<p>For the UI server&#8217;s <code>pom.xml</code>, additionally add the following section within the <code>build</code> tag.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;build&gt;
  ...
  &lt;plugins&gt;
    &lt;!-- configure maven-resources-plugin to use '\' as escape character  --&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;
      &lt;configuration&gt;
        &lt;escapeString&gt;\&lt;/escapeString&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now when building your application, this should result in two <code>.war</code> files that can be deployed to an application server.
As mentioned before, this might not be supported anymore in a future release of Scout.</p>
</div>
</div>
<div class="sect2">
<h3 id="deprecation-of-webappeventlistener"><a class="anchor" href="#deprecation-of-webappeventlistener"></a>Deprecation of WebappEventListener</h3>
<div class="paragraph">
<p><code>org.eclipse.scout.rt.server.commons.WebappEventListener</code> was responsible for the following tasks when the servlet context was initialized/destroyed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Starting/stopping the Scout plattform</p>
</li>
<li>
<p>Setting context path to PlatformIdentifier</p>
</li>
<li>
<p>Registering the servlet context as accessible bean (<code>ServletContext</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first task remains, the other two were removed (see next two sections).</p>
</div>
<div class="paragraph">
<p><code>WebappEventListener</code> is still available and might be used for legacy applications running within an application server (see <a href="#migration-guide-24-1-jetty-removal-of-war-modules">Removal of .war Modules</a>),
but it is marked as deprecated and might be removed in a future release.</p>
</div>
<div class="sect3">
<h4 id="removal-of-platformidentifier"><a class="anchor" href="#removal-of-platformidentifier"></a>Removal of PlatformIdentifier</h4>
<div class="paragraph">
<p><code>org.eclipse.scout.rt.platform.context.PlatformIdentifier</code> was removed with replacement.
Because deploying to an application server is legacy only, each application will have its own Java runtime and <code>NodeIdentifier</code> can be used instead.</p>
</div>
</div>
<div class="sect3">
<h4 id="servletcontext-not-accessible-via-beans-get-opt-anymore"><a class="anchor" href="#servletcontext-not-accessible-via-beans-get-opt-anymore"></a>ServletContext Not Accessible via BEANS.get/.opt Anymore</h4>
<div class="paragraph">
<p>ServletContext could be accessed via BEANS.get/.opt so far because it was registered via <code>WebappEventListener</code>.
It was only used within <code>ServletContextMimeTypeDetector</code> to ask the servlet context for its mime type mapping.
This mime type detector was removed too.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cleanupimproving-of-nodeidentifiercompute"><a class="anchor" href="#cleanupimproving-of-nodeidentifiercompute"></a>Cleanup/Improving of NodeIdentifier#compute</h3>
<div class="paragraph">
<p><code>NodeIdentifier</code> previously used the first property with a value according to the following priority:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>scout.nodeId</code></p>
</li>
<li>
<p><code>weblogic.Name</code></p>
</li>
<li>
<p><code>jboss.node.name</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>As fallback a newly generated UUID was used.</p>
</div>
<div class="paragraph">
<p>Only the first one (<code>scout.nodeId</code>) is considered now because not running within an application server anymore.</p>
</div>
<div class="paragraph">
<p>Newly added was the computation of a node identifier in development mode.
If no <code>scout.nodeId</code> is set, the local host name and the port of the Scout application is used as node identifier (e.g. <code>mycomputer:8082</code>).
Therefore, for development mode, setting <code>scout.nodeId</code> in <code>config.properties</code> is not required anymore to have a static node identifier.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-streaming-support-to-hashing-securityutility"><a class="anchor" href="#add-streaming-support-to-hashing-securityutility"></a>Add Streaming Support to Hashing (SecurityUtility)</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>org.eclipse.scout.rt.platform.security.SecurityUtility</code> supports streaming:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>byte[] hash(byte[] data, byte[] salt)</code> &#8594; <code>byte[] hash(byte[] data)</code></p>
<div class="ulist">
<ul>
<li>
<p>Use the new method where possible, if required use <code>ILegacySecurityProvider.createHash(byte[] data, byte[] salt)</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>NEW: <code>DigestInputStream toHashingStream(InputStream stream)</code></p>
</li>
<li>
<p>NEW: <code>DigestOutputStream toHashingStream(OutputStream stream)</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="idexternalformatter-removed"><a class="anchor" href="#idexternalformatter-removed"></a>IdExternalFormatter Removed</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The former deprecated class <code>IdExternalFormatter</code> was removed.
This class was replaced by <code>IdCodec</code> and <code>IdInventory</code> in release 23.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="apache-httpcomponents-client-5-2-x"><a class="anchor" href="#apache-httpcomponents-client-5-2-x"></a>Apache HttpComponents Client 5.2.x</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With Scout version 7 the usage of Apache HttpComponents Client was introduced (for example for communication between frontend and backend server). At that time version 4.5.3 was used which received only minor updates between releases (for major defects and security issues), version 24.1 of Scout upgrades the Apache HTTP Client to the next major version - now version 5.2.x is used.</p>
</div>
<div class="paragraph">
<p>Scout does not depend itself on an older Apache HttpComponents Client version anymore; however the new client version can be co-located with earlier major version on the same classpath as package names and maven coordinates have been changed.</p>
</div>
<div class="paragraph">
<p>This may result in changes if your project references (imports) Apache HttpComponents classes itself, e.g. <code>org.apache.http.HttpHeaders</code> has been moved to <code>org.apache.hc.core5.http.HttpHeaders</code>, <code>org.apache.http.impl.client.HttpClientBuilder</code> has been moved to <code>org.apache.hc.client5.http.impl.classic.HttpClientBuilder</code>, for further details the <a href="https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/index.html">Apache HttpClient 5.x migration guide</a> may be consulted (at the moment the classic API is still used to avoid too many changes).</p>
</div>
<div class="paragraph">
<p>There is also behavior and API which has changed, the following behavioral changes have been noticed during development:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.eclipse.scout.rt.shared.http.EnhancedLaxRedirectStrategy</code> is removed, this strategy previously enforced a second HTTP POST request for certain HTTP redirect status codes (e.g. 302 Found). According to <a href="https://www.rfc-editor.org/rfc/rfc9110.html#status.302">RFC 9110</a> in this case the POST request may be replaced with a GET request which the HttpClient will now respect. For redirects which require to re-send the POST request a different status code must be used (e.g. 307 Temporary Redirect). The config property <code>scout.http.redirectPost</code> has been removed.</p>
</li>
<li>
<p>Internal test <code>org.eclipse.scout.rt.server.commons.http.HttpRetryTest.testPostWithUnsupportedRetryAndFailureWhileHeadersAreSent</code> has been removed as retry-strategy has been changed, requests failing with a <code>org.apache.hc.core5.http.ConnectionClosedException</code> while sending the request are not retried anymore in general, furthermore only idempotent requests will be retried by default. However, the Scout specific implementation to retry requests dealing with a stale socket channel is kept (regardless of the request method).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For third-party dependencies which refer to an older HttpClient version either both versions will co-exist (see above) or it is necessary to search for updated third-party versions which reference the new version of the HttpClient.</p>
</div>
<div class="paragraph">
<p>To use the new version with the Google HTTP Client library a <code>org.eclipse.scout.rt.shared.http.transport.ApacheHttpTransport</code> is introduced (as the third party library itself does not support the newer version yet as the library itself refers to an older HttpClient version this older version is explicitly excluded).</p>
</div>
<div class="paragraph">
<p>For <code>org.eclipse.scout.rt.server.commons.servlet.HttpProxy</code> the Google HTTP Client library is not used anymore, instead a new class <code>org.eclipse.scout.rt.shared.http.async.DefaultAsyncHttpClientManager</code> (configurable using a config property) is used. The new concept uses the HttpClient directly as async variant. <code>org.eclipse.scout.rt.shared.http.transport.ApacheHttpTransport</code> still uses the classic variant.</p>
</div>
<div class="paragraph">
<p><code>org.eclipse.scout.rt.shared.http.BasicAuthHttpTransportManager</code> was removed, users may provide pre-emptive basic authentication using a custom <code>org.apache.hc.client5.http.protocol.HttpClientContext</code> for specific hosts (e.g for the <code>HttpProxy</code> using <code>org.eclipse.scout.rt.server.commons.servlet.HttpProxy.withHttpClientContextSupplier</code>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="two-factor-auth"><a class="anchor" href="#two-factor-auth"></a>Login Form: Support for Second-Factor (Form-Based)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During form-based login, for second-factor enabled accounts, a token is requested (after first challenge has been completed successful).
For this token a new text <code>ui.Token</code> has been added to the login form and must be added to the <code>WebContent/login.html</code> if you plan to use 2FA.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;scout:message style="tag" key="ui.Login" key="ui.LoginFailed" key="ui.User" key="ui.Password" key="ui.Token" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To enable 2FA support in your application, see <a href="../technical-guide/common-concepts/security.html#two-factor-auth" class="xref page">Two-factor Authentication</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="uitextcontributor"><a class="anchor" href="#uitextcontributor"></a>UiTextContributor</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The interface org.eclipse.scout.rt.ui.html.IUiTextContributor has changed its signature. The function <code>contributeUiTextKeys</code> has been renamed to <code>contribute</code>.
All implementations of this interface must rename this method as well.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="typescript-codetype-api-changes"><a class="anchor" href="#typescript-codetype-api-changes"></a>TypeScript CodeType API Changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The TypeScript API to access CodeTypes and Codes has been streamlined and simplified:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>codes</code> utility</p>
<div class="ulist">
<ul>
<li>
<p><code>codes.get</code>: only accepts one parameter now (for the CodeType class or CodeType id). Accordingly, it no longer returns a <code>Code</code> but a <code>CodeType</code> instead. Furthermore, it no longer throws an error if the <code>CodeType</code> could not be found but returns null instead. To access a <code>Code</code> within a <code>CodeType</code> use <code>codes.get(MyCodeType).get(myCodeId)</code>.</p>
</li>
<li>
<p><code>codes.optGet</code> and <code>codes.codeType</code>: has been deleted in favor of the new codes.get (see above).</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>CodeType</code></p>
<div class="ulist">
<ul>
<li>
<p><code>CodeType.add</code>: has been marked protected as it should not be called from the outside.</p>
</li>
<li>
<p><code>CodeType.get</code>: Throws no error anymore if the requested Code could not be found but returns null instead.</p>
</li>
<li>
<p><code>CodeType.optGet</code>: Has been deleted as <code>CodeType.get</code> can be used now (see above).</p>
</li>
<li>
<p><code>CodeType.codes</code>: It is no longer a property but a function instead which by default returns all <code>Codes</code> of the <code>CodeType</code> recursively. It has a parameter which allows to only return the root <code>Codes</code>.</p>
</li>
<li>
<p><code>CodeType.getCodes</code>: has been removed. Use the new function <code>CodeType.codes()</code> instead (see above).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tree-improved-auto-check-behavior-when-checking-nodes"><a class="anchor" href="#tree-improved-auto-check-behavior-when-checking-nodes"></a>Tree: Improved Auto-Check Behavior When Checking Nodes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="new-behavior-explained"><a class="anchor" href="#new-behavior-explained"></a>New Behavior Explained</h3>
<div class="paragraph">
<p>When the <code>autoCheckChildren</code> property of the Tree or TreeBox widget is set to <code>true</code> (e.g. by overriding
<code>getConfiguredAutoCheckChildNodes()</code>) the automatic check behavior has changed.</p>
</div>
<div class="paragraph">
<p>Assuming the following tree structure is given:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[ ] Node A
  [ ] Child node 1
  [ ] Child node 2


Legend:
[ ] -&gt; Node unchecked
[-] -&gt; Node partly-checked
[*] -&gt; Node checked</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="example-1"><a class="anchor" href="#example-1"></a>Example 1</h4>
<div class="paragraph">
<p>When checking or unchecking 'Node A' all its children are checked/unchecked too.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[*] Node A
  [*] Child node 1    &lt;- Automatically checked
  [*] Child node 2    &lt;- Automatically checked</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="example-2"><a class="anchor" href="#example-2"></a>Example 2</h4>
<div class="paragraph">
<p>When some of the child nodes are checked, the parent nodes get partly-checked.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[-] Node A            &lt;- Partly checked
  [*] Child node 1
  [ ] Child node 2</code></pre>
</div>
</div>
<div class="paragraph">
<p>When 'Child Node 2' gets checked too, the parent node is checked automatically.
<strong>Attention: The mechanism of auto-checking the parent is new. It may break the logic in your application.</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[*] Node A            &lt;- Automatically checked
  [*] Child node 1
  [*] Child node 2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="api-changes-in-abstracttree"><a class="anchor" href="#api-changes-in-abstracttree"></a>API Changes in <code>AbstractTree</code></h3>
<div class="sect3">
<h4 id="execautocheckchildnodes"><a class="anchor" href="#execautocheckchildnodes"></a><code>execAutoCheckChildNodes</code></h4>
<div class="paragraph">
<p>Before this change, the auto-check logic was implemented in Java and JavaScript. The
<code>org.eclipse.scout.rt.client.ui.basic.tree.AbstractTree#execAutoCheckChildNodes</code> method implemented the logic
on Java side. This method was removed. The complete auto-check logic is now only on JavaScript side.</p>
</div>
</div>
<div class="sect3">
<h4 id="checking-all-nodes"><a class="anchor" href="#checking-all-nodes"></a>Checking All Nodes</h4>
<div class="paragraph">
<p>To check all nodes of a tree in java, it was possible to check the root node while <code>autoCheckChildren</code> was true.
This is no longer supported. The new best practice is to use the
<code>org.eclipse.scout.rt.client.ui.basic.tree.AbstractTree#checkAllNodes</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// No longer supported
tree.setNodeChecked(tree.getRootNode(), true);

// Use this
tree.checkAllNodes();</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ioutility-removed-duplicate-method-getfileextension"><a class="anchor" href="#ioutility-removed-duplicate-method-getfileextension"></a>IOUtility: Removed Duplicate Method getFileExtension</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Method getFileExtension from FileUtility should be used instead.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../releasenotes/release-notes.html">Release Notes</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using Antora.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
