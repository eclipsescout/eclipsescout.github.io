<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Asciidoctor 1.5.8">
  <meta name="author" content="Scout Team">
  <title>Eclipse Scout: Technical Guide</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
  <style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
 </head>
 <body class="book toc2 toc-left">
  <div id="header">
   <h1>Eclipse Scout: Technical Guide</h1>
   <div class="details">
    <span id="author" class="author">Scout Team</span>
    <br>
    <span id="email" class="email"><a href="mailto:scout-dev@eclipse.org">scout-dev@eclipse.org</a></span>
    <br>
    <span id="revnumber">version 9.0</span>
   </div>
   <div id="toc" class="toc2">
    <div id="toctitle">
     Table of Contents
    </div>
    <ul class="sectlevel1">
     <li><a href="#introduction">Introduction</a></li>
     <li><a href="#overview">1. Overview</a></li>
     <li><a href="#scout-platform">2. Scout Platform</a>
      <ul class="sectlevel2">
       <li><a href="#sec-app.lifecycle">2.1. Application Lifecycle</a></li>
       <li><a href="#sec-class.inventory">2.2. Class Inventory</a></li>
       <li><a href="#sec-bean.manager">2.3. Bean Manager</a></li>
       <li><a href="#sec-config.management">2.4. Configuration Management</a></li>
       <li><a href="#sec-app.configProperties">2.5. Scout Config Properties</a></li>
      </ul> </li>
     <li><a href="#client-model">3. Client Model</a>
      <ul class="sectlevel2">
       <li><a href="#desktop">3.1. Desktop</a></li>
       <li><a href="#multiple-dimensions-support">3.2. Multiple Dimensions Support</a></li>
      </ul> </li>
     <li><a href="#texts">4. Texts</a>
      <ul class="sectlevel2">
       <li><a href="#text-properties-files">4.1. Text properties files</a></li>
       <li><a href="#text-provider-service">4.2. Text Provider Service</a></li>
      </ul> </li>
     <li><a href="#icons">5. Icons</a>
      <ul class="sectlevel2">
       <li><a href="#using-a-custom-icon-font">5.1. Using a custom icon font</a></li>
       <li><a href="#how-to-create-a-custom-icon-font">5.2. How to create a custom icon font</a></li>
      </ul> </li>
     <li><a href="#lookup-call">6. Lookup Call</a>
      <ul class="sectlevel2">
       <li><a href="#description">6.1. Description</a></li>
       <li><a href="#input">6.2. Input</a></li>
       <li><a href="#members">6.3. Members</a></li>
       <li><a href="#type-of-lookup-calls">6.4. Type of lookup calls</a></li>
      </ul> </li>
     <li><a href="#code-type">7. Code Type</a>
      <ul class="sectlevel2">
       <li><a href="#description-2">7.1. Description</a></li>
       <li><a href="#using-a-codetype">7.2. Using a CodeType</a></li>
       <li><a href="#static-codetype">7.3. Static CodeType</a></li>
       <li><a href="#dynamic-codetype">7.4. Dynamic CodeType</a></li>
      </ul> </li>
     <li><a href="#working-with-exceptions">8. Working with exceptions</a>
      <ul class="sectlevel2">
       <li><a href="#scout-throwables">8.1. Scout Throwables</a></li>
       <li><a href="#exception-handling">8.2. Exception handling</a></li>
       <li><a href="#exception-translation">8.3. Exception translation</a></li>
       <li><a href="#exception-logging">8.4. Exception Logging</a></li>
      </ul> </li>
     <li><a href="#jobmanager">9. JobManager</a>
      <ul class="sectlevel2">
       <li><a href="#functionality">9.1. Functionality</a></li>
       <li><a href="#job">9.2. Job</a></li>
       <li><a href="#scheduling-a-job">9.3. Scheduling a Job</a></li>
       <li><a href="#jobinput">9.4. JobInput</a></li>
       <li><a href="#ifuture">9.5. IFuture</a></li>
       <li><a href="#job-states">9.6. Job states</a></li>
       <li><a href="#future-filter">9.7. Future filter</a></li>
       <li><a href="#event-filter">9.8. Event filter</a></li>
       <li><a href="#job-cancellation">9.9. Job cancellation</a></li>
       <li><a href="#subscribe-for-job-lifecycle-events">9.10. Subscribe for job lifecycle events</a></li>
       <li><a href="#awaiting-job-completion">9.11. Awaiting job completion</a></li>
       <li><a href="#uncaught-job-exceptions">9.12. Uncaught job exceptions</a></li>
       <li><a href="#blocking-condition">9.13. Blocking condition</a></li>
       <li><a href="#executionsemaphore">9.14. ExecutionSemaphore</a></li>
       <li><a href="#executiontrigger">9.15. ExecutionTrigger</a></li>
       <li><a href="#stopping-the-platform">9.16. Stopping the platform</a></li>
       <li><a href="#modeljobs">9.17. ModelJobs</a></li>
       <li><a href="#configuration">9.18. Configuration</a></li>
       <li><a href="#extending-job-manager">9.19. Extending job manager</a></li>
       <li><a href="#scheduling-examples">9.20. Scheduling examples</a></li>
      </ul> </li>
     <li><a href="#runcontext">10. RunContext</a>
      <ul class="sectlevel2">
       <li><a href="#factory-methods-to-create-a-runcontext">10.1. Factory methods to create a RunContext</a></li>
       <li><a href="#properties-of-a-runcontext">10.2. Properties of a RunContext</a></li>
       <li><a href="#properties-of-a-serverruncontext">10.3. Properties of a ServerRunContext</a></li>
       <li><a href="#properties-of-a-clientruncontext">10.4. Properties of a ClientRunContext</a></li>
      </ul> </li>
     <li><a href="#runmonitor">11. RunMonitor</a></li>
     <li><a href="#client-notifications">12. Client Notifications</a>
      <ul class="sectlevel2">
       <li><a href="#examples-2">12.1. Examples</a></li>
       <li><a href="#data-flow">12.2. Data Flow</a></li>
       <li><a href="#push-technology">12.3. Push Technology</a></li>
       <li><a href="#components">12.4. Components</a></li>
       <li><a href="#publishing">12.5. Publishing</a></li>
       <li><a href="#handling">12.6. Handling</a></li>
      </ul> </li>
     <li><a href="#extensibility">13. Extensibility</a>
      <ul class="sectlevel2">
       <li><a href="#overview-3">13.1. Overview</a></li>
       <li><a href="#extensions">13.2. Extensions</a></li>
       <li><a href="#contributions">13.3. Contributions</a></li>
       <li><a href="#move-elements">13.4. Move elements</a></li>
       <li><a href="#migration">13.5. Migration</a></li>
      </ul> </li>
     <li><a href="#mobile-support">14. Mobile Support</a>
      <ul class="sectlevel2">
       <li><a href="#responsive-and-touch-capable-widgets">14.1. Responsive and Touch Capable Widgets</a></li>
       <li><a href="#device-transformation">14.2. Device Transformation</a></li>
       <li><a href="#adapt-specific-components">14.3. Adapt specific Components</a></li>
       <li><a href="#user-agent">14.4. User Agent</a></li>
       <li><a href="#best-practices">14.5. Best Practices</a></li>
      </ul> </li>
     <li><a href="#security">15. Security</a>
      <ul class="sectlevel2">
       <li><a href="#default-http-response-headers">15.1. Default HTTP Response Headers</a></li>
       <li><a href="#session-cookie-jsessionid-cookie-configuration-validation">15.2. Session Cookie (JSESSIONID Cookie) Configuration Validation</a></li>
       <li><a href="#secure-output">15.3. Secure Output</a></li>
      </ul> </li>
     <li><a href="#cha-data-objects">16. Data Objects</a>
      <ul class="sectlevel2">
       <li><a href="#data-object-definition">16.1. Data Object Definition</a></li>
       <li><a href="#marshalling">16.2. Marshalling</a></li>
       <li><a href="#ignoring-an-attribute">16.3. Ignoring an Attribute</a></li>
       <li><a href="#handling-of-doentity-attributes">16.4. Handling of DoEntity Attributes</a></li>
       <li><a href="#abstract-data-objects-polymorphism">16.5. Abstract Data Objects &amp; Polymorphism</a></li>
       <li><a href="#rename-an-attribute-of-a-data-object-in-a-subclass">16.6. Rename an attribute of a data object in a subclass</a></li>
       <li><a href="#interfaces-to-data-objects">16.7. Interfaces to Data Objects</a></li>
       <li><a href="#equals-and-hashcode">16.8. Equals and Hashcode</a></li>
       <li><a href="#generic-doentity">16.9. Generic DoEntity</a></li>
       <li><a href="#map-of-objects">16.10. Map of objects</a></li>
       <li><a href="#idataobject-interface-data-objects-with-unknown-structure">16.11. IDataObject Interface - Data Objects with unknown structure</a></li>
       <li><a href="#ad-hoc-data-objects">16.12. Ad-Hoc Data Objects</a></li>
       <li><a href="#maven-dependencies">16.13. Maven Dependencies</a></li>
       <li><a href="#data-object-inventory">16.14. Data Object Inventory</a></li>
       <li><a href="#extending-with-custom-serializer-and-deserializer">16.15. Extending with custom serializer and deserializer</a></li>
       <li><a href="#enumerations-within-data-objects">16.16. Enumerations within Data Objects</a></li>
       <li><a href="#typed-ids-within-data-objects">16.17. Typed IDs within Data Objects</a></li>
       <li><a href="#sec-unit-testing">16.18. Unit Testing</a></li>
      </ul> </li>
     <li><a href="#cha-rest">17. REST</a>
      <ul class="sectlevel2">
       <li><a href="#rest-resource-conventions">17.1. REST Resource Conventions</a></li>
       <li><a href="#rest-resource-provider">17.2. REST Resource Provider</a></li>
       <li><a href="#dependency-management">17.3. Dependency Management</a></li>
       <li><a href="#rest-client">17.4. REST Client</a></li>
       <li><a href="#rest-cancellation-support">17.5. REST Cancellation Support</a></li>
      </ul> </li>
     <li><a href="#webservices-with-jax-ws">18. Webservices with JAX-WS</a>
      <ul class="sectlevel2">
       <li><a href="#functionality-2">18.1. Functionality</a></li>
       <li><a href="#jax-ws-implementor-and-deployment">18.2. JAX-WS implementor and deployment</a></li>
       <li><a href="#jaxws.modularization">18.3. Modularization</a></li>
       <li><a href="#build-webservice-stubs-and-artifacts">18.4. Build webservice stubs and artifacts</a></li>
       <li><a href="#provide-a-webservice">18.5. Provide a webservice</a></li>
       <li><a href="#consume-a-webservice">18.6. Consume a webservice</a></li>
       <li><a href="#jaxws.xmladapters">18.7. XML adapters to work with java.util.Date and java.util.Calendar</a></li>
       <li><a href="#jax-ws-appendix">18.8. JAX-WS Appendix</a></li>
      </ul> </li>
     <li><a href="#smtphelper">19. SmtpHelper</a>
      <ul class="sectlevel2">
       <li><a href="#smtpserverconfig">19.1. SmtpServerConfig</a></li>
       <li><a href="#sending-messages">19.2. Sending messages</a></li>
       <li><a href="#smtphelper-configuration">19.3. SmtpHelper Configuration</a></li>
       <li><a href="#connection-pooling-chapter">19.4. Connection Pooling</a></li>
       <li><a href="#smtpconnectionpool-configuration">19.5. SmtpConnectionPool Configuration</a></li>
      </ul> </li>
     <li><a href="#scout-js">20. Scout JS</a></li>
     <li><a href="#how-tos">21. How-Tos</a>
      <ul class="sectlevel2">
       <li><a href="#smartfield-how-to-apply-colors-and-styles-from-a-lookup-row">21.1. SmartField: how to apply colors and styles from a lookup-row</a></li>
      </ul> </li>
     <li><a href="#apx-cclicence">Appendix A: Licence and Copyright</a>
      <ul class="sectlevel2">
       <li><a href="#licence-summary">A.1. Licence Summary</a></li>
       <li><a href="#sec-contributing_individuals">A.2. Contributing Individuals</a></li>
       <li><a href="#full-licence-text">A.3. Full Licence Text</a></li>
      </ul> </li>
    </ul>
   </div>
  </div>
  <div id="content">
   <div class="sect1">
    <h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>This technical guide documents the Scout architecture and describes important concepts used in Scout.</p>
     </div>
     <div class="admonitionblock warning">
      <table>
       <tbody>
        <tr>
         <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td>
         <td class="content"> This document is referring to a past Scout release. Please click <a href="https://eclipsescout.github.io/stable/technical-guide.html">here</a> for the recent version.<br> Looking for something else? Visit <a href="https://eclipsescout.github.io" class="bare">https://eclipsescout.github.io</a> for all Scout related documentation. </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="admonitionblock note">
      <table>
       <tbody>
        <tr>
         <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
         <td class="content"> This document is not complete. Contributions are welcome!<br> If you like to help, please create a pull request. Thanks!<br> <br> Repository:<br> <a href="https://github.com/bsi-software/org.eclipse.scout.docs" class="bare">https://github.com/bsi-software/org.eclipse.scout.docs</a> </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="overview"><a class="anchor" href="#overview"></a>1. Overview</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>Scout is a framework for creating modern business applications. Such applications are typically separated into multiple tiers where each tier is responsible for a specific part of the application like presenting information to the user or processing business logic and persisting data. Scout solves these requirements by providing a separation of such tiers out of the box.</p>
     </div>
     <div class="imageblock">
      <div class="content">
       <img src="images/big_picture.png" alt="big picture">
      </div>
     </div>
     <div class="paragraph">
      <p>A typical Scout application consists of the following parts:</p>
     </div>
     <div class="ulist">
      <ul>
       <li> <p>A server layer responsible for persisting data on a database and possibly providing and consuming webservices. The scout server layer provides utilities to simplify the most common tasks.</p> </li>
       <li> <p>A client layer responsible for handling the Java UI code. It consists of a model represented by plain Java classes as well as services and utilities to implement behaviour associated with client code. The scout client layer provides utilities to simplify the most common tasks. For simplicity, the client model is processed in a single threaded way to avoid synchronization. Callbacks, e.g. for validating a field or calling services when opening a form run inside a <a href="#modeljobs">model job</a>.</p> </li>
       <li> <p>A UI layer responsible for rendering the client model in the browser. Since the scout UI layer already provides JavaScript/HTML/CSS code for many common UIs, the project specific code in this layer is typically quite small. Examples are specific CSS styling or a new custom input field for special purposes.</p> </li>
      </ul>
     </div>
     <div class="paragraph">
      <p>Server and client both run in a servlet container, such as <a href="http://tomcat.apache.org">Apache Tomcat</a>. They are usually deployed as separate war files in order to be able to scale them differently. However, it is also possible to create a single war file.</p>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="scout-platform"><a class="anchor" href="#scout-platform"></a>2. Scout Platform</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>Scout contains a platform which provides basic functionality required by many software applications. The following list gives some examples for which tasks the platform is responsible for:</p>
     </div>
     <div class="ulist">
      <ul>
       <li> <p><a href="#sec-app.lifecycle">Application Lifecycle Management</a></p> </li>
       <li> <p><a href="#sec-bean.manager">Object Instance Management (Bean Management)</a></p> </li>
       <li> <p><a href="#sec-config.management">Configuration Management</a></p> </li>
       <li> <p><a href="#sec-class.inventory">Application Inventory</a></p> </li>
      </ul>
     </div>
     <div class="sect2">
      <h3 id="sec-app.lifecycle"><a class="anchor" href="#sec-app.lifecycle"></a>2.1. Application Lifecycle</h3>
      <div class="paragraph">
       <p>The lifecycle of a Scout application is controlled by implementations of <code>org.eclipse.scout.rt.platform.IPlatform</code>. This interface contains methods to start and stop the application and to retrieve the <a href="#sec-bean.manager">Bean Manager</a> associated with this application. The class <code>org.eclipse.scout.rt.platform.Platform</code> provides access to the current platform instance. On first access the platform is automatically created and started.</p>
      </div>
      <div class="imageblock">
       <div class="content">
        <img src="images/platformStates.png" alt="platformStates">
       </div>
      </div>
      <div class="paragraph">
       <p>During its startup, the platform transitions through several states. Depending on the state of the platform some components may already be initialized and ready to use while others are not available yet.</p>
      </div>
      <div class="paragraph">
       <p>See enum <code>org.eclipse.scout.rt.platform.IPlatform.State</code> for a description of each state and what may be used in a certain state.</p>
      </div>
      <div class="sect3">
       <h4 id="platform-listener"><a class="anchor" href="#platform-listener"></a>2.1.1. Platform Listener</h4>
       <div class="paragraph">
        <p>To participate in the application startup or shutdown a platform listener can be created. For this a class implementing <code>org.eclipse.scout.rt.platform.IPlatformListener</code> must be created. The listener is automatically a bean and must therefore not be registered anywhere. See <a href="#sec-bean.manager">Section 2.3</a> to learn more about bean management in Scout and how the listener becomes a bean. As soon as the state of the platform changes the listener will be notified.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 1. A listener that will do some work as soon as the platform has been started.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyListener</span> <span class="directive">implements</span> IPlatformListener {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> stateChanged(PlatformEvent event) {
    <span class="keyword">if</span> (event.getState() == State.PlatformStarted) {
      <span class="comment">// do some work as soon as the platform has been started completely</span>
    }
  }
}</code></pre>
        </div>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> As platform listeners may run as part of the startup or shutdown not the full Scout platform may be available. Depending on the state some tasks cannot be performed or some platform models are not available yet! </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="sec-class.inventory"><a class="anchor" href="#sec-class.inventory"></a>2.2. Class Inventory</h3>
      <div class="paragraph">
       <p>Scout applications use an inventory containing the classes available together with some meta data about them. This allows finding classes available on the classpath by certain criteria:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>All subclasses of a certain base class (also known as type hierarchy)</p> </li>
        <li> <p>All classes having a specific annotation.</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>This class inventory can be accessed as described in listing <a href="#lst-ClassInventory">Listing 2</a>.</p>
      </div>
      <div id="lst-ClassInventory" class="listingblock">
       <div class="title">
        Listing 2. Access the Scout class inventory.
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">IClassInventory classInventory = ClassInventory.get();
<span class="comment">// get all classes below IService</span>
<span class="predefined-type">Set</span>&lt;IClassInfo&gt; services = classInventory.getAllKnownSubClasses(IService.class);
<span class="comment">// get all classes having a Bean annotation (directly on them self).</span>
<span class="predefined-type">Set</span>&lt;IClassInfo&gt; classesHavingBeanAnnot = classInventory.getKnownAnnotatedTypes(Bean.class);</code></pre>
       </div>
      </div>
      <div class="sect3">
       <h4 id="scout-xml"><a class="anchor" href="#scout-xml"></a>2.2.1. scout.xml</h4>
       <div class="paragraph">
        <p>In its static initializer, the <code>ClassInventory</code> collects classes in projects containing a resource called META-INF/scout.xml.</p>
       </div>
       <div class="paragraph">
        <p>Scanning all classes would be unnecessarily slow and consume too much memory. The file <code>scout.xml</code> is just an empty xml file. Scout itself also includes <code>scout.xml</code> files in all its projects.</p>
       </div>
       <div class="paragraph">
        <p>The format XML was chosen to allow adding exclusions in large projects, but this feature is not implemented right now.</p>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> It is recommended to add an emtpy <code>scout.xml</code> file into the META-INF folder of your projects, such that the classes are available in the 'ClassInventory'. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>Scout uses Jandex <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> to build the class inventory. The meta data to find classes can be pre-computed during build time into an index file describing the contents of the jar file. See the jandex project for details.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="sec-bean.manager"><a class="anchor" href="#sec-bean.manager"></a>2.3. Bean Manager</h3>
      <div class="paragraph">
       <p>The Scout bean manager is a dynamic registry for beans. Beans are normal Java classes usually having some meta data describing the characteristics of the class.</p>
      </div>
      <div class="paragraph">
       <p>The bean manager can be changed at any time. This means beans can be registered or unregistered while the application is running. For this the bean manager contains methods to register and unregister beans. Furthermore methods to retrieve beans are provided.</p>
      </div>
      <div class="paragraph">
       <p>The next sections describe how beans are registered, the different meta data of beans, how instances are created, how they can be retrieved and finally how the bean decoration works.</p>
      </div>
      <div class="sect3">
       <h4 id="bean-registration"><a class="anchor" href="#bean-registration"></a>2.3.1. Bean registration</h4>
       <div class="paragraph">
        <p>Usually beans are registered during application startup. The application startup can be intercepted using platform listeners as described in <a href="#platform-listener">Section 2.1.1</a>.</p>
       </div>
       <div id="lst-RegisterBeansListener" class="listingblock">
        <div class="title">
         Listing 3. A listener that registers a bean (direct class or with meta data).
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">RegisterBeansListener</span> <span class="directive">implements</span> IPlatformListener {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> stateChanged(PlatformEvent event) {
    <span class="keyword">if</span> (event.getState() == State.BeanManagerPrepared) {
      <span class="comment">// register the class directly</span>
      BEANS.getBeanManager().registerClass(BeanSingletonClass.class);
      <span class="comment">// Or register with meta information</span>
      BeanMetaData beanData = <span class="keyword">new</span> BeanMetaData(BeanClass.class).withApplicationScoped(<span class="predefined-constant">true</span>);
      BEANS.getBeanManager().registerBean(beanData);
    }
  }
}</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>There is also a predefined bean registration built into the Scout runtime. This automatically registers all classes having an <code>org.eclipse.scout.rt.platform.@Bean</code> annotation. Therefore it is usually sufficient to only annotate a class with <code>@Bean</code> to have it available in the bean manager as shown in listing <a href="#lst-NormalBeanClass">Listing 4</a>.</p>
       </div>
       <div id="lst-NormalBeanClass" class="listingblock">
        <div class="title">
         Listing 4. A normal bean
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Bean</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">BeanClass</span> {
}</code></pre>
        </div>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> As the <code>@Bean</code> annotation is an <code>java.lang.annotation.@Inherited</code> annotation, this automatically registers all child classes too. This means that also interfaces may be <code>@Bean</code> annotated making all implementations automatically available in the bean manager! Furthermore other annotations may be <code>@Bean</code> annotated making all classes holding these annotations automatically to beans as well. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> If you inherit a <code>@Bean</code> annotation from one of you super types but don&#x2019;t want to be automatically registered into the bean manger you can use the <code>org.eclipse.scout.rt.platform.@IgnoreBean</code> annotation. Those classes will then be skipped. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="sect4">
        <h5 id="tunneltoserver"><a class="anchor" href="#tunneltoserver"></a>@TunnelToServer</h5>
        <div class="paragraph">
         <p>There is a built in annotation <code>org.eclipse.scout.rt.shared.@TunnelToServer</code>. Interfaces marked with this annotation are called on the server. The server itself ignores this annotation.</p>
        </div>
        <div class="paragraph">
         <p>To achieve this a bean is registered on client side for each of those interfaces. Because the platform cannot directly create an instance for these beans a specific producer is registered which creates a proxy that delegates the call to the server. Please note that this annotation is not inherited. Therefore if an interface extends a tunnel-to-server interface and the new methods of this interface should be called on the server as well the new child interface has to repeat the annotation!</p>
        </div>
        <div class="paragraph">
         <p>The proxy is created only once for a specific interface bean.</p>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="bean-scopes"><a class="anchor" href="#bean-scopes"></a>2.3.2. Bean Scopes</h4>
       <div class="paragraph">
        <p>The most important meta data of a bean is the scope. It describes how many instances of a bean can exist in a single application. There are two different possibilities:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>Unlimited instances: Each bean retrieval results in a new instance of the bean. This is the default.</p> </li>
         <li> <p>Only one instance: There can only be one instance by Scout platform. From an application point of view this can be seen as singleton. The instance is created on first use and each subsequent retrieval of the bean results in this same cached instance.</p> </li>
        </ul>
       </div>
       <div class="paragraph">
        <p>As like all bean meta data this characteristic can be provided in two different ways:</p>
       </div>
       <div class="olist arabic">
        <ol class="arabic">
         <li> <p>With a Java annotation on the bean class as shown in the listing <a href="#lst-BeanClass">Listing 5</a>.</p> </li>
         <li> <p>With bean meta data as shown in listing <a href="#lst-RegisterBeansListener">Listing 3</a>.</p> </li>
        </ol>
       </div>
       <div id="lst-BeanClass" class="listingblock">
        <div class="title">
         Listing 5. An application scoped bean using annotations
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ApplicationScoped</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">BeanSingletonClass</span> {
}</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>So the Java annotation <code>org.eclipse.scout.rt.platform.@ApplicationScoped</code> describes a bean having singleton characteristics.</p>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> Also <code>@ApplicationScoped</code> is an <code>@Inherited</code> annotation. Therefore all child classes automatically inherit this characteristic like with the <code>@Bean</code> annotation. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="bean-creation"><a class="anchor" href="#bean-creation"></a>2.3.3. Bean Creation</h4>
       <div class="paragraph">
        <p>It is not only possible to influence the number of instances to be created (see <a href="#bean-scopes">Section 2.3.2</a>), but also to create beans eagerly, execute methods after creation (like constructors) or to delegate the bean creation completely. These topics are described in the next sections.</p>
       </div>
       <div class="sect4">
        <h5 id="eager-beans"><a class="anchor" href="#eager-beans"></a>Eager Beans</h5>
        <div class="paragraph">
         <p>By default beans are created on each request. An exception are the beans marked to be application scoped (as shown in <a href="#bean-scopes">Section 2.3.2</a>). Those beans are only created on first request (lazy). This means if a bean is never requested while the application is running, there will never be an instance of this class.</p>
        </div>
        <div class="paragraph">
         <p>But sometimes it is necessary to create beans already at the application startup (eager). This can be done by marking the bean as <code>org.eclipse.scout.rt.platform.@CreateImmediately</code>. All classes holding this annotation must also be marked as <code>@ApplicationScoped</code>! These beans will then be created as part of the application startup.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="constructors"><a class="anchor" href="#constructors"></a>Constructors</h5>
        <div class="paragraph">
         <p>Beans must have empty constructors so that the bean manager can create instances. But furthermore it is possible to mark methods with the <code>javax.annotation.@PostConstruct</code> annotation. Those methods must have no parameters and will be called after instances have been created.</p>
        </div>
        <div class="admonitionblock tip">
         <table>
          <tbody>
           <tr>
            <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
            <td class="content"> When querying the bean manager for an application scoped bean, it will always return the same instance. However, the constructor of an application scoped bean may run more than once, whereas a method annotated with @PostConstruct in an application scoped been is guaranteed to run exactly once. </td>
           </tr>
          </tbody>
         </table>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="bean-retrieval"><a class="anchor" href="#bean-retrieval"></a>2.3.4. Bean Retrieval</h4>
       <div class="paragraph">
        <p>To retrieve a bean the class <code>org.eclipse.scout.rt.platform.BEANS</code> should be used. This class provides (amongst others) the following methods:</p>
       </div>
       <div id="lst-BeanRetrieval" class="listingblock">
        <div class="title">
         Listing 6. How to get beans.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">BeanSingletonClass bean = BEANS.get(BeanSingletonClass.class);
BeanClass beanOrNull = BEANS.opt(BeanClass.class);</code></pre>
        </div>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>The <code>get()</code> method throws an exception if there is not a single bean result. So if no bean can be found or if multiple equivalent bean candidates are available this method fails!</p> </li>
         <li> <p>The <code>opt()</code> method requires a single or no bean result. It fails if multiple equivalent bean candidates are available and returns <code>null</code> if no one can be found.</p> </li>
         <li> <p>The <code>all()</code> method returns all beans in the correct order. The list may also contain no beans at all.</p> </li>
        </ul>
       </div>
       <div class="paragraph">
        <p>There are now two more annotations that have an effect on which beans are returned if multiple beans match a certain class. Consider the following example bean hierarchy:</p>
       </div>
       <div id="img-beanHierarchy" class="imageblock">
        <div class="content">
         <img src="images/beanHierarchy.png" alt="beanHierarchy">
        </div>
        <div class="title">
         Figure 1. A sample bean hierarchy.
        </div>
       </div>
       <div class="paragraph">
        <p>In this situation 4 bean candidates are available: MyServiceImpl, MyServiceMod, MySpecialVersion and AnotherVersion. But which one is returned by <code>BEANS.get(IMyService.class)</code>? Or by <code>BEANS.get(MySpecialVersion.class)</code>? This can be influenced with the <code>org.eclipse.scout.rt.platform.@Order</code> and <code>org.eclipse.scout.rt.platform.@Replace</code> annotations. The next sections describe the idea behind these annotations and gives some examples.</p>
       </div>
       <div class="sect4">
        <h5 id="order"><a class="anchor" href="#order"></a>@Order</h5>
        <div class="paragraph">
         <p>This annotation works exactly the same as in the Scout user interface where it brings classes into an order. It allows to assign a <code>double</code> value to a class. All beans of a certain type are sorted according to this value in ascending order. This means a low order value is equivalent with a low position in a list (come first).</p>
        </div>
        <div class="paragraph">
         <p>Please note that the <code>@Order</code> annotation is not inherited so that each bean must declare its own value where it fits in.</p>
        </div>
        <div class="admonitionblock tip">
         <table>
          <tbody>
           <tr>
            <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
            <td class="content"> The <code>@Order</code> annotation value may be inherited in case it replaces. See the next section for details. </td>
           </tr>
          </tbody>
         </table>
        </div>
        <div class="paragraph">
         <p>If a bean does not declare an order value, the default of <code>5000</code> is used. Scout itself uses orders from <code>4001</code> to <code>5999</code>. So for user applications the value <code>4000</code> and below can be used to declare more important beans. For testing bean mocks the value <code>-10'000</code> can be used which then usually comes before each normal Scout or application bean.</p>
        </div>
        <div class="imageblock">
         <div class="content">
          <img src="images/defaultOrders.png" alt="defaultOrders">
         </div>
        </div>
       </div>
       <div class="sect4">
        <h5 id="replace"><a class="anchor" href="#replace"></a>@Replace</h5>
        <div class="paragraph">
         <p>The <code>@Replace</code> annotation can be set to beans having another bean as super class. This means that the original bean (the super class) is no longer available in the Scout bean manager and only the new child class is returned.</p>
        </div>
        <div class="paragraph">
         <p>If the replacing bean (the child class) has no own <code>@Order</code> annotation defined but the replaced bean (the super class) has an <code>@Order</code> value, this order is inherited to the child. This is the only special case in which the <code>@Order</code> annotation value is inherited!</p>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="examples"><a class="anchor" href="#examples"></a>2.3.5. Examples</h4>
       <div class="paragraph">
        <p>The next examples use the bean situation as shown in figure <a href="#img-beanHierarchy">Figure 1</a>. In this situation the bean manager actually contains 3 beans:</p>
       </div>
       <div class="olist arabic">
        <ol class="arabic">
         <li> <p><code>AnotherVersion</code> with <code>@Order</code> of 4000. This bean has no own order and would therefore get the default order of 5000. But because it is replacing another bean it inherits its order.</p> </li>
         <li> <p><code>MyServiceMod</code> with <code>@Order</code> of 4500. This bean declares its own order.</p> </li>
         <li> <p><code>MyServiceImpl</code> with <code>@Order</code> of 5000. This bean gets the default order of 5000 because it does not declare an order.</p> </li>
        </ol>
       </div>
       <div class="paragraph">
        <p>The bean <code>MySpecialVersion</code> is not part of the bean manager because it has been replaced by <code>AnotherVersion</code>.</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p><code>BEANS.get(IMyService.class)</code>: Returns <code>AnotherVersion</code> instance. The result cannot be an exact match because the requested type is an interface. Therefore of all candidates there is one single candidate with lowest order (comes first).</p> </li>
         <li> <p><code>BEANS.get(MyServiceImpl.class)</code>: Returns <code>MyServiceImpl</code> because there is an exact match available.</p> </li>
         <li> <p><code>BEANS.get(MySpecialVersion.class)</code>: Returns <code>AnotherVersion</code>. The result cannot be an exact match because there is no exact bean with this class in the bean manager (<code>MySpecialVersion</code> has been replaced). Therefore only <code>AnotherVersion</code> remains as candidate in the hierarchy below <code>MySpecialVersion</code>.</p> </li>
         <li> <p><code>BEANS.get(MyServiceMod.class)</code>: Returns <code>MyServiceMod</code> because there is no other candidate.</p> </li>
         <li> <p><code>BEANS.all(IMyService.class)</code>: Returns a list with all beans sorted by <code>@Order</code>. This results in: <code>AnotherVersion</code>, <code>MyServiceMod</code>, <code>MyServiceImpl</code>.</p> </li>
        </ul>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> If <code>MyServiceMod</code> would have no <code>@Order</code> annotation, there would be two bean candidates available with the same default order of 5000: <code>MyServiceImpl</code> and <code>MyServiceMod</code>. In this case a call to <code>BEANS.get(IMyService.class)</code> would fail because there are several equivalent candidates. Equivalent candidates means they have the same <code>@Order</code> value and the system cannot decide which one is the right one. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="bean-decoration"><a class="anchor" href="#bean-decoration"></a>2.3.6. Bean Decoration</h4>
       <div class="paragraph">
        <p>Bean decorations allow to wrap interfaces with a proxy to intercept each method call to the interface of a bean and apply some custom logic. For this a <code>IBeanDecorationFactory</code> has to be implemented. This is one single factory instance for the entire application. It decides which decorators are created for a bean request. The factory is asked for decorators on every bean retrieval. This allows to write bean decoration factories depending on dynamic conditions.</p>
       </div>
       <div class="paragraph">
        <p>As bean decoration factories are beans themselves, it is sufficient to create an implementation of <code>org.eclipse.scout.rt.platform.IBeanDecorationFactory</code> and to ensure this implementation is used (see <a href="#bean-retrieval">Section 2.3.4</a>). This factory receives the bean to be decorated and the originally requested bean class to decide which decorators it should create. In case no decoration is required the factory may return <code>null</code>. Then the original bean is used without decorations.</p>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> Decorations are only supported if the class obtained by the bean manager (e.g. by using <code>BEANS.get()</code>) is an interface! </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> It is best practice to mark all annotations that are interpreted in the bean decoration factory with the annotation <code>org.eclipse.scout.rt.platform.@BeanInvocationHint</code>. However this annotation has no effect at runtime and is only for documentation reasons. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>The sample in listing <a href="#lst-BeanDecorationFactory">Listing 7</a> wraps each call to the server with a profiler decorator that measures how long a server call takes.</p>
       </div>
       <div id="lst-BeanDecorationFactory" class="listingblock">
        <div class="title">
         Listing 7. Bean decoration example.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Replace</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ProfilerDecorationFactory</span> <span class="directive">extends</span> SimpleBeanDecorationFactory {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> &lt;T&gt; IBeanDecorator&lt;T&gt; decorate(IBean&lt;T&gt; bean, <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> T&gt; queryType) {
    <span class="keyword">return</span> <span class="keyword">new</span> BackendCallProfilerDecorator&lt;&gt;(<span class="local-variable">super</span>.decorate(bean, queryType));
  }
}
<span class="directive">public</span> <span class="type">class</span> <span class="class">BackendCallProfilerDecorator</span>&lt;T&gt; <span class="directive">implements</span> IBeanDecorator&lt;T&gt; {
  <span class="directive">private</span> <span class="directive">final</span> IBeanDecorator&lt;T&gt; m_inner;
  <span class="directive">public</span> BackendCallProfilerDecorator(IBeanDecorator&lt;T&gt; inner) {
    m_inner = inner;
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">Object</span> invoke(IBeanInvocationContext&lt;T&gt; context) {
    <span class="directive">final</span> <span class="predefined-type">String</span> className;
    <span class="keyword">if</span> (context.getTargetObject() == <span class="predefined-constant">null</span>) {
      className = context.getTargetMethod().getDeclaringClass().getSimpleName();
    }
    <span class="keyword">else</span> {
      className = context.getTargetObject().getClass().getSimpleName();
    }
    <span class="predefined-type">String</span> timerName = className + <span class="string"><span class="delimiter">'</span><span class="content">.</span><span class="delimiter">'</span></span> + context.getTargetMethod().getName();
    TuningUtility.startTimer();
    <span class="keyword">try</span> {
      <span class="keyword">if</span> (m_inner != <span class="predefined-constant">null</span>) {
        <span class="comment">// delegate to the next decorator in the chain</span>
        <span class="keyword">return</span> m_inner.invoke(context);
      }
      <span class="comment">// forward to real bean</span>
      <span class="keyword">return</span> context.proceed();
    }
    <span class="keyword">finally</span> {
      TuningUtility.stopTimer(timerName);
    }
  }
}</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="destroy-beans"><a class="anchor" href="#destroy-beans"></a>2.3.7. Destroy Beans</h4>
       <div class="paragraph">
        <p>Application scoped beans can declare methods annotated with <code>javax.annotation.@PreDestroy</code>. These methods will be called when the Scout platform is stopping. The methods may have any visibility modifier but must not be static and must not declare any parameters. If such a pre-destroy method throws an exception, the platform will continue to call all other pre-destroy methods (even methods on the same bean).</p>
       </div>
       <div class="paragraph">
        <p>Please note that pre-destroy methods are only called for application-scoped beans that already have created their instance.</p>
       </div>
       <div class="paragraph">
        <p>Pre-destroy methods inherited from super classes are always called after the ones from the class itself. Methods that are overridden are only called on the leaf class. Private methods are always called (because they cannot be overridden). The order in which multiple methods in the same declaring class are called is undefined.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="sec-config.management"><a class="anchor" href="#sec-config.management"></a>2.4. Configuration Management</h3>
      <div class="paragraph">
       <p>Applications usually require some kind of configuration mechanism to use the same binaries in a different environment or situation. Scout applications provide a configuration mechanism using properties files <sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>.</p>
      </div>
      <div class="paragraph">
       <p>For each property a class cares about default values and value validation. These classes share the <code>org.eclipse.scout.rt.platform.config.IConfigProperty</code> interface and are normal application scoped beans providing access to a specific configuration value as shown in listing <a href="#lst-ConfigProperties">Listing 8</a>. If the property class is an inner class it has to be defined as a static class with the <code>static</code> modifier.</p>
      </div>
      <div id="lst-ConfigProperties" class="listingblock">
       <div class="title">
        Listing 8. A configuration property of type Long.
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.eclipse.scout.rt.platform.config.AbstractLongConfigProperty</span>;
<span class="comment">/** * Property of data type {@link Long} with key 'my.custom.timeout' and default value '3600L'. */</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyCustomTimeoutProperty</span> <span class="directive">extends</span> AbstractLongConfigProperty {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> getKey() {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">my.custom.timeout</span><span class="delimiter">"</span></span>; <i class="conum" data-value="1"></i><b>(1)</b>
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> description() {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">Description of the custom timeout property. The default value is 3600.</span><span class="delimiter">"</span></span>;
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">Long</span> getDefaultValue() {
    <span class="keyword">return</span> <span class="integer">3600L</span>; <i class="conum" data-value="2"></i><b>(2)</b>
  }
}</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>key</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>default value</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>To read the configured value you can use the <code>CONFIG</code> class as demonstrated in <a href="#lst-getPropertyValue">Listing 9</a>.</p>
      </div>
      <div id="lst-getPropertyValue" class="listingblock">
       <div class="title">
        Listing 9. Read the configured value in your code.
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Long</span> value = CONFIG.getPropertyValue(MyCustomTimeoutProperty.class);</code></pre>
       </div>
      </div>
      <div class="sect3">
       <h4 id="property-resolution"><a class="anchor" href="#property-resolution"></a>2.4.1. Property resolution</h4>
       <div class="paragraph">
        <p>The given property key is searched in the following environments:</p>
       </div>
       <div class="olist arabic">
        <ol class="arabic">
         <li> <p>In the system properties (<code>java.lang.System.getProperty(String)</code>).</p> </li>
         <li> <p>In the environment variables of the system (<code>java.lang.System.getenv(String)</code>).</p> </li>
         <li> <p>In the properties file. The properties file can be</p>
          <div class="olist loweralpha">
           <ol class="loweralpha" type="a">
            <li> <p>a file on the local filesystem where the system property with key <code>config.properties</code> holds an absolute URL to the file or</p> </li>
            <li> <p>a file on the classpath with path <code>/config.properties</code> (recommended).</p> </li>
           </ol>
          </div> </li>
         <li> <p>If none of the above is found, the default value of the property is applied.</p> </li>
        </ol>
       </div>
       <div class="paragraph">
        <p>Supported formats are simple key-value pairs, list values and map values. For more details about the format please refer to the JavaDoc of the <code>org.eclipse.scout.rt.platform.config.PropertiesHelper</code> class.</p>
       </div>
       <div class="paragraph">
        <p>Since the environment variable names are more restrictive in many shells and systems than the property names in Java, overriding a property containing a dot/period (<code>.</code>) with an environment variable would not be possible. To still allow overriding of such properties, the folllowing lookup rules are applied in-order to find a matching environment variable:</p>
       </div>
       <div class="olist arabic">
        <ol class="arabic">
         <li> <p>An exact match of your property key (<code>my.property</code>)</p> </li>
         <li> <p>A match where periods are replaced by underscores (<code>my_property</code>)</p> </li>
         <li> <p>An uppercase match of your property key (<code>MY.PROPERTY</code>)</p> </li>
         <li> <p>An uppercase match where periods are replaced by underscores (<code>MY_PROPERTY</code>)</p> </li>
        </ol>
       </div>
       <div class="paragraph">
        <p>A properties file may import other config files from the classpath or any other absolute URL. This is done using the special key <code>import</code>. It can be a single value or a list:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p><code>import[0]=classpath:myConfigs/other.properties</code></p> </li>
         <li> <p><code>import[1]=file:/C:/path/to/my/settings.properties</code></p> </li>
         <li> <p><code>import[2]=file:${catalina.base}/conf/db_connection.properties</code></p> </li>
        </ul>
       </div>
       <div class="paragraph">
        <p>Scout already has some config properties. For a list and the corresponding documentation see <a href="#sec-app.configProperties">Section 2.5</a>.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="additional-examples"><a class="anchor" href="#additional-examples"></a>2.4.2. Additional examples</h4>
       <div class="paragraph">
        <p>Because the property classes are managed by the bean manager, you can use all the mechanisms to change the behavior (<code>@Replace</code> in particular).</p>
       </div>
       <div class="paragraph">
        <p><a href="#lst-PropertyConstant">Listing 10</a> demonstrates how you can use the replace annotation to change the existing <code>ApplicationNameProperty</code> class. The value is no longer fetched via the config mechanism, because the <code>getValue(String)</code> method is overridden. In this case a fixed value is returned.</p>
       </div>
       <div id="lst-PropertyConstant" class="listingblock">
        <div class="title">
         Listing 10. Property class providing a constant value.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.eclipse.scout.rt.platform.IgnoreBean</span>;
<span class="keyword">import</span> <span class="include">org.eclipse.scout.rt.platform.Replace</span>;
<span class="keyword">import</span> <span class="include">org.eclipse.scout.rt.platform.config.PlatformConfigProperties.ApplicationNameProperty</span>;
<span class="annotation">@Replace</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ApplicationNameConstant</span> <span class="directive">extends</span> ApplicationNameProperty {
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">String</span> readFromSource(<span class="predefined-type">String</span> namespace) {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">Contacts Application</span><span class="delimiter">"</span></span>;
  }
}</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>The next example presented in <a href="#lst-PropertyRedirection">Listing 11</a> uses the same idea. In this case, the <code>getKey()</code> method is overridden to read the value from an other key as demonstrated is the <a href="#lst-PropertyRedirectionConfig">Listing 12</a>.</p>
       </div>
       <div id="lst-PropertyRedirection" class="listingblock">
        <div class="title">
         Listing 11. Property class reading the value from an other key.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.eclipse.scout.rt.platform.IgnoreBean</span>;
<span class="keyword">import</span> <span class="include">org.eclipse.scout.rt.platform.Replace</span>;
<span class="keyword">import</span> <span class="include">org.eclipse.scout.rt.platform.config.PlatformConfigProperties.ApplicationNameProperty</span>;
<span class="annotation">@Replace</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ApplicationNamePropertyRedirection</span> <span class="directive">extends</span> ApplicationNameProperty {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> getKey() {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">myproject.applicationName</span><span class="delimiter">"</span></span>;
  }
}</code></pre>
        </div>
       </div>
       <div id="lst-PropertyRedirectionConfig" class="listingblock">
        <div class="title">
         Listing 12. Read the configured value in your code.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="properties">### Redirected Application Config
myproject.applicationName=My Project Application</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="configuration-validation"><a class="anchor" href="#configuration-validation"></a>2.4.3. Configuration validation</h4>
       <div class="paragraph">
        <p>During the Platform startup all classes implementing the interface <code>org.eclipse.scout.rt.platform.config.IConfigurationValidator</code> are asked to validate configuration provided in the <code>config.properties</code> files. If there is at least one <code>IConfigurationValidator</code> that accepts a given key-value-pair the configuration is considered to be valid. Otherwise the platform will not start.</p>
       </div>
       <div class="paragraph">
        <p>The concrete implementation <code>org.eclipse.scout.rt.platform.config.ConfigPropertyValidator</code> will also check if a configured value matches the default value. In case it does an info message (warn in development mode) will be logged but the platform will still start. To minimize configuration files such entries should be removed from <code>config.properties</code> files.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="sec-app.configProperties"><a class="anchor" href="#sec-app.configProperties"></a>2.5. Scout Config Properties</h3>
      <table class="tableblock frame-all grid-all stretch">
       <caption class="title">
        Table 1. Config Properties
       </caption>
       <colgroup>
        <col style="width: 25%;">
        <col style="width: 50%;">
        <col style="width: 12.5%;">
        <col style="width: 12.5%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">Key</th>
         <th class="tableblock halign-left valign-top">Description</th>
         <th class="tableblock halign-left valign-top">Data Type</th>
         <th class="tableblock halign-left valign-top">Kind</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.application.name</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The display name of the application. Used e.g. in the info form and the diagnostic views. The default value is <code>unknown</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.application.version</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The application version as displayed to the user. Used e.g. in the info form and the diagnostic views. The default value is <code>0.0.0</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.anonymousEnabled</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if the <code>AnonymousAccessController</code> is enabled. Therefore if a security filter uses this controller no login is required.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.cookieEnabled</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if the <code>CookieAccessController</code> is enabled.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.cookieMaxAge</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If the <code>CookieAccessController</code> is enabled, specifies the maximum age in seconds for the cookie.</p> <p class="tableblock">A positive value indicates that the cookie will expire after that many seconds have passed.</p> <p class="tableblock">A negative value means that the cookie is not stored persistently and will be deleted when the Web browser exits. A zero value causes the cookie to be deleted.</p> <p class="tableblock">The default value is 10 hours.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.cookieName</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If the <code>CookieAccessController</code> is enabled, specifies the name for the cookie.</p> <p class="tableblock">The name must conform to RFC 2109. However, vendors may provide a configuration option that allows cookie names conforming to the original Netscape Cookie Specification to be accepted.</p> <p class="tableblock">By default <code>sso.user.id</code> is used as cookie name.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.cookieSessionValidateSecure</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if the UI server should ensure a secure cookie configuration of the webapp.</p> <p class="tableblock">If enabled the application validates that the <code>httpOnly</code> and <code>Secure</code> flags are set in the cookie configuration in the web.xml.</p> <p class="tableblock">This property should be disabled if no secure connection (https) is used to the client browser (not recommended).</p> <p class="tableblock">The default value is true.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.credentials</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the known credentials (username &amp; passwords) of the <code>org.eclipse.scout.rt.platform.security.ConfigFileCredentialVerifier</code>.</p> <p class="tableblock">Credentials are separated by semicolon. Username and password information are separated by colon. Usernames are case-insensitive and it is recommended that they should only consist of ASCII characters. Plain text passwords are case-sensitive.</p> <p class="tableblock">By default the password information consists of Base64 encoded salt followed by a dot followed by the Base64 encoded SHA-512 hash of the password (using UTF-16).</p> <p class="tableblock">Example: username1:base64EncodedSalt.base64EncodedPasswordHash;username2:base64EncodedSalt.base64EncodedPasswordHash</p> <p class="tableblock">To create a salt and hash tuples based on a clear text password use the <code>org.eclipse.scout.rt.platform.security.ConfigFileCredentialVerifier.main()</code> method that can be invoked from the command line.</p> <p class="tableblock">If <code>scout.auth.credentialsPlaintext</code> is set to <code>true</code> the password information just consists of the cleartext password.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.credentialsPlaintext</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if the passwords specified in property <code>scout.auth.credentials</code> is plaintext (not recommended) or hashed. A value of false indicates hashed passwords which is the default.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.privateKey</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the Base64 encoded private key for signing requests from the UI server to the backend server. By validating the signature the server can ensure the request is trustworthy.</p> <p class="tableblock">Furthermore the CookieAccessController uses this private key to sign the cookie.</p> <p class="tableblock">New public-private-key-pairs can be created by invoking the class <code>org.eclipse.scout.rt.platform.security.SecurityUtility</code> on the command line.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Base64 encoded String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.publicKey</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the Base64 encoded public key used to validate signed requests on the backend server. The public key must match the private key stored in the property <code>scout.auth.privateKey</code> on the UI server.</p> <p class="tableblock">New public-private-key-pairs can be created by invoking the class <code>org.eclipse.scout.rt.platform.security.SecurityUtility</code> on the command line.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Base64 encoded String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.auth.tokenTtl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Number of milliseconds a signature on a request from the UI server to the backend server is valid (TTL for the authentication token). If a request is not received within this time, it is rejected.</p> <p class="tableblock">By default this property is set to 10 minutes.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.backendUrl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The URL of the scout backend server (without any servlets). E.g.: <a href="http://localhost:8080" class="bare">http://localhost:8080</a></p> <p class="tableblock">By default this property is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.client.jobCompletionDelayOnSessionShutdown</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the maximal time (in seconds) to wait until running jobs are cancelled on session shutdown.</p> <p class="tableblock">Should be smaller than <code>scout.ui.sessionstore.housekeepingMaxWaitForShutdown</code>.</p> <p class="tableblock">The default value is 10 seconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.client.memoryPolicy</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies how long the client keeps fetched data before it is discarded. One of <code>small</code>, <code>medium</code> or <code>large</code>. The default value is <code>large</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.client.notificationSubject</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Technical subject under which received client notifications are executed.</p> <p class="tableblock">By default <code>notification-authenticator</code> is used.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Subject name as String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.client.testingSessionTtl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Testing client session expiration in milliseconds. The default value is 1 day.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.client.userArea</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">User data area (e.g. in the user home) to store user preferences. If nothing is specified the user home of the operating system is used. By default no user home is set.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.clientnotification.chunkSize</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of client notifications that are consumed at once. The default is 30.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.clientnotification.maxNotificationBlockingTimeOut</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The maximum amount of time in millisecons a consumer blocks while waiting for new notifications. The default is 10 seconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.clientnotification.nodeQueueCapacity</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Capacity of the client notification queue. If maximum capacity is reached, notification messages are dropped. The default value is 200.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.clientnotification.notificationQueueExpireTime</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If no message is consumed for the specified number of milliseconds, client notification queues (with possibly pending notifications) are removed.</p> <p class="tableblock">This avoids overflows and unnecessary memory consumption. Old queues may exist if a node does not properly unregister (e.g. due to a crash).</p> <p class="tableblock">The default value is 10 minutes.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.clustersync.user</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Technical subject under which received cluster sync notifications are executed. The default value is <code>system</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.createTunnelToServerBeans</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if the Scout platform should create proxy beans for interfaces annotated with <code>TunnelToServer</code>. Calls to beans of such types are then tunneled to the Scout backend.</p> <p class="tableblock">By default this property is enabled if the property <code>scout.servicetunnel.targetUrl</code> is set.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.cspDirective</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Configures individual Content Security Policy (CSP) directives.</p> <p class="tableblock">See <a href="https://www.w3.org/TR/CSP2/" class="bare">https://www.w3.org/TR/CSP2/</a> and the Bean <code>org.eclipse.scout.rt.server.commons.servlet.ContentSecurityPolicy</code> for more details.</p> <p class="tableblock">The value must be provided as a Map.</p> <p class="tableblock">Example: scout.cspDirective[img-src]=<code>self</code> data: https: <a href="http://localhost:8086" class="bare">http://localhost:8086</a></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.cspEnabled</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Enable or disable Content Security Policy (CSP) headers. The headers can be modified by replacing the bean <code>org.eclipse.scout.rt.server.commons.servlet.ContentSecurityPolicy</code> or using the property <code>scout.cspDirective</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.devMode</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Property to specify if the application is running in development mode. Default is false.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.externalBaseUrl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Absolute URL to the deployed http(s):// base of the web-application. The URL should include proxies, redirects, etc.</p> <p class="tableblock">Example: <a href="https://www.my-company.com/my-scout-application/" class="bare">https://www.my-company.com/my-scout-application/</a>.</p> <p class="tableblock">This URL is used to replace <code>&lt;scout:base /&gt;</code> tags.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.healthCheckRemoteUrls</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Comma separated list of URLs the <code>RemoteHealthChecker</code> should access.</p> <p class="tableblock">By default no URLs are set.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.http.connectionTtl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the maximum life time in milliseconds for kept alive connections of the Apache HTTP client. The defautl value is 1 hour.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.http.ignoreProxyPatterns</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Configure the proxy ignore list for the ConfigurableProxySelector. If an URI matches the pattern no proxy connection is used.</p> <p class="tableblock">By default no proxy is configured.</p> <p class="tableblock">Example:</p> <p class="tableblock">scout.http.ignoreProxyPatterns[0]=https?://localhost(?::\d+)?(?:/.*)?</p> <p class="tableblock">scout.http.ignoreProxyPatterns[1]=&#x2026;&#x200b;</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.http.keepAlive</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Enable/disable HTTP keep-alive connections.</p> <p class="tableblock">The default value is defined by the system property <code>http.keepAlive</code> or true if the system property is undefined.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.http.maxConnectionsPerRoute</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Configuration property to define the default maximum connections per route of the Apache HTTP client. The default value is 32.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.http.maxConnectionsTotal</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the total maximum connections of the Apache HTTP client. The default value is 128.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.http.proxyPatterns</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Configure proxies for the <code>ConfigurableProxySelector</code>. If an URI matches a pattern the corresponding proxy will be used.</p> <p class="tableblock">By default no proxy is used.</p> <p class="tableblock">The property value is of the format REGEXP_FOR_URI=PROXY_HOST:PROXY_PORT</p> <p class="tableblock">Example:</p> <p class="tableblock">scout.http.proxyPatterns[0]=.*\.example.com(:\d+)?=127.0.0.1:8888</p> <p class="tableblock">scout.http.proxyPatterns[1]=.*\.example.org(:\d+)?=proxy.company.com</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.http.transportFactory</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name of the HTTP transport factory the application uses. The class must implement <code>org.eclipse.scout.rt.shared.http.IHttpTransportFactory</code>.</p> <p class="tableblock">By default <code>org.eclipse.scout.rt.shared.http.ApacheHttpTransportFactory</code> is used.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name. The class must have <code>org.eclipse.scout.rt.shared.http.IHttpTransportFactory</code> in its super hierarchy.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jandex.rebuild</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if Jandex indexes should be rebuilt. Is only necessary to enable during development when the class files change often. The default value is false.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.consumer.connectTimeout</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Connect timeout in milliseconds to abort a webservice request, if establishment of the connection takes longer than this timeout. A timeout of null means an infinite timeout. The default value is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.consumer.portCache.corePoolSize</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Number of ports to be preemptively cached to speed up webservice calls. The default value is 10.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.consumer.portCache.enabled</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether to use a preemptive port cache for webservice clients.</p> <p class="tableblock">Depending on the implementor used, cached ports may increase performance, because port creation is an expensive operation due to WSDL and schema validation.</p> <p class="tableblock">The cache is based on a <code>corePoolSize</code>, meaning that that number of ports is created on a preemptive basis. If more ports than that number is required, they are are created on demand and also added to the cache until expired, which is useful at a high load.</p> <p class="tableblock">The default value is true.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.consumer.portCache.ttl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Maximum time in seconds to retain ports in the cache if the value of <code>scout.jaxws.consumer.portCache.corePoolSize</code> is exceeded. That typically occurs at high load, or if <code>scout.jaxws.consumer.portCache.corePoolSize</code> is undersized. The default value is 15 minutes.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.consumer.portPoolEnabled</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">To indicate whether to pool webservice clients.</p> <p class="tableblock">Creating new service and Port instances is expensive due to WSDL and schema validation. Using the pool helps reducing these costs. The default value is true.</p> <p class="tableblock">The pool size is unlimited but its elements are removed after a certain time (configurable)</p> <p class="tableblock">If this value is true, the value of property <code>scout.jaxws.consumer.portCache.enabled</code> has no effect.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.consumer.readTimeout</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Read timeout in milliseconds to abort a webservice request, if it takes longer than this timeout for data to be available for read. A timeout of null means an infinite timeout. The default value is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.implementor</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name of the JAX-WS implementor to use. The class must extend <code>org.eclipse.scout.rt.server.jaxws.implementor.JaxWsImplementorSpecifics</code>.</p> <p class="tableblock">By default, JAX-WS Metro (not bundled with JRE) is used. For that to work, add the Maven dependency to JAX-WS Metro to your server application`s pom.xml: com.sun.xml.ws:jaxws-rt:2.2.10.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name. The class must have <code>org.eclipse.scout.rt.server.jaxws.implementor.JaxWsImplementorSpecifics</code> in its super hierarchy.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.implementor</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name of the JAX-WS implementor to use. The class must extend <code>org.eclipse.scout.rt.server.jaxws.implementor.JaxWsImplementorSpecifics</code>.</p> <p class="tableblock">By default, JAX-WS Metro (not bundled with JRE) is used. For that to work, add the Maven dependency to JAX-WS Metro to your server application`s pom.xml: com.sun.xml.ws:jaxws-rt:2.2.10.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name. The class must have <code>org.eclipse.scout.rt.server.jaxws.implementor.JaxWsImplementorSpecifics</code> in its super hierarchy.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.loghandlerDebug</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether to log SOAP messages in debug or info level. The default value is false.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.provider.authentication.basicRealm</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Security Realm used for Basic Authentication; used by <code>org.eclipse.scout.rt.server.jaxws.provider.auth.method.BasicAuthenticationMethod</code>. The default value is <code>JAX-WS</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.provider.user.authenticator</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Technical Subject used to authenticate webservice requests. The default value is <code>jaxws-authenticator</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Subject name as String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jaxws.provider.user.handler</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Technical subject used to invoke JAX-WS handlers if the request is not authenticated yet; used by <code>org.eclipse.scout.rt.server.jaxws.provider.handler.HandlerDelegate</code>.</p> <p class="tableblock">The default value is <code>jaxws-handler</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Subject name as String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jobmanager.allowCoreThreadTimeOut</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether threads of the core-pool should be terminated after being idle for longer than the value of property <code>scout.jobmanager.keepAliveTime</code>. The defautl value is false.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jobmanager.corePoolSize</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The number of threads to keep in the pool, even if they are idle. The default value is 25.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jobmanager.keepAliveTime</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The time limit (in seconds) for which threads, which are created upon exceeding the <code>scout.jobmanager.corePoolSize</code> limit, may remain idle before being terminated. The default value is 1 minute.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jobmanager.maximumPoolSize</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The maximal number of threads to be created once the value of <code>scout.jobmanager.corePoolSize</code> is exceeded. The default value is unlimited (which means limited by the resources of the machine).</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.jobmanager.prestartCoreThreads</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether all threads of the core-pool should be started upon job manager startup, so that they are idle waiting for work.</p> <p class="tableblock">By default this is disabled in development mode (property <code>scout.devMode</code> is true) and enabled otherwise.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.mom.cluster.destination.clusterNotificationTopic</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Name of the topic for cluster notifications published by scout application.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">IDestination</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.mom.cluster.destination.clusterNotificationTopic</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Name of the topic for cluster notifications published by scout application.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">IDestination</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.mom.cluster.environment</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Contains the configuration to connect to the network or broker. This configuration is specific to the MOM implementor</p> <p class="tableblock">Example to connect to a peer based cluster, which is useful in development mode because there is no central broker:</p> <p class="tableblock">scout.mom.cluster.environment[scout.mom.name]=Scout Cluster MOM</p> <p class="tableblock">scout.mom.cluster.environment[scout.mom.connectionfactory.name]=ClusterMom</p> <p class="tableblock">scout.mom.cluster.environment[java.naming.factory.initial]=org.apache.activemq.jndi.ActiveMQInitialContextFactory</p> <p class="tableblock">scout.mom.cluster.environment[java.naming.provider.url]=failover:(peer://mom/cluster?persistent=false)</p> <p class="tableblock">scout.mom.cluster.environment[connectionFactoryNames]=ClusterMom</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.mom.cluster.implementor</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the MOM implementor.</p> <p class="tableblock">Example to work with a JMS based implementor:</p> <p class="tableblock">scout.mom.cluster.implementor=org.eclipse.scout.rt.mom.jms.JmsMomImplementor</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name. The class must have <code>org.eclipse.scout .rt.mom.api.IMomImplementor</code> in its super hierarchy.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.mom.marshaller</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the default Marshaller to use if no marshaller is specified for a MOM or a destination. By default the <code>JsonMarshaller</code> is used.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name. The class must have <code>org.eclipse.scout .rt.mom.api.marshaller.IMarshaller</code> in its super hierarchy.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.mom.requestreply.cancellationTopic</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the default topic to receive cancellation request for <code>request-reply</code> communication. By default, a defined topic with the name <code>scout.mom.requestreply.cancellation</code> is used.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">IDestination</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.mom.requestreply.enabled</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if <code>request-reply</code> messaging is enabled by default. This value can also be configured individually per MOM. The default value is true.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.nodeId</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the cluster node name. If not specified a default id is computed.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.permissionLevelCacheTtl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Time to live for level permission check caching in milliseconds.</p> <p class="tableblock">If calculating the permission level for a permission instance, it can be internally cached. This caching is typically useful in a client and should be relative small (few minutes). If no value is set, caching is disabled.</p> <p class="tableblock">As default, no time to live is set and therefore caching is disabled.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.remotefileRootPath</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Absolute path to the root directory of the <code>RemoteFileService</code>. The default value is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.serverSessionTtl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Server sessions that have not been accessed for the specified number of milliseconds are removed from the cache. The default value is one day.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.servicetunnel.compress</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if the service tunnel should compress the data. If null, the response decides which is default to true.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.servicetunnel.maxConnectionsPerRoute</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the default maximum connections per route property for the HTTP service tunnel.</p> <p class="tableblock">Overrides the value from <code>scout.http.maxConnectionsPerRoute</code> for the service tunnel.</p> <p class="tableblock">Default value is 2048.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.servicetunnel.maxConnectionsTotal</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the default total maximum connections property for the HTTP service tunnel.</p> <p class="tableblock">Overrides the value from <code>scout.http.maxConnectionsTotal</code> for the service tunnel.</p> <p class="tableblock">The default value is 2048.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.servicetunnel.targetUrl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the URL to the ServiceTunnelServlet on the backend server.</p> <p class="tableblock">By default this property points to the value of property <code>scout.backendUrl</code> with <code>/process</code> appended.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.smtp.debugReceiverEmail</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If specified all emails are sent to this address instead of the real one. This may be useful during development to not send emails to real users by accident.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.smtp.connectionTimeout</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Socket connection timeout value in milliseconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.smtp.readTimeout</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Socket read timeout value in milliseconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.directJdbcConnection</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If true a direct JDBC connection is created. Otherwise a JNDI connection is used. The default value is true.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jdbc.driverName</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The driver name to use. By default <code>oracle.jdbc.OracleDriver</code> is used.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jdbc.mappingName</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The JDBC mapping name. By default <code>jdbc:oracle:thin:@localhost:1521:ORCL</code> is used.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jdbc.pool.connectionBusyTimeout</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Connections will be closed after this timeout in milliseconds even if the connection is still busy. The default value is 6 hours.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jdbc.pool.connectionIdleTimeout</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Idle connections will be closed after this timeout in milliseconds. The default value is 5 minutes.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jdbc.pool.size</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of connections to create. The default pool size is 25.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jdbc.properties</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Semicolon separated list of properties to pass to the JDBC connection. The default value is null. E.g.: key1=val1;key2=val2</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jdbc.statementCacheSize</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of cached SQL statements. The default value is 25.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jndi.initialContextFactory</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The name of the object to lookup in the JNDI context. Default is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jndi.name</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The name of the object to lookup in the JNDI context. Default is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jndi.providerUrl</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">JNDI provider url (e.g. <code>ldap://somehost:389</code>). Default is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.jndi.urlPkgPrefixes</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">A colon-separated list of package prefixes for the class name of the factory class that will create a URL context factory. Default is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.password</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The password to connect to the database (JDBC or JNDI)</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.transactionMemberId</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Id of the transaction member on which the connection is available.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.sql.username</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The username to connect to the database (JDBC or JNDI)</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.texts.showKeys</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If this property is set to true, the <code>TextKeyTextProviderService</code> will be registered with high priority, and each call to TEXTS.get() will return the given text key instead of the translation.</p> <p class="tableblock">This is useful for debug/testing purposes or exporting forms to JSON.</p> <p class="tableblock">By default this property is false.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.tiles.maxConcurrentDataLoadThreads</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of threads per server that can be created to load tiles. The default value is 25.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.tiles.dataLoadQueueTimeoutSeconds</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of seconds a tile load job can execute until it is automatically cancelled. The default value is 2 minutes.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.trustedCertificates</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">URIs to DER (Base64) encoded certificate files that should be trusted. The URI may refer to a local file or a resource on the classpath (use classpath: prefix). The default value is an empty list.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">List of Strings</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.backgroundPollingMaxWaitTime</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The polling request (which waits for a background job to complete) stays open until a background job has completed or the specified number of seconds elapsed.</p> <p class="tableblock">This property must have a value between 3 and the value of property <code>scout.ui.maxUserIdleTime</code>.</p> <p class="tableblock">By default this property is set to 1 minute.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.locales</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Contains a comma separated list of supported locales (e.g. en,en-US,de-CH).</p> <p class="tableblock">This is only relevant if locales.json and texts.json should be sent to the client, which is not the case for remote apps. So this property is only used for JS only apps.</p> <p class="tableblock">By default no locales are supported.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.maxUserIdleTime</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If a user is inactive (no user action) for the specified number of seconds, the session is stopped and the user is logged out.</p> <p class="tableblock">By default this property is set to 4 hours.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.modelJobTimeout</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The maximal timeout in seconds to wait for model jobs to complete during a UI request. After that timeout the model jobs will be aborted so that the request may return to the client.</p> <p class="tableblock">By default this property is set to 1 hour.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Long &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.prebuild</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">When this property returns true, file pre-building is performed when the UI application server starts up.</p> <p class="tableblock">This means the application start takes more time, but in return the first user request takes less time.</p> <p class="tableblock"><code>File</code> in this context means web-resources like HTML, CSS and JS.</p> <p class="tableblock">These files are typically processed by Scout`s <code>ScriptProcessor</code> and <code>org.eclipse.scout.rt.ui.html.res.loader.HtmlDocumentParser</code>.</p> <p class="tableblock">By default this property is enabled when the application is not running in development mode (property <code>scout.devMode</code> is false).</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.prebuild.files</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Contains a comma separated list of files in <code>/WebContent/res</code> that should be pre-built when the (UI) application server starts up.</p> <p class="tableblock">Since it takes a while to build files, especially JS and CSS (LESS) files, we want to do this when the server starts. Otherwise its always the first user who must wait a long time until all files are built.</p> <p class="tableblock">Since CSS and JS files are always referenced by a HTML file, we simply specify the main HTML files in this property.</p> <p class="tableblock">By default no files are prebuild. This property only has an effect if property <code>scout.ui.prebuild</code> is enabled.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.sessionStore.maxWaitForAllShutdown</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Maximum time in second to wait for all client sessions to be stopped after the HTTP session has become invalid.</p> <p class="tableblock">After this number of seconds a <code>leak detection</code> test is performed. You are advised to change this value only if your sessions need an unusual long time to shutdown.</p> <p class="tableblock">By default this property is set to 1 minute.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.sessionStore.valueUnboundMaxWaitForWriteLock</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Maximum time in seconds to wait for the write lock when the session store is unbound from the HTTP session.</p> <p class="tableblock">This value should not be too large because waiting on the lock might suspend background processes of the application server.</p> <p class="tableblock">By default this property is set to 5 seconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.sessionstore.housekeepingDelay</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Number of seconds before the housekeeping job starts after a UI session has been unregistered from the store.</p> <p class="tableblock">By default this property is set to 20 seconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.sessionstore.housekeepingMaxWaitForShutdown</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Maximum time in seconds to wait for a client session to be stopped by the housekeeping job.</p> <p class="tableblock">The value should be smaller than the session timeout (typically defined in the web.xml) and greater than the value of property <code>scout.client.jobCompletionDelayOnSessionShutdown</code></p> <p class="tableblock">By default this property is set to 1 minute.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer &gt;= 0</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.ui.theme</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The name of the UI theme which is activated when the application starts.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.urlHints.enabled</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Enable or disable changing UrlHints using URL parameters in the browser address line.</p> <p class="tableblock">By default has the same value as the config property <code>scout.devMode</code> meaning it is by default only enabled in development mode.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scout.util.defaultDecimalSupportProvider</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the default DefaultDecimalSupportProvider to use. By default the 'DefaultDecimalSupportProvider' is used.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name. The class must have <code>org.eclipse.scout.rt.platform.util.DECIMAL.DefaultDecimalSupportProvider</code> in its super hierarchy.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Config Property</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>filter-exclude</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Comma separated list of simple URI patterns for which the <code>TrivialAccessController</code> should be excluded.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">List of Strings</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Servlet Filter Config</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>folder</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Root folder of the <code>RemoteFileServlet</code>. Default value is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Absolute path to the root folder.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Servlet Filter Config</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>get_min_size</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The minimum number of bytes in the response of a GET request so that compression is applied. A value of &lt; 0 disables compression. Used in <code>GzipServletFilter</code>. The default value is 256.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Servlet Filter Config</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>get_pattern</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Regex (not case sensitive) of servlet request pathInfo that is compressed for GET requests. Used in <code>GzipServletFilter</code>. The default value is <code>.*\.(html|css|js|json|txt)</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Servlet Filter Config</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>post_min_size</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The minimum number of bytes in the response of a POST request so that compression is applied. A value of &lt; 0 disables compression. Used in <code>GzipServletFilter</code>. The default value is 256.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Servlet Filter Config</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>post_pattern</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Regex (not case sensitive) of servlet request pathInfo that is compressed for POST requests. Used in <code>GzipServletFilter</code>. The default value is <code>.*/json</code>.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Servlet Filter Config</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>war-path</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Path to resource within war file. Normally starting with /WEB-INF. Default is null.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Servlet Config</p></td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="client-model"><a class="anchor" href="#client-model"></a>3. Client Model</h2>
    <div class="sectionbody">
     <div class="sect2">
      <h3 id="desktop"><a class="anchor" href="#desktop"></a>3.1. Desktop</h3>
      <div class="sect3">
       <h4 id="desktop-bench-layout"><a class="anchor" href="#desktop-bench-layout"></a>3.1.1. Desktop Bench Layout</h4>
       <div class="paragraph">
        <p>The Desktop Layout can be configured using the <code>IDesktop.setBenchLayoutData</code> method. This property is observed and might be changed during the applications lifecycle. The desktop consists out of 9 view stacks (see <a href="#img-benchLayout-overview">Figure 2</a>). Each form can be assigned to a single view stack using the property DisplayViewId (<code>IForm.getConfiguredDisplayViewId</code>). If multiple forms are assigned to the same view stack the views will be displayed as tabs where the top form is visible and the corresponding tab selected.</p>
       </div>
       <div class="admonitionblock note">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
           <td class="content"> Tabs are only visible if the form does have a title, subtitle or an image. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div id="img-benchLayout-overview" class="imageblock">
        <div class="content">
         <img src="images/BenchLayout_overview.png" alt="BenchLayout overview">
        </div>
        <div class="title">
         Figure 2. Desktop Bench overview
        </div>
       </div>
       <div class="paragraph">
        <p>The east, center and west columns are separated with splitters which can be moved according to the layout data properties. Each column is split into a north, center and south part. Within a column the north, center and south parts can not differ in their width.</p>
       </div>
       <div class="paragraph">
        <p>The modifications (splitter movements) are cached when a cache key (<code>BenchLayoutData.withCacheKey</code>) is set. In case the cache key is null the layout starts always with the initial values.</p>
       </div>
       <div class="paragraph">
        <p>An example of a bench layout data configuration with a fixed north (N) view stack and an south (S) view stack with an minimal size. See <code>org.eclipse.scout.rt.client.ui.desktop.bench.layout.FlexboxLayoutData</code> API for the documentation of the properties.</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">    desktop.setBenchLayoutData( <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="keyword">new</span> BenchLayoutData()
            .withCacheKey(<span class="string"><span class="delimiter">"</span><span class="content">a-cache-key</span><span class="delimiter">"</span></span>) <i class="conum" data-value="2"></i><b>(2)</b>
            .withCenter( <i class="conum" data-value="3"></i><b>(3)</b>
                <span class="keyword">new</span> BenchColumnData()
                    .withNorth(<span class="keyword">new</span> FlexboxLayoutData().withGrow(<span class="integer">0</span>).withShrink(<span class="integer">0</span>).withInitial(<span class="integer">280</span>).withRelative(<span class="predefined-constant">false</span>)) <i class="conum" data-value="4"></i><b>(4)</b>
                    .withCenter(<span class="keyword">new</span> FlexboxLayoutData()) <i class="conum" data-value="5"></i><b>(5)</b>
                    .withSouth(<span class="keyword">new</span> FlexboxLayoutData().withShrink(<span class="integer">0</span>).withInitial(-<span class="integer">1</span>)))); <i class="conum" data-value="6"></i><b>(6)</b>
  }
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>set the <code>BenchLayoutData</code> to the desktop.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>set a cache key to store the layout modifications (dragging splitters) to the session store. Aware the settings are stored to the browsers session store they are not transfered over different browsers nor systems.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="3"></i><b>3</b></td>
           <td>configure the center column (N, C, S).</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="4"></i><b>4</b></td>
           <td>The north part is fixed in size so the splitter between north (N) and center &copy; view stack is disabled. The size is fixed to 280 pixel.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="5"></i><b>5</b></td>
           <td>Use default for the center &copy; view stack.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="6"></i><b>6</b></td>
           <td>The south part is using the UI height as initial size and is growable but not shrinkable.</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="multiple-dimensions-support"><a class="anchor" href="#multiple-dimensions-support"></a>3.2. Multiple Dimensions Support</h3>
      <div class="paragraph">
       <p>Several components support multiple dimensions for visibility or enabled flags. This means the component is only visible or enabled if all dimensions are set to true. This gives developers the flexibility to e.g. use a dimension for granting and one for the business logic.</p>
      </div>
      <div class="paragraph">
       <p>A total of 8 dimensions are available for a certain component type and attribute. This means you e.g. have a total of 8 dimensions for Form Field visibility in your application. And 8 dimensions for enabled-states of Actions. So the dimensions are not consumed by component instance but by component type. This means you have to be careful in defining new dimensions as all components of the same type share these dimensions.</p>
      </div>
      <div class="admonitionblock note">
       <table>
        <tbody>
         <tr>
          <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
          <td class="content"> Some of these dimensions are already used internally. Refer to the implementation and JavaDoc of the component for details about how many dimensions are available for custom use. </td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">menu.setEnabled(<span class="predefined-constant">false</span>); <i class="conum" data-value="1"></i><b>(1)</b>
menu.setEnabledGranted(<span class="predefined-constant">false</span>); <i class="conum" data-value="2"></i><b>(2)</b>
menu.setVisible(<span class="predefined-constant">false</span>, IDimensions.VISIBLE_CUSTOM); <i class="conum" data-value="3"></i><b>(3)</b>
formField.setVisible(<span class="predefined-constant">true</span>, <span class="predefined-constant">false</span>, <span class="predefined-constant">true</span>, <span class="string"><span class="delimiter">"</span><span class="content">MyCustomDimension</span><span class="delimiter">"</span></span>); <i class="conum" data-value="4"></i><b>(4)</b>
formField2.setVisible(<span class="predefined-constant">true</span>, <span class="predefined-constant">true</span>, <span class="predefined-constant">true</span>); <i class="conum" data-value="5"></i><b>(5)</b>
formField3.isEnabled(IDimensions.ENABLED_CUSTOM); <i class="conum" data-value="6"></i><b>(6)</b>
formField3.isEnabled(IDimensions.ENABLED); <i class="conum" data-value="7"></i><b>(7)</b>
formField3.isEnabled(); <i class="conum" data-value="8"></i><b>(8)</b>
formField3.isEnabledIncludingParents(); <i class="conum" data-value="9"></i><b>(9)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Disables the menu using the internal default dimension</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Disables the menu using the internal granted dimension</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>Hides the menu with a third custom dimension</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="4"></i><b>4</b></td>
          <td>Form Fields also support the propagation of new values to children and parents. This sets the custom dimension of this field and all of its children to true.</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="5"></i><b>5</b></td>
          <td>This sets the internal default enabled dimension of this field and all of its parents and children to true.</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="6"></i><b>6</b></td>
          <td>Checks if the custom dimension is set to true</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="7"></i><b>7</b></td>
          <td>Checks if the internal default dimension is set to true</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="8"></i><b>8</b></td>
          <td>Checks if all dimensions of formField2 are true</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="9"></i><b>9</b></td>
          <td>Checks if all dimensions of formField2 and all dimensions of all parent Form Fields are enabled.</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="admonitionblock note">
       <table>
        <tbody>
         <tr>
          <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
          <td class="content"> In the example above the instance 'formField3' uses 4 dimensions for the enabled attribute: ENABLED_CUSTOM because it is explicitly used and the 3 dimensions that are used internally (ENABLED, ENABLED_GRANTED, ENABLED_SLAVE). Even though the instance 'formField2' makes no use of the custom dimension it is consumed for this instance as well because the dimensions do not exist by instance but by attribute (as explained above). </td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="texts"><a class="anchor" href="#texts"></a>4. Texts</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>The <code>TEXTS</code> class is a convenience class to access the default Text Provider Service used for the localization of the texts in the user interface.</p>
     </div>
     <div class="listingblock">
      <div class="title">
       Listing 13. Text lookup
      </div>
      <div class="content">
       <pre class="CodeRay highlight"><code data-lang="java">TEXTS.get(<span class="string"><span class="delimiter">"</span><span class="content">persons</span><span class="delimiter">"</span></span>);</code></pre>
      </div>
     </div>
     <div class="paragraph">
      <p>Its also possible to use some parameters:</p>
     </div>
     <div class="listingblock">
      <div class="title">
       Listing 14. Text lookup
      </div>
      <div class="content">
       <pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> name = <span class="string"><span class="delimiter">"</span><span class="content">Bob</span><span class="delimiter">"</span></span>;
<span class="type">int</span> age = <span class="integer">13</span>;
TEXTS.get(<span class="string"><span class="delimiter">"</span><span class="content">NameWithAge</span><span class="delimiter">"</span></span>, name, age);</code></pre>
      </div>
     </div>
     <div class="paragraph">
      <p>In this case, some placeholders for the parameters are needed in the translated text:</p>
     </div>
     <div class="listingblock">
      <div class="title">
       Listing 15. Text lookup
      </div>
      <div class="content">
       <pre class="CodeRay highlight"><code data-lang="java"> NameWithAge={<span class="integer">0</span>} is {<span class="integer">1</span>} years old;</code></pre>
      </div>
     </div>
     <div class="sect2">
      <h3 id="text-properties-files"><a class="anchor" href="#text-properties-files"></a>4.1. Text properties files</h3>
      <div class="paragraph">
       <p>Scout uses the java.util.ResourceBundle mechanism for native language support. So whatever language files you have in your <code>&lt;project-prefix&gt;.shared/resources/texts/*.properties</code> are taken as translation base.</p>
      </div>
      <div class="paragraph">
       <p>Example setup:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>&lt;project-prefix&gt;.shared/resources/texts/Texts.properties</p> </li>
        <li> <p>&lt;project-prefix&gt;.shared/resources/texts/Texts_fr.properties</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>If your application starts with the <code>-vmargs -Duser.language=fr</code> or <code>eclipse.exe -nl=fr</code> the translations in Texts_fr.properties are considered. In case of any other user language the translations in Texts.properties are considered.</p>
      </div>
      <div class="paragraph">
       <p>It is possible to edit these files in the Eclipse Scout SDK with the NLS Editor.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="text-provider-service"><a class="anchor" href="#text-provider-service"></a>4.2. Text Provider Service</h3>
      <div class="paragraph">
       <p>Text Provider Services are services responsible to provide localization for texts in the user interface. A typical application contains a such service contributed by the Shared Project.</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>implements: <code>ITextProviderService</code></p> </li>
        <li> <p>extends: <code>AbstractDynamicNlsTextProviderService</code> (default, translations are stored in properties files)</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>Using Text Provider Services developers can decide to store the translations in a custom container like a database or XML files. Furthermore using TextProviderServices it is very easy to overwrite any translated text in the application (also texts used in Scout itself) using the service ranking.</p>
      </div>
      <div class="paragraph">
       <p>The mechanism is aligned with the icon retrieval which is also managed using <a href="https://wiki.eclipse.org/index.php?title=Scout/Concepts/Icon_Provider_Service&amp;action=edit&amp;redlink=1">Icon Provider Services</a>.</p>
      </div>
      <div class="sect3">
       <h4 id="localization-using-properties-files"><a class="anchor" href="#localization-using-properties-files"></a>4.2.1. Localization using .properties files</h4>
       <div class="paragraph">
        <p>By default the internationalization mechanism relies on .properties files using a reference implementation of the TextProviderServices:</p>
       </div>
       <div class="paragraph">
        <p>Service extending the <code>AbstractDynamicNlsTextProviderService</code> class.</p>
       </div>
       <div class="paragraph">
        <p>A Text Provider Service working with the default implementation need to define where the properties files are located. This is realized by overriding the getter getDynamicNlsBaseName(). Here an example:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 16. Text lookup
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">String</span> getDynamicNlsBaseName() {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">resources.texts.Texts</span><span class="delimiter">"</span></span>;
  }</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>If configured like this, it means that the .properties files will be located in the same plug-in at the location:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p><code>/resources/texts/Texts.properties</code> (default)</p> </li>
         <li> <p><code>/resources/texts/Texts_fr.properties</code> (french)</p> </li>
         <li> <p><code>/resources/texts/Texts_de.properties</code> (german)</p> </li>
         <li> <p><code>&#x2026;&#x200b;</code> (additional languages)</p> </li>
        </ul>
       </div>
       <div class="paragraph">
        <p>If you decide to store your translated texts in .properties files, you migth want to use the <a href="https://wiki.eclipse.org/Scout/SDK/NLS_Editor">NLS Editor</a> to edit them.</p>
       </div>
       <div class="paragraph">
        <p>You need to respect the format defined by the Java Properties class. In particular the encoding of a .properties file is ISO-8859-1 (also known as Latin-1). All non-Latin-1 characters must be encoded. Examples:</p>
       </div>
       <div class="literalblock">
        <div class="content">
         <pre>'&agrave;' =&gt; "\u00E0"
'&ccedil;' =&gt; "\u00E7"
'&szlig;' =&gt; "\u00DF"</pre>
        </div>
       </div>
       <div class="paragraph">
        <p>The encoding is the "Unicode escape characters": \uHHHH where HHHH is a hexadecimal id of the character in the <a href="http://en.wikipedia.org/wiki/List_of_Unicode_characters">Unicode character table</a>. Read more on the .properties File on <a href="http://en.wikipedia.org/wiki/.properties">wikipedia</a>.</p>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="icons"><a class="anchor" href="#icons"></a>5. Icons</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>A lot of Scout widgts support icons. For instance a menu item can show an icon next to the menu text. Icons in Scout can be either a bitmap image (GIF, PNG, JPEG, etc.) or a character from an icon-font. An example for an icon-font is the <em>scoutIcons.ttf</em> which comes shipped with Scout.</p>
     </div>
     <div class="paragraph">
      <p>It&#x2019;s a good practice to define the available icons in your application in a class that defines each icon as a constant. Create a class <code>Icons</code> in the shared module of your project. These constants should be references, when you set the <em>IconId</em> property in your code.</p>
     </div>
     <div class="paragraph">
      <p>For bitmap images you simply specify the filename of the image file <em>without</em> the file extension. Place all your icon files in the resource folder of your <em>client</em> module. Assuming your project name is "org.scout.hello", the correct location to store icon files would be:</p>
     </div>
     <div class="literalblock">
      <div class="content">
       <pre>org.scout.hello.client/              # Client project directory
  src/main/resources/                # Resources directory
    org/scout/hello/client/icons/    # Path to icons
      application_logo_large.png
      person.png
      ...</pre>
      </div>
     </div>
     <div class="listingblock">
      <div class="title">
       Listing 17. Icons.java
      </div>
      <div class="content">
       <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Bitmap image (references icons/application_logo_large.png)</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> ApplicationLogo = <span class="string"><span class="delimiter">"</span><span class="content">application_logo_large</span><span class="delimiter">"</span></span>;
<span class="comment">// Character from icon-font scoutIcons.woff (default)</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> <span class="predefined-type">Calendar</span> =<span class="string"><span class="delimiter">"</span><span class="content">font:</span><span class="char">\uE003</span><span class="delimiter">"</span></span>;
<span class="comment">// Character from a custom icon-font</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> Phone =<span class="string"><span class="delimiter">"</span><span class="content">font:awesomeIcons </span><span class="char">\uF095</span><span class="delimiter">"</span></span>;</code></pre>
      </div>
     </div>
     <div class="listingblock">
      <div class="title">
       Listing 18. Usage of iconId in a Scout widget
      </div>
      <div class="content">
       <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">protected</span> <span class="predefined-type">String</span> getConfiguredIconId(){
  <span class="keyword">return</span> Icons.Calendar;
}</code></pre>
      </div>
     </div>
     <div class="sect2">
      <h3 id="using-a-custom-icon-font"><a class="anchor" href="#using-a-custom-icon-font"></a>5.1. Using a custom icon font</h3>
      <div class="paragraph">
       <p>You can use your own icon font. The required file format for an icon font is <em>.woff</em>. For the following examples we assume the name of your font file is <em>awesomeIcons.woff</em>. The following steps are required:</p>
      </div>
      <div class="paragraph">
       <p>Place the font file in the WebContent/res directory of your <em>html.ui</em> module. This makes it available for http requests on the URL <code>http://[base]/res/awesomeIcons.woff</code>.</p>
      </div>
      <div class="paragraph">
       <p>Create a CSS/LESS definition, to reference the icon font in stylesheets. Make sure the definition is added to the LESS module of your project.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 19. The CSS/LESS font definition should look like this:
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="less">@font-face {
  font-family: awesomeIcons;
  font-weight: normal;
  src: url('awesomeIcons.woff') format('woff');
}
/* Overrides definitions in fonts.css &gt; .font-icon
* Use iconId 'font:awesomeIcons [character]' in Scout model.
* See icons.js and usage of this class to see how iconId is used.
*/
.font-awesomeIcons {
  font-family: awesomeIcons, @defaultFont;
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>To check if your CSS definition is correct, you should download the CSS file directly via URL and check if the CSS file contains the required font definition. Assuming your LESS macro is named <em>hello-scout-macro.less</em> the URL is: <code>http://[base]/res/hello-scout.css</code></p>
      </div>
      <div class="admonitionblock note">
       <table>
        <tbody>
         <tr>
          <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
          <td class="content"> When you request resources from the <em>/res</em> folder via http, Scout will find resources from parent modules too. Thus the <em>scoutIcons.woff</em> is always available in a Scout project. However, you must avoid naming conflicts, since at runtime all files exist on the same classpath. </td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="sect2">
      <h3 id="how-to-create-a-custom-icon-font"><a class="anchor" href="#how-to-create-a-custom-icon-font"></a>5.2. How to create a custom icon font</h3>
      <div class="paragraph">
       <p>Here&#x2019;s what we do to create and maintain our own icon font <em>scoutIcons.woff</em>. There may be other methods to achieve the same.</p>
      </div>
      <div class="paragraph">
       <p>To create and modify our icon font we use the online application <a href="https://icomoon.io/app/">IcoMoon</a>. IcoMoon allows you to assemble a set of icons from various sources (e.g. FontAwesome or custom SVG graphics) and create a font file from that set.</p>
      </div>
      <div class="paragraph">
       <p>You can export/import your icon set from and to IcoMoon, and you should store the files exported from IcoMoon in a SCM system like GIT. IcoMoon stores all important data in the file <em>selection.json</em>. Make sure you also store the raw SVG graphics you&#x2019;ve uploaded to IcoMoon in your SCM, in case you have to change a single icon later.</p>
      </div>
      <div class="paragraph">
       <p>To edit the icon font in IcoMoon follow these steps:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>Import <em>selection.json</em> in IcoMoon, click on the "Import Icons" button.</p> </li>
        <li> <p>With the <em>Select</em> tool (arrow) you select the icons you want to add to your set. You can also add one or more characters from other icon fonts like FontAwesome by choosing <em>Add Icons From Library&#x2026;&#x200b;</em></p> </li>
        <li> <p>Your can import your custom SVG graphics with <em>Import to Set</em>, which you find in the hamburger menu on the icon set. The SVG graphic should have the same size as the other icons in the set and must use only a single color, black. The background must be transparent. Hint: the filename of the SVG graphic should contain the unicode of the character in the font in order to simplify maintencance. Only use unicodes from the <em>Private Use Area</em> from U+E000 to U+F8FF.</p> </li>
        <li> <p>When you&#x2019;re happy with your icon set, you hit the <em>Generate Font</em> button in the footer in IcoMoon. On the following page you can set the unicode of each icon/character. Click on the prefences button (cog icon), to set the name of your icon font (e.g. scoutIcons). Finally click on <em>Download</em> and you receive a ZIP file which contains the new <em>selection.json</em>, and font files like .ttf and .woff.</p> </li>
        <li> <p>When you&#x2019;ve added new unicodes to the icon font, you should also update <em>Icons.java</em> and add constants for the new characters. When you&#x2019;re using <em>Scout JS</em> you should also update <em>icons.js</em> and <em>icons.less</em>.</p> </li>
        <li> <p><strong>Important!</strong> don&#x2019;t forget to check in the new <em>selection.js</em> to your SCM.</p> </li>
       </ul>
      </div>
      <div class="sect3">
       <h4 id="tools"><a class="anchor" href="#tools"></a>5.2.1. Tools</h4>
       <div class="ulist">
        <ul>
         <li> <p>Windows tool <em>Character Map</em>: first you must install your custom TrueType Font .ttf in Windows. Simply double-click on the .ttf file and choose <em>Install</em>. After that you can start <em>Character Map</em> and browse through the font.</p> </li>
         <li> <p>The ZIP archive from IcoMoon contains a file <em>demo.html</em>. This file shows a preview of your icon font. Works in Chrome, but we had trouble viewing the font with Firefox.</p> </li>
         <li> <p>This tool from Wikipedia also creates a preview for an icon font: <a href="https://de.wikipedia.org/wiki/Vorlage:Private-Use-Area-Test">Vorlage:Private-Use-Area-Test</a>. Icon font must be installed first.</p> </li>
        </ul>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="lookup-call"><a class="anchor" href="#lookup-call"></a>6. Lookup Call</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>Lookup calls are mainly used by SmartFields and SmartColumns to look up single or multiple LookupRows.</p>
     </div>
     <div class="paragraph">
      <p>Class: <code>LookupCall</code></p>
     </div>
     <div class="sect2">
      <h3 id="description"><a class="anchor" href="#description"></a>6.1. Description</h3>
      <div class="paragraph">
       <p>The Lookup call mechanism is used to look up a set of key-text pairs. Whereas the key can be of any Java type the text must be of the type String. Each entry in this set is called LookupRow. In addition to the key and the text a LookupRow can also define and icon, font, colors and a tooltipText.</p>
      </div>
      <div class="paragraph">
       <p>This schema explains the role of a LookupCall in a SmartField:</p>
      </div>
      <div class="imageblock">
       <div class="content">
        <img src="images/Schema_LookupCall.png" alt="Schema LookupCall">
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="input"><a class="anchor" href="#input"></a>6.2. Input</h3>
      <div class="paragraph">
       <p>Lookup calls provide different method to compute the set of LookupRows :</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p><strong>getDataByKey():</strong> Retrieves a single lookup row for a specific key value. Used by SmartFields and SmartColumns to get the display text for a given key value.</p> </li>
        <li> <p><strong>getDataByText():</strong> Retrieve multiple lookup rows which match a certain String. Used by SmartFields when the user starts to enter some text in the field.</p> </li>
        <li> <p><strong>getDataByAll():</strong> Retrieves all available lookup rows. Used by SmartFields when the user clicks on the browse icon.</p> </li>
        <li> <p><strong>getDataByRec():</strong> This can only be used for hierarchical lookup calls. It retrieves all available sub-tree lookup rows for a given parent.</p> </li>
       </ul>
      </div>
     </div>
     <div class="sect2">
      <h3 id="members"><a class="anchor" href="#members"></a>6.3. Members</h3>
      <div class="paragraph">
       <p>The Lookup call contains attributes (accessible with getter and setter) that can be used to compute the list of lookups rows. Out of the box you have:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>key: contains the key value when the lookup is queried by key.</p> </li>
        <li> <p>text: contains the text input in case of a text lookup (typically this is the text entered by the user smart field).</p> </li>
        <li> <p>all: contains the browse hint in case of a lookup by all (typically when a user click on the button to see all proposal in a smart field).</p> </li>
        <li> <p>rec: contains the key of the parent entry, in when the children of a node are loaded.</p> </li>
        <li> <p>master: contains the value of the master field (if a master field is associated to the field using the lookup call).</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>It is possible to add you own additional attributes, for example validityFrom, validityTo as date parameter. Just add them as field with getter and setter:</p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">LanguageLookupCall</span> <span class="directive">extends</span> LookupCall&lt;<span class="predefined-type">String</span>&gt; {
  <span class="comment">// other stuff like serialVersionUID, Lookup Service definition...</span>
  <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">long</span> serialVersionUID = <span class="integer">1L</span>;
  <span class="directive">private</span> <span class="predefined-type">Date</span> m_validityFrom;
  <span class="directive">private</span> <span class="predefined-type">Date</span> m_validityTo;
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> ILookupService&lt;<span class="predefined-type">String</span>&gt;&gt; getConfiguredService() {
    <span class="keyword">return</span> ILanguageLookupService.class;
  }
  <span class="directive">public</span> <span class="predefined-type">Date</span> getValidityFrom() {
    <span class="keyword">return</span> m_validityFrom;
  }
  <span class="directive">public</span> <span class="type">void</span> setValidityFrom(<span class="predefined-type">Date</span> validityFrom) {
    <span class="local-variable">this</span>.m_validityFrom = validityFrom;
  }
  <span class="directive">public</span> <span class="predefined-type">Date</span> getValidityTo() {
    <span class="keyword">return</span> m_validityTo;
  }
  <span class="directive">public</span> <span class="type">void</span> setValidityTo(<span class="predefined-type">Date</span> validityTo) {
    <span class="local-variable">this</span>.m_validityTo = validityTo;
  }
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>In this case, you might want to set your properties before the lookup call query is sent. This can be done with the PrepareLookup event of the SmartField or the ListBox:</p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="type">void</span> execPrepareLookup(ILookupCall&lt;<span class="predefined-type">String</span>&gt; call) {
      LanguageLookupCall c = (LanguageLookupCall) call;
      c.setValidityFrom(DateUtility.parse(<span class="string"><span class="delimiter">"</span><span class="content">2012-02-26</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">yyyy-mm-dd</span><span class="delimiter">"</span></span>));
      c.setValidityTo(DateUtility.parse(<span class="string"><span class="delimiter">"</span><span class="content">2013-02-27</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">yyyy-mm-dd</span><span class="delimiter">"</span></span>));
    }</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>If you follow this pattern, you will consume the values on the server by casting the call:</p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">List</span>&lt;? <span class="directive">extends</span> ILookupRow&lt;<span class="predefined-type">String</span>&gt;&gt; getDataByAll(ILookupCall&lt;<span class="predefined-type">String</span>&gt; call) {
    LanguageLookupCall c = (LanguageLookupCall) call;
    <span class="predefined-type">Date</span> validityFrom = c.getValidityFrom();
    <span class="predefined-type">Date</span> validityTo = c.getValidityTo();
    <span class="predefined-type">List</span>&lt;? <span class="directive">extends</span> ILookupRow&lt;<span class="predefined-type">String</span>&gt;&gt; result = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
    <span class="comment">//compute result: corresponding lookup rows (depending on validityFrom and validityTo).</span>
    <span class="keyword">return</span> result;
  }</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="type-of-lookup-calls"><a class="anchor" href="#type-of-lookup-calls"></a>6.4. Type of lookup calls</h3>
      <div class="sect3">
       <h4 id="with-a-lookup-service"><a class="anchor" href="#with-a-lookup-service"></a>6.4.1. With a Lookup Service</h4>
       <div class="paragraph">
        <p>Delegation to the Lookup Service on server side.</p>
       </div>
       <div class="paragraph">
        <p>They are not necessarily restricted to a fix number of records. Instead they should be favoured if the set of records is rather large.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="local-lookup-call"><a class="anchor" href="#local-lookup-call"></a>6.4.2. Local Lookup Call</h4>
       <div class="paragraph">
        <p>Such a LookupCall is used if the data can be provided directly without the need to make a backend call.</p>
       </div>
       <div class="paragraph">
        <p>An example of this approach is when a SmartField or a SmartColumn is configured to be used with a CodeType. The code types are cached so it is not necessary to fetch them using a lookup service. Instead a LocalLookupCall, in that case the <code>CodeLookupCall</code>, may be used to load the data. It creates the LookupRows corresponding to the codes in the CodeType.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="overview-2"><a class="anchor" href="#overview-2"></a>6.4.3. Overview</h4>
       <div class="imageblock">
        <div class="content">
         <img src="images/LookupCall.png" alt="LookupCall">
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="properties"><a class="anchor" href="#properties"></a>6.4.4. Properties</h4>
       <div class="paragraph">
        <p>Defined with <code>getConfiguredXxxxxx()</code> methods.</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>Service: Defines which service is used to retrieve lookup rows</p> </li>
         <li> <p>MasterRequired: Defines whether a master value must be set in order to query for multiple lookup rows</p> </li>
        </ul>
       </div>
      </div>
      <div class="sect3">
       <h4 id="code-examples"><a class="anchor" href="#code-examples"></a>6.4.5. Code examples</h4>
       <div class="paragraph">
        <p><strong>Using a LookupCall in a SmartField:</strong></p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> ILookupCall&lt;<span class="predefined-type">String</span>&gt;&gt; getConfiguredLookupCall() {
      <span class="keyword">return</span> LanguageLookupCall.class;
    }</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p><strong>Accessing a LookupRow directly:</strong></p>
       </div>
       <div class="paragraph">
        <p>It is possible to access a LookupRow directly. In this example the input is a key (thisKey) and the method getDataByKey() is used. Before accessing the text, we ensure that a LookupRow has been retrieved.</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">    <span class="comment">//Execute the LookupCall (using DataByKey)</span>
    LookupCall&lt;<span class="predefined-type">String</span>&gt; call = <span class="keyword">new</span> LanguageLookupCall();
    call.setKey(thisKey);
    <span class="predefined-type">List</span>&lt;? <span class="directive">extends</span> ILookupRow&lt;<span class="predefined-type">String</span>&gt;&gt; rows = call.getDataByKey();
    <span class="comment">//Get the text (with a null check)</span>
    <span class="predefined-type">String</span> text = <span class="predefined-constant">null</span>;
    <span class="keyword">if</span> (rows != <span class="predefined-constant">null</span> &amp;&amp; !rows.isEmpty()) {
      text = rows.get(<span class="integer">0</span>).getText();
    }</code></pre>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="code-type"><a class="anchor" href="#code-type"></a>7. Code Type</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>A CodeType is a structure to represent a tree key-code association. They are used in SmartField and SmartColumn.</p>
     </div>
     <div class="ulist">
      <ul>
       <li> <p>implements: <code>ICodeType&lt;T&gt;</code></p> </li>
       <li> <p>extends: <code>AbstractCodeType&lt;T&gt;</code></p> </li>
      </ul>
     </div>
     <div class="sect2">
      <h3 id="description-2"><a class="anchor" href="#description-2"></a>7.1. Description</h3>
      <div class="paragraph">
       <p>CodeTypes are used in <a href="https://wiki.eclipse.org/Scout/Concepts/SmartField">SmartField</a> to let the user choose between a finite list of values. The value stored by the field corresponds to the key of the selected code.</p>
      </div>
      <div class="imageblock">
       <div class="content">
        <img src="images/Scout_SmartField_Hierarchy_SWT.png" alt="Scout SmartField Hierarchy SWT">
       </div>
      </div>
      <div class="paragraph">
       <p>A CodeType can be seen as a tree of <a href="https://wiki.eclipse.org/Scout/Concepts/Code">Codes</a>. Each code associates to the key (the Id) other properties: among others a Text and an IconId.</p>
      </div>
      <div class="paragraph">
       <p>In order to have the same resolving mechanism (getting the display text of a key), CodeTypes are also used in <a href="https://wiki.eclipse.org/Scout/Concepts/SmartColumn">SmartColumns</a>. To choose multiple values in the list, the fields <a href="https://wiki.eclipse.org/Scout/Concepts/ListBox">ListBox</a> (flat CodeType) and <a href="https://wiki.eclipse.org/Scout/Concepts/TreeBox">TreeBox</a> (hierarchical CodeType) can be used.</p>
      </div>
      <div class="sect3">
       <h4 id="organisation-of-the-codes"><a class="anchor" href="#organisation-of-the-codes"></a>7.1.1. Organisation of the codes</h4>
       <div class="paragraph">
        <p>The codes are organized in a tree. Therefore a CodeType can have one or more child codes at the root level, and each code can have other child codes. In a lot of cases a list of codes (meaning a tree containing only leaves at the first level) is sufficient to cover most of the need.</p>
       </div>
       <div class="paragraph">
        <p>Child codes are ordered in their parent code. This is realized with the <a href="https://wiki.eclipse.org/Scout/Concepts/Order_Annotation">order annotation</a>.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="type-of-the-key"><a class="anchor" href="#type-of-the-key"></a>7.1.2. Type of the key</h4>
       <div class="paragraph">
        <p>The type of the key is defined by its generic parameter <code>&lt;T&gt;</code>. It is very common to use a type from the <code>java.lang.*</code> package (like <code>Integer</code> or <code>String</code>), but any Java Object is suitable. It must:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>implement <code>Serializable</code></p> </li>
         <li> <p>have correctly implemented <code>equals()</code> and <code>hashCode()</code> functions</p> </li>
         <li> <p>be present in the server and the client</p> </li>
        </ul>
       </div>
       <div class="paragraph">
        <p>There is no obligation to have the same type for the Id between the codes of a CodeType (meaning the same generic type parameter for the codes inner-class). However it is a good practice to have the same type between the codes of a CodeType, because the Id are used as value of <a href="https://wiki.eclipse.org/Scout/Concepts/SmartField">SmartFields</a>. Therefore the generic parameter describing the type of value of a SmartField must be compatible with the type of the codes contained in the CodeType.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="using-a-codetype"><a class="anchor" href="#using-a-codetype"></a>7.2. Using a CodeType</h3>
      <div class="sect3">
       <h4 id="smartfield-or-smartcolumn"><a class="anchor" href="#smartfield-or-smartcolumn"></a>7.2.1. SmartField or SmartColumn</h4>
       <div class="paragraph">
        <p>CodeType in a SmartField (or SmartColumn).</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">YesOrNoSmartField</span> <span class="directive">extends</span> AbstractSmartField&lt;<span class="predefined-type">Boolean</span>&gt; {
  <span class="comment">// other configuration of properties.</span>
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> ICodeType&lt;?, <span class="predefined-type">Boolean</span>&gt;&gt; getConfiguredCodeType() {
    <span class="keyword">return</span> YesOrNoCodeType.class;
  }
}</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>If the SmartField (or SmartColumn) works with a CodeType, a specific LookupCall is instantiated to get the LookupRows based on the Codes contained in a CodeType.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="accessing-a-code-directly"><a class="anchor" href="#accessing-a-code-directly"></a>7.2.2. Accessing a code directly</h4>
       <div class="paragraph">
        <p>Scout-runtime will handle the instantiation and the caching of CodeTypes.</p>
       </div>
       <div class="paragraph">
        <p>This function returns the text corresponding to the key using a CodeType:</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">  <span class="directive">public</span> <span class="predefined-type">String</span> getCodeText(<span class="type">boolean</span> key) {
    ICode c = BEANS.get(YesOrNoCodeType.class).getCode(key);
    <span class="keyword">if</span> (c != <span class="predefined-constant">null</span>) {
      <span class="keyword">return</span> c.getText();
    }
    <span class="keyword">return</span> <span class="predefined-constant">null</span>;
  }</code></pre>
        </div>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="static-codetype"><a class="anchor" href="#static-codetype"></a>7.3. Static CodeType</h3>
      <div class="sect3">
       <h4 id="java-code-and-structure"><a class="anchor" href="#java-code-and-structure"></a>7.3.1. Java Code and structure</h4>
       <div class="imageblock">
        <div class="content">
         <img src="images/Scout_CodeType_Structure.png" alt="Scout CodeType Structure">
        </div>
       </div>
       <div class="paragraph">
        <p>The common way to define a CodeType is to extend AbstractCodeType. Each code is an inner-class extending AbstractCode. Like usual the properties of Codes and CodeTypes can be set using the <a href="https://wiki.eclipse.org/Scout/Concepts/GetConfigured_Methods">getConfiguredXxxxxx()</a> methods.</p>
       </div>
       <div class="paragraph">
        <p>See the Java Code of a simple <code>YesOrNoCodeType</code> having just two codes:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p><code>YesOrNoCodeType.YesCode</code></p> </li>
         <li> <p><code>YesOrNoCodeType.NoCode</code></p> </li>
        </ul>
       </div>
      </div>
      <div class="sect3">
       <h4 id="with-the-sdk"><a class="anchor" href="#with-the-sdk"></a>7.3.2. With the SDK</h4>
       <div class="paragraph">
        <p>The SDK provides some help to generate CodeTypes and Codes. Use File &#x2192; New &#x2192; Scout &#x2192; Scout Code Type to generate a new code.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="dynamic-codetype"><a class="anchor" href="#dynamic-codetype"></a>7.4. Dynamic CodeType</h3>
      <div class="paragraph">
       <p>Code types are not necessarily hardcoded. It is possible to implement other mechanisms to load a CodeType dynamically.</p>
      </div>
      <div class="paragraph">
       <p>The description of the Codes can come from a database or from an XML files. If you want to do so, you just need to implement the method corresponding to the event LoadCodes.</p>
      </div>
      <div class="paragraph">
       <p>It is possible to use the static and the dynamic approach together. In this case, if there is a conflict (2 codes for the same id) the event OverwriteCode is triggered.</p>
      </div>
      <div class="paragraph">
       <p>Note for advanced users:</p>
      </div>
      <div class="paragraph">
       <p>Each CodeType is instantiated for</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>each language</p> </li>
        <li> <p>each partition</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>Note: A drawback is that the CodeType class is not aware of the language and the partition it is instantiated for. Only the <code>CodeTypeStore</code> that manages the CodeType instances knows for which language and which partition they have been instantiated.</p>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="working-with-exceptions"><a class="anchor" href="#working-with-exceptions"></a>8. Working with exceptions</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>Exceptions can be logged via SLF4J Logger, or given to exception handler for centralized, consistent exception handling, or translated into other exceptions. Scout provides some few exceptions/errors, which are used by the framework.</p>
     </div>
     <div class="sect2">
      <h3 id="scout-throwables"><a class="anchor" href="#scout-throwables"></a>8.1. Scout Throwables</h3>
      <div class="paragraph">
       <p>All scout throwables are unchecked and typically implementing the <code>IThrowableWithContextInfo</code> interface, which provides functionality for associating context information with the occurred error.</p>
      </div>
      <div class="paragraph">
       <p>Most scout throwables are runtime exceptions, and typically inherit from <a href="#platformexception">PlatformException</a>. See <a href="#scout-runtime-exceptions">Section 8.1.1</a> for more information.</p>
      </div>
      <div class="paragraph">
       <p>Some scout throwables are instances of <code>java.lang.Error</code> by extending <a href="#platformerror">PlatformError</a>. Those errors usually provide functionality to interrupt Jobs, for example when a user is canceling a long running operation.<br> Note: <strong><a href="#platformerror">PlatformErrors</a> should never be catched by business logic!</strong> See <a href="#scout-runtime-errors">Section 8.1.2</a> for more information.</p>
      </div>
      <div class="sect3">
       <h4 id="scout-runtime-exceptions"><a class="anchor" href="#scout-runtime-exceptions"></a>8.1.1. Scout Runtime Exceptions</h4>
       <div class="sect4">
        <h5 id="platformexception"><a class="anchor" href="#platformexception"></a>PlatformException</h5>
        <div class="paragraph">
         <p>Base runtime exception of the Scout platform, which allows for message formatting anchors and context information to be associated.</p>
        </div>
        <div class="paragraph">
         <p>There is a single constructor which accepts the exception&#x2019;s message, and optionally a variable number of arguments. Typically, a potential cause is given as its argument. The message allows further the use of formatting anchors in the form of {} pairs. The respective formatting arguments are provided via the constructor&#x2019;s <em>varArg</em> parameter. If the last argument is of the type <code>Throwable</code> and not referenced as formatting anchor in the message, that <code>Throwable</code> is used as the exception&#x2019;s cause. Internally, SLF4J <code>MessageFormatter</code> is used to provide substitution functionality. Hence, The format is the very same as if using SLF4j Logger.</p>
        </div>
        <div class="paragraph">
         <p>Further, <code>PlatformException</code> allows to associate context information, which are available in Log4j <em>diagnostic context map</em> (MDC) upon logging the exception.</p>
        </div>
        <div class="listingblock">
         <div class="title">
          Listing 20. PlatformException examples
         </div>
         <div class="content">
          <pre class="CodeRay highlight"><code data-lang="java"><span class="exception">Exception</span> cause = <span class="keyword">new</span> <span class="exception">Exception</span>();
<span class="comment">// Create a PlatformException with a message</span>
<span class="keyword">new</span> PlatformException(<span class="string"><span class="delimiter">"</span><span class="content">Failed to persist data</span><span class="delimiter">"</span></span>);
<span class="comment">// Create a PlatformException with a message and cause</span>
<span class="keyword">new</span> PlatformException(<span class="string"><span class="delimiter">"</span><span class="content">Failed to persist data</span><span class="delimiter">"</span></span>, cause);
<span class="comment">// Create a PlatformException with a message with formatting anchors</span>
<span class="keyword">new</span> PlatformException(<span class="string"><span class="delimiter">"</span><span class="content">Failed to persist data [entity={}, id={}]</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">person</span><span class="delimiter">"</span></span>, <span class="integer">123</span>);
<span class="comment">// Create a PlatformException with a message containing formatting anchors and a cause</span>
<span class="keyword">new</span> PlatformException(<span class="string"><span class="delimiter">"</span><span class="content">Failed to persist data [entity={}, id={}]</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">person</span><span class="delimiter">"</span></span>, <span class="integer">123</span>, cause);
<span class="comment">// Create a PlatformException with context information associated</span>
<span class="keyword">new</span> PlatformException(<span class="string"><span class="delimiter">"</span><span class="content">Failed to persist data</span><span class="delimiter">"</span></span>, cause)
    .withContextInfo(<span class="string"><span class="delimiter">"</span><span class="content">entity</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">person</span><span class="delimiter">"</span></span>)
    .withContextInfo(<span class="string"><span class="delimiter">"</span><span class="content">id</span><span class="delimiter">"</span></span>, <span class="integer">123</span>);</code></pre>
         </div>
        </div>
       </div>
       <div class="sect4">
        <h5 id="processingexception"><a class="anchor" href="#processingexception"></a>ProcessingException</h5>
        <div class="paragraph">
         <p>Represents a <a href="#platformexception">PlatformException</a> and is thrown in case of a processing failure, and which can be associated with an exception error code and severity.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="vetoexception"><a class="anchor" href="#vetoexception"></a>VetoException</h5>
        <div class="paragraph">
         <p>Represents a <a href="#processingexception">ProcessingException</a> with VETO character. If thrown server-side, exceptions of this type are transported to the client and typically visualized in the form of a message box.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="assertionexception"><a class="anchor" href="#assertionexception"></a>AssertionException</h5>
        <div class="paragraph">
         <p>Represents a <a href="#platformexception">PlatformException</a> and indicates an assertion error about the application&#x2019;s assumptions about expected values.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="transactionrequiredexception"><a class="anchor" href="#transactionrequiredexception"></a>TransactionRequiredException</h5>
        <div class="paragraph">
         <p>Represents a <a href="#platformexception">PlatformException</a> and is thrown if a ServerRunContext requires a transaction to be available.</p>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="scout-runtime-errors"><a class="anchor" href="#scout-runtime-errors"></a>8.1.2. Scout Runtime Errors</h4>
       <div class="paragraph">
        <p>Runtime Errors are used to indicate an error, that shouldn&#x2019;t be catched/treated by business logic and therefore bubble up to the appropriate <a href="#exception-handling">exception handler</a> in the scout framework. Because those errors are handled by the framework internals, they should never be catched on the server (Services etc.) nor on the client side (Pages, Forms, etc.).</p>
       </div>
       <div class="paragraph">
        <p>All Scout Runtime Errors extend <a href="#platformerror">PlatformError</a>.</p>
       </div>
       <div class="sect4">
        <h5 id="platformerror"><a class="anchor" href="#platformerror"></a>PlatformError</h5>
        <div class="paragraph">
         <p>Like <a href="#platformexception">PlatformException</a>, PlatformErrors implement <code>IThrowableWithContextInfo</code> for associating context information with the occurred error. See <a href="#platformexception">PlatformException</a> for usage and example code.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="threadinterruptederror"><a class="anchor" href="#threadinterruptederror"></a>ThreadInterruptedError</h5>
        <div class="paragraph">
         <p>Represents a <a href="#platformerror">PlatformError</a> and indicates that a thread was interrupted while waiting for some condition to become true, e.g. while waiting for a job to complete. Unlike <code>java.lang.InterruptedException</code>, the thread&#x2019;s interrupted status is not cleared when catching this exception.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="futurecancellederror"><a class="anchor" href="#futurecancellederror"></a>FutureCancelledError</h5>
        <div class="paragraph">
         <p>Represents a <a href="#platformerror">PlatformError</a> and indicates that the result of a job cannot be retrieved, or the IFuture&#x2019;s completion not be awaited because the job was cancelled.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="timedouterror"><a class="anchor" href="#timedouterror"></a>TimedOutError</h5>
        <div class="paragraph">
         <p>Represents a <a href="#platformerror">PlatformError</a> and indicates that the maximal wait time elapsed while waiting for some condition to become true, e.g. while waiting a job to complete.</p>
        </div>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="exception-handling"><a class="anchor" href="#exception-handling"></a>8.2. Exception handling</h3>
      <div class="paragraph">
       <p>An exception handler is the central point for exception handling. It provides a single method 'handle' which accepts a <code>Throwable</code>, and which never throws an exception. It is implemented as a bean, meaning managed by the bean manager to allow easy replacement, e.g. to use a different handler when running client or server side. By default, a <a href="#processingexception">ProcessingException</a> is logged according to its severity, a <a href="#vetoexception">VetoException</a>, <a href="#threadinterruptederror">ThreadInterruptedError</a> or <a href="#futurecancellederror">FutureCancelledError</a> logged in <em>DEBUG</em> level, and any other exception logged as an <em>ERROR</em>. If running client side, exceptions are additionally visualized and showed to the user.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="exception-translation"><a class="anchor" href="#exception-translation"></a>8.3. Exception translation</h3>
      <div class="paragraph">
       <p>Exception translators are used to translate an exception into another exception.</p>
      </div>
      <div class="paragraph">
       <p>Also, they unwrap the cause of wrapper exceptions, like <code>UndeclaredThrowableException</code>, or <code>InvocationTargetException</code>, or <code>ExecutionException</code>. If the exception is of the type <code>Error</code>, it is normally not translated, but re-thrown instead. That is because an <code>Error</code> indicates a serious problem due to an abnormal condition.</p>
      </div>
      <div class="sect3">
       <h4 id="defaultexceptiontranslator"><a class="anchor" href="#defaultexceptiontranslator"></a>8.3.1. DefaultExceptionTranslator</h4>
       <div class="paragraph">
        <p>Use this translator to work with checked exceptions and runtime exceptions, but not with <code>Throwable</code>.</p>
       </div>
       <div class="paragraph">
        <p>If given an <code>Exception</code>, or a <code>RuntimeException</code>, or if being a subclass thereof, that exception is returned as given. Otherwise, a <a href="#platformexception">PlatformException</a> is returned which wraps the given Throwable.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="defaultruntimeexceptiontranslator"><a class="anchor" href="#defaultruntimeexceptiontranslator"></a>8.3.2. DefaultRuntimeExceptionTranslator</h4>
       <div class="paragraph">
        <p>Use this translator to work with runtime exceptions. When working with <a href="#runcontext">RunContext</a> or <a href="#ifuture">IFuture</a>, some methods optionally accept a translator. If not specified, this translator is used by default.</p>
       </div>
       <div class="paragraph">
        <p>If given a <code>RuntimeException</code>, it is returned as given. For a checked exception, a <a href="#platformexception">PlatformException</a> is returned which wraps the given checked exception.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="platformexceptiontranslator"><a class="anchor" href="#platformexceptiontranslator"></a>8.3.3. PlatformExceptionTranslator</h4>
       <div class="paragraph">
        <p>Use this translator to work with <a href="#platformexception">PlatformExceptions</a>.</p>
       </div>
       <div class="paragraph">
        <p>If given a <a href="#platformexception">PlatformException</a>, it is returned as given. For all other exceptions (checked or unchecked), a <a href="#platformexception">PlatformException</a> is returned which wraps the given exception.</p>
       </div>
       <div class="paragraph">
        <p>Typically, this translator is used if you require to add some context information via <code>IThrowableWithContextInfo.withContextInfo(String, Object, Object)</code>.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 21. PlatformException examples
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">try</span> {
  <span class="comment">// do something</span>
}
<span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
  <span class="keyword">throw</span> BEANS.get(PlatformExceptionTranslator.class).translate(e)
      .withContextInfo(<span class="string"><span class="delimiter">"</span><span class="content">cid</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">12345</span><span class="delimiter">"</span></span>)
      .withContextInfo(<span class="string"><span class="delimiter">"</span><span class="content">user</span><span class="delimiter">"</span></span>, <span class="predefined-type">Subject</span>.getSubject(<span class="predefined-type">AccessController</span>.getContext()))
      .withContextInfo(<span class="string"><span class="delimiter">"</span><span class="content">job</span><span class="delimiter">"</span></span>, IFuture.CURRENT.get());
}</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="nullexceptiontranslator"><a class="anchor" href="#nullexceptiontranslator"></a>8.3.4. NullExceptionTranslator</h4>
       <div class="paragraph">
        <p>Use this translator to work with <code>Throwable</code> as given.</p>
       </div>
       <div class="paragraph">
        <p>Also, if given a wrapped exception like <code>UndeclaredThrowableException</code>, <code>InvocationTargetException</code> or <code>ExecutionException</code>, that exception is returned as given without unwrapping its cause.</p>
       </div>
       <div class="paragraph">
        <p>For instance, this translator can be used if working with the Job API, e.g. to distinguish between a <a href="#futurecancellederror">FutureCancelledError</a> thrown by the job&#x2019;s runnable, or because the job was effectively cancelled.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="exception-logging"><a class="anchor" href="#exception-logging"></a>8.4. Exception Logging</h3>
      <div class="paragraph">
       <p>Scout framework logs via SLF4J (Simple Logging Facade for Java). It serves as a simple facade or abstraction for various logging frameworks (e.g. java.util.logging, logback, log4j) allowing the end user to plug in the desired logging framework at deployment time.</p>
      </div>
      <div class="paragraph">
       <p>SLF4J allows the use of formatting anchors in the form of {} pairs in the message which will be replaced by the respective argument. If the last argument is of the type Throwable and not referenced as formatting anchor in the message, that <code>Throwable</code> is used as the exception.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 22. Logging examples
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="exception">Exception</span> e = <span class="keyword">new</span> <span class="exception">Exception</span>();
<span class="predefined-type">Logger</span> logger = LoggerFactory.getLogger(getClass());
<span class="comment">// Log a message</span>
logger.error(<span class="string"><span class="delimiter">"</span><span class="content">Failed to persist data</span><span class="delimiter">"</span></span>);
<span class="comment">// Log a message with exception</span>
logger.error(<span class="string"><span class="delimiter">"</span><span class="content">Failed to persist data</span><span class="delimiter">"</span></span>, e);
<span class="comment">// Log a message with formatting anchors</span>
logger.error(<span class="string"><span class="delimiter">"</span><span class="content">Failed to persist data [entity={}, id={}]</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">person</span><span class="delimiter">"</span></span>, <span class="integer">123</span>);
<span class="comment">// Log a message and exception with a message containing formatting anchors</span>
logger.error(<span class="string"><span class="delimiter">"</span><span class="content">Failed to persist data [entity={}, id={}]</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">person</span><span class="delimiter">"</span></span>, <span class="integer">123</span>, e);</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="jobmanager"><a class="anchor" href="#jobmanager"></a>9. JobManager</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>Scout provides a job manager based on Java Executors framework to run tasks in parallel, and on Quartz Trigger API to support for schedule plans and to compute firing times. A task (aka job) can be scheduled to commence execution either immediately upon being scheduled, or delayed some time in the future. A job can be single executing, or recurring based on some schedule plan. The job manager itself is implemented as an application scoped bean, meaning that it is a singleton which exists once in the web application.</p>
     </div>
     <div class="sect2">
      <h3 id="functionality"><a class="anchor" href="#functionality"></a>9.1. Functionality</h3>
      <div class="ulist">
       <ul>
        <li> <p>immediate, delayed or timed execution</p> </li>
        <li> <p>single (one-shot) or repetitive execution (based on Quartz schedule plans)</p> </li>
        <li> <p>listen for job lifecycle events</p> </li>
        <li> <p>wait for job completion</p> </li>
        <li> <p>job cancellation</p> </li>
        <li> <p>limitation of the maximal concurrently level among jobs</p> </li>
        <li> <p><code>RunContext</code> based execution</p> </li>
        <li> <p>configurable thread pool size (core pool size, max pool size)</p> </li>
        <li> <p>association of job execution hints to select jobs (e.g. to cancel or await job&#x2019;s completion)</p> </li>
        <li> <p>named jobs and threads to ease debugging</p> </li>
       </ul>
      </div>
     </div>
     <div class="sect2">
      <h3 id="job"><a class="anchor" href="#job"></a>9.2. Job</h3>
      <div class="paragraph">
       <p>A job is defined as some work to be executed asynchronously and is associated with a <code>JobInput</code> to describe how to run that work. The work is given to the job manager in the form of a <code>Runnable</code> or <code>Callable</code>. The only difference is, that a <code>Runnable</code> represents a 'fire-and-forget' action, meaning that the submitter of the job does not expect the job to return a result. On the other hand, a <code>Callable</code> returns the computation&#x2019;s result, which the submitter can await for. Of course, a runnable&#x2019;s completion can also be waited for.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 23. Work that does not return a result
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Work</span> <span class="directive">implements</span> IRunnable {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> run() <span class="directive">throws</span> <span class="exception">Exception</span> {
    <span class="comment">// do some work</span>
  }
}</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 24. Work that returns a computation result
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">WorkWithResult</span> <span class="directive">implements</span> <span class="predefined-type">Callable</span>&lt;<span class="predefined-type">String</span>&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> call() <span class="directive">throws</span> <span class="exception">Exception</span> {
    <span class="comment">// do some work</span>
    <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">result</span><span class="delimiter">"</span></span>;
  }
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>Upon scheduling a job, the job manager returns a <code>IFuture</code> to interact with the job, e.g. to cancel its execution, or to await its completion. The job itself can also access its <code>IFuture</code>, namely via <code>IFuture.CURRENT()</code> ThreadLocal.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 25. Accessing the Future from within the job
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Job</span> <span class="directive">implements</span> IRunnable {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> run() <span class="directive">throws</span> <span class="exception">Exception</span> {
    IFuture&lt;?&gt; myFuture = IFuture.CURRENT.get();
  }
}</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="scheduling-a-job"><a class="anchor" href="#scheduling-a-job"></a>9.3. Scheduling a Job</h3>
      <div class="paragraph">
       <p>The job manager provides two scheduling methods, which only differ in the work they accept for execution (callable or runnable).</p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">IFuture&lt;<span class="predefined-type">Void</span>&gt; schedule(IRunnable runnable, JobInput input); <i class="conum" data-value="1"></i><b>(1)</b>
&lt;RESULT&gt; IFuture&lt;RESULT&gt; schedule(<span class="predefined-type">Callable</span>&lt;RESULT&gt; callable, JobInput input); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Use to schedule a runnable which does not return a result to the submitter</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Use to schedule a callable which does return a result to the submitter</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>The second and mandatory argument to be provided is the <code>JobInput</code>, which tells the job manager how to run the job. Learn more about <a href="#jobinput">JobInput</a>.</p>
      </div>
      <div class="paragraph">
       <p>The following snippet illustrates how a job is actually scheduled.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 26. Schedule a job
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">IJobManager jobManager = BEANS.get(IJobManager.class); <i class="conum" data-value="1"></i><b>(1)</b>
<i class="conum" data-value="2"></i><b>(2)</b>
jobManager.schedule(() -&gt; {
  <span class="comment">// do something</span>
}, BEANS.get(JobInput.class)); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Obtain the job manager via bean manager (application scoped bean)</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Provide the work to be executed (either runnable or callable)</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>Provide the <code>JobInput</code> to instrument job execution</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>This looks a little bit clumsy, which is why Scout provides you with the <code>Jobs</code> class to simplify dealing with the job manager, and to support you in the creation of job related artifacts like <code>JobInput</code>, filter builders and more. Most importantly, it allows to schedule jobs in a shorter and more readable form.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 27. Schedule a job via Jobs helper class
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// do something</span>
}, Jobs.newInput());</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="jobinput"><a class="anchor" href="#jobinput"></a>9.4. JobInput</h3>
      <div class="paragraph">
       <p>The job input tells the job manager how to run the job. It further names the job to ease debugging, declares in which context to run the job, and how to deal with unhandled exceptions. The job input itself is a bean, useful if adding some additional features to the job manager. The API of <code>JobInput</code> supports for method chaining for reduced and more solid code.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 28. Schedule a job and control execution via JobInput
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// do something</span>
}, Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">job name</span><span class="delimiter">"</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
    .withRunContext(ClientRunContexts.copyCurrent()) <i class="conum" data-value="2"></i><b>(2)</b>
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withStartIn(<span class="integer">10</span>, <span class="predefined-type">TimeUnit</span>.SECONDS) <i class="conum" data-value="3"></i><b>(3)</b>
        .withSchedule(FixedDelayScheduleBuilder.repeatForever(<span class="integer">5</span>, <span class="predefined-type">TimeUnit</span>.SECONDS))) <i class="conum" data-value="4"></i><b>(4)</b>
    .withExceptionHandling(<span class="keyword">new</span> ExceptionHandler() { <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="annotation">@Override</span>
      <span class="directive">public</span> <span class="type">void</span> handle(<span class="predefined-type">Throwable</span> t) {
        <span class="predefined-type">System</span>.err.println(t);
      }
    }, <span class="predefined-constant">true</span>));</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>This snippet instructs the job manager to run the job as following:</p>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Give the job a name.</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Run the job in the current calling context, meaning in the very same context as the submitter is running when giving this job to the job manager. By copying the current context, the job will also be cancelled upon cancellation of the current <code>RunContext</code>.</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>Commence execution in 10 seconds (delayed execution).</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="4"></i><b>4</b></td>
          <td>Execute the job repeatedly, with a delay of 5 seconds between the termination of one and the commencement of the next execution. Also, repeat the job infinitely, until being cancelled.</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="5"></i><b>5</b></td>
          <td>Print any uncaught exception to the error console, and do not propagate the exception to the submitter, nor cancel the job upon an uncaught exception.</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>The following paragraphs describe the functionality of <code>JobInput</code> in more detail.</p>
      </div>
      <div class="sect3">
       <h4 id="jobinput-withname"><a class="anchor" href="#jobinput-withname"></a>9.4.1. JobInput.withName</h4>
       <div class="paragraph">
        <p>To optionally specify the name of the job, which is used to name the worker thread (only in development environment) and for logging purpose. Optionally, <em>formatting anchors</em> in the form of {} pairs can be used in the name, which will be replaced by the respective argument.</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Sending emails [from={}, to={}]</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">frank</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">john@eclipse.org, jack@eclipse.org</span><span class="delimiter">"</span></span>);</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jobinput-withruncontext"><a class="anchor" href="#jobinput-withruncontext"></a>9.4.2. JobInput.withRunContext</h4>
       <div class="paragraph">
        <p>To optionally specify the <code>RunContext</code> to be installed during job execution. The <code>RunMonitor</code> associated with the <code>RunContext</code> will be used as the job&#x2019;s monitor, meaning that cancellation requests to the job future or the context&#x2019;s monitor are equivalent. If no context is given, the job manager ensures a monitor to be installed, so that executing code can always query its cancellation status via <code>RunMonitor.CURRENT.get().isCancelled()</code>.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jobinput-withexecutiontrigger"><a class="anchor" href="#jobinput-withexecutiontrigger"></a>9.4.3. JobInput.withExecutionTrigger</h4>
       <div class="paragraph">
        <p>To optionally set the trigger to define the schedule upon which the job will commence execution. If not set, the job will commence execution immediately after being scheduled, and will execute exactly once.</p>
       </div>
       <div class="paragraph">
        <p>The trigger mechanism is provided by Quartz Scheduler, meaning that you can profit from the powerful Quartz schedule capabilities.</p>
       </div>
       <div class="paragraph">
        <p>For more information, see <a href="http://www.quartz-scheduler.org" class="bare">http://www.quartz-scheduler.org</a>.</p>
       </div>
       <div class="paragraph">
        <p>Use the static factory method <code>Jobs.newExecutionTrigger()</code> to get an instance:</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Schedules a delayed single executing job</span>
Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">job</span><span class="delimiter">"</span></span>)
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withStartIn(<span class="integer">10</span>, <span class="predefined-type">TimeUnit</span>.SECONDS));
<span class="comment">// Schedules a repeatedly running job at a fixed rate (every hour), which ends in 24 hours</span>
Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">job</span><span class="delimiter">"</span></span>)
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withEndIn(<span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.DAYS)
        .withSchedule(SimpleScheduleBuilder.repeatHourlyForever()));
<span class="comment">// Schedules a job which runs at 10:15am every Monday, Tuesday, Wednesday, Thursday and Friday</span>
Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">job</span><span class="delimiter">"</span></span>)
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withSchedule(CronScheduleBuilder.cronSchedule(<span class="string"><span class="delimiter">"</span><span class="content">0 15 10 ? * MON-FRI</span><span class="delimiter">"</span></span>)));</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>Learn more about <a href="#executiontrigger">ExecutionTrigger</a>.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jobinput-withexecutionsemaphore"><a class="anchor" href="#jobinput-withexecutionsemaphore"></a>9.4.4. JobInput.withExecutionSemaphore</h4>
       <div class="paragraph">
        <p>To optionally control the maximal concurrently level among jobs assigned to the same semaphore.</p>
       </div>
       <div class="paragraph">
        <p>With a semaphore in place, this job only commences execution, once a permit is free or gets available. If free, the job commences execution immediately at the next reasonable opportunity, unless no worker thread is available.</p>
       </div>
       <div class="paragraph">
        <p>A semaphore initialized to one allows to run jobs in a mutually exclusive manner, and a semaphore initialized to zero to run no job at all. The number of total permits available can be changed at any time, which allows to adapt the maximal concurrency level to some dynamic criteria like time of day or system load. However, a semaphore can be sealed, meaning that the number of permits cannot be changed anymore, and any attempts will be rejected.</p>
       </div>
       <div class="paragraph">
        <p>A new semaphore instance can be obtained via <code>Jobs</code> class.</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">IExecutionSemaphore semaphore = Jobs.newExecutionSemaphore(<span class="integer">5</span>); <i class="conum" data-value="1"></i><b>(1)</b>
<span class="keyword">for</span> (<span class="type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">100</span>; i++) {
  <i class="conum" data-value="2"></i><b>(2)</b>
  Jobs.schedule(() -&gt; {
    <span class="comment">// doing something</span>
  }, Jobs.newInput()
      .withName(<span class="string"><span class="delimiter">"</span><span class="content">job-{}</span><span class="delimiter">"</span></span>, i)
      .withExecutionSemaphore(semaphore)); <i class="conum" data-value="3"></i><b>(3)</b>
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Create a new <code>ExecutionSemaphore</code> via <code>Jobs</code> class. The semaphore is initialized with 5 permits, meaning that at any given time, there are no more than 5 jobs running concurrently.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Schedule 100 jobs in a row.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="3"></i><b>3</b></td>
           <td>Set the semaphore to limit the maximal concurrency level to 5 jobs.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>Learn more about <a href="#executionsemaphore">ExecutionSemaphore</a>.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jobinput-withexecutionhint"><a class="anchor" href="#jobinput-withexecutionhint"></a>9.4.5. JobInput.withExecutionHint</h4>
       <div class="paragraph">
        <p>To associate the job with an execution hint. An execution hint is simply a marker to mark a job, and can be evaluated by filters to select jobs, e.g. to listen to job lifecycle events of some particular jobs, or to wait for some particular jobs to complete, or to cancel some particular jobs. A job may have multiple hints associated. Further, hints can be registered directly on the future via <code>IFuture.addExecutionHint(hint)</code>, or removed via <code>IFuture.removeExecutionHint(hint)</code>.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jobinput-withexceptionhandling"><a class="anchor" href="#jobinput-withexceptionhandling"></a>9.4.6. JobInput.withExceptionHandling</h4>
       <div class="paragraph">
        <p>To control how to deal with uncaught exceptions. By default, an uncaught exception is handled by <code>ExceptionHandler</code> bean and then propagated to the submitter, unless the submitter is not waiting for the job to complete via <code>IFuture.awaitDoneAndGet()</code>.</p>
       </div>
       <div class="paragraph">
        <p>This method expects two arguments: an optional exception handler, and a boolean flag indicating whether to swallow exceptions. 'Swallow' is independent of the specified exception handler, and indicates whether an exception should be propagated to the submitter, or swallowed otherwise.</p>
       </div>
       <div class="paragraph">
        <p>If running a repetitive job with swallowing set to <code>true</code>, the job will continue its repetitive execution upon an uncaught exception. If set to false, the execution would exit.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jobinput-withthreadname"><a class="anchor" href="#jobinput-withthreadname"></a>9.4.7. JobInput.withThreadName</h4>
       <div class="paragraph">
        <p>To set the thread name of the worker thread that will execute the job.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jobinput-withexpirationtime"><a class="anchor" href="#jobinput-withexpirationtime"></a>9.4.8. JobInput.withExpirationTime</h4>
       <div class="paragraph">
        <p>To set the maximal expiration time upon which the job must commence execution. If elapsed, the job is cancelled and does not commence execution. By default, a job never expires.</p>
       </div>
       <div class="paragraph">
        <p>For a job that executes once, the expiration is evaluated just before it commences execution. For a job with a repeating schedule, it is evaluated before every single execution.</p>
       </div>
       <div class="paragraph">
        <p>In contrast, the trigger&#x2019;s end time specifies the time at which the trigger will no longer fire. However, if fired, the job may not be executed immediately at this time, which depends on whether having to compete for an execution permit first. So the end time may already have elapsed once commencing execution. In contrast, the expiration time is evaluated just before starting execution.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="ifuture"><a class="anchor" href="#ifuture"></a>9.5. IFuture</h3>
      <div class="paragraph">
       <p>A future represents the result of an asynchronous computation, and is returned by the job manager upon scheduling a job. The future provides functionality to await for the job to complete, or to get its computation result or exception, or to cancel its execution, and more.</p>
      </div>
      <div class="paragraph">
       <p>Learn more about job cancellation in <a href="#job-cancellation">Section 9.9</a>.<br> Learn more about listening for job lifecycle events in <a href="#subscribe-for-job-lifecycle-events">Section 9.10</a>.<br> Learn more about awaiting the job&#x2019;s completion in <a href="#awaiting-job-completion">Section 9.11</a>.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="job-states"><a class="anchor" href="#job-states"></a>9.6. Job states</h3>
      <div class="paragraph">
       <p>Upon scheduling a job, the job transitions different states. The current state of a job can be queried from its associated <a href="#ifuture">IFuture</a>.</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <colgroup>
        <col style="width: 25%;">
        <col style="width: 75%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">state</th>
         <th class="tableblock halign-left valign-top">description</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">SCHEDULED</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that a job was given to the job manager for execution.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">REJECTED</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that a job was rejected for execution. This might happen if the job manager has been shutdown, or if no more worker threads are available.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">PENDING</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that a job&#x2019;s execution is pending, either because scheduled with a delay, or because of being a repetitive job while waiting for the commencement of the next execution.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">RUNNING</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that a job is running.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">DONE</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that a job finished execution, either normally or because it was cancelled. Use <code>IFuture.isCancelled()</code> to check for cancellation.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">WAITING_FOR_PERMIT</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that a semaphore aware job is competing for a permit to become available.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">WAITING_FOR_BLOCKING_CONDITION</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that a job is blocked by a blocking condition, and is waiting for it to fall.</p></td>
        </tr>
       </tbody>
      </table>
      <div class="admonitionblock tip">
       <table>
        <tbody>
         <tr>
          <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
          <td class="content"> The state 'done' does not necessarily imply that the job already finished execution. That is because a job also enters 'done' state upon cancellation, but may still continue execution. </td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="sect2">
      <h3 id="future-filter"><a class="anchor" href="#future-filter"></a>9.7. Future filter</h3>
      <div class="paragraph">
       <p>A future filter is a filter which can be passed to various methods of the job manager to select some futures. The filter must implement <code>IFilter</code> interface, and has a single method to accept futures of interest.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 29. Example of a future filter
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">FutureFilter</span> <span class="directive">implements</span> <span class="predefined-type">Predicate</span>&lt;IFuture&lt;?&gt;&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> test(IFuture&lt;?&gt; future) {
    <span class="comment">// Accept or reject the future</span>
    <span class="keyword">return</span> <span class="predefined-constant">false</span>;
  }
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>Scout provides you with <code>FutureFilterBuilder</code> class to ease building filters which match multiple criteria joined by logical 'AND' operation.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 30. Usage of FutureFilterBuilder
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Predicate</span>&lt;IFuture&lt;?&gt;&gt; filter = Jobs.newFutureFilterBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
    .andMatchExecutionHint(<span class="string"><span class="delimiter">"</span><span class="content">computation</span><span class="delimiter">"</span></span>) <i class="conum" data-value="2"></i><b>(2)</b>
    .andMatchNotState(<span class="predefined-type">JobState</span>.PENDING) <i class="conum" data-value="3"></i><b>(3)</b>
    .andAreSingleExecuting() <i class="conum" data-value="4"></i><b>(4)</b>
    .andMatchNotFuture(IFuture.CURRENT.get()) <i class="conum" data-value="5"></i><b>(5)</b>
    .andMatchRunContext(ClientRunContext.class) <i class="conum" data-value="6"></i><b>(6)</b>
    .andMatch(<span class="keyword">new</span> SessionFutureFilter(ISession.CURRENT.get())) <i class="conum" data-value="7"></i><b>(7)</b>
    .toFilter(); <i class="conum" data-value="8"></i><b>(8)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Returns an instance of the future filter builder</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Specifies to match only futures associated with execution hint 'computation'</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>Specifies to match only jobs not in state pending</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="4"></i><b>4</b></td>
          <td>Specifies to match only single executing jobs, meaning no recurring jobs</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="5"></i><b>5</b></td>
          <td>Specifies to exclude the current future (if any)</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="6"></i><b>6</b></td>
          <td>Specifies to match only jobs running on behalf of a <code>ClientRunContext</code></td>
         </tr>
         <tr>
          <td><i class="conum" data-value="7"></i><b>7</b></td>
          <td>Specifies to match only jobs of the current session</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="8"></i><b>8</b></td>
          <td>Builds the filters to get a Filter instance</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>Fore more information, refer to the JavaDoc of <code>FutureFilterBuilder</code>.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="event-filter"><a class="anchor" href="#event-filter"></a>9.8. Event filter</h3>
      <div class="paragraph">
       <p>A job event filter is a filter which can be given to job manager to subscribe for job lifecycle events. The filter must implement <code>IFilter</code> interface, and has a single method to accept events of interest.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 31. Example of an event filter
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">EventFilter</span> <span class="directive">implements</span> <span class="predefined-type">Predicate</span>&lt;JobEvent&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> test(JobEvent event) {
    <span class="comment">// Accept or reject the event</span>
    <span class="keyword">return</span> <span class="predefined-constant">false</span>;
  }
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>Scout provides you with <code>JobEventFilterBuilder</code> class to ease building filters which match multiple criteria joined by logical 'AND' operation.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 32. Usage of JobEventFilterBuilder
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Predicate</span>&lt;JobEvent&gt; filter = Jobs.newEventFilterBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
    .andMatchEventType(JobEventType.JOB_STATE_CHANGED) <i class="conum" data-value="2"></i><b>(2)</b>
    .andMatchState(<span class="predefined-type">JobState</span>.RUNNING) <i class="conum" data-value="3"></i><b>(3)</b>
    .andMatch(<span class="keyword">new</span> SessionJobEventFilter(ISession.CURRENT.get())) <i class="conum" data-value="4"></i><b>(4)</b>
    .andMatchExecutionHint(<span class="string"><span class="delimiter">"</span><span class="content">computation</span><span class="delimiter">"</span></span>) <i class="conum" data-value="5"></i><b>(5)</b>
    .toFilter(); <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Returns an instance of the job event filter builder</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Specifies to match all events representing a job state change</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>Specifies to match only events for jobs which transitioned into running state</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="4"></i><b>4</b></td>
          <td>Specifies to match only events for jobs of the current session</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="5"></i><b>5</b></td>
          <td>Specifies to match only events for jobs which are associated with the execution hint 'computation'</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="6"></i><b>6</b></td>
          <td>Builds the filters to get a Filter instance</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>Fore more information, refer to the JavaDoc of <code>JobEventFilterBuilder</code>.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="job-cancellation"><a class="anchor" href="#job-cancellation"></a>9.9. Job cancellation</h3>
      <div class="paragraph">
       <p>A job can be cancelled in two ways, either directly via its <a href="#ifuture">IFuture</a>, or via job manager. Both expect you to provide a boolean flag indicating whether to interrupt the executing working thread. Upon cancellation, the job immediately enters 'done' state. Learn more about <a href="#job-states">Section 9.6</a>. If cancelling via job manager, a future filter must be given to select the jobs to be cancelled. Learn more about <a href="#future-filter">Section 9.7</a></p>
      </div>
      <div class="paragraph">
       <p>The cancellation attempt will be ignored if the job has already completed or was cancelled. If not running yet, the job will never run. If the job has already started, then the <em>interruptIfRunning</em> parameter determines whether the thread executing the job should be interrupted in an attempt to stop the job.</p>
      </div>
      <div class="paragraph">
       <p>In the following some examples:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 33. Cancel a job via its future
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Schedule a job</span>
IFuture&lt;?&gt; future = Jobs.schedule(<span class="keyword">new</span> Work(), Jobs.newInput());
<span class="comment">// Cancel the job via its future</span>
future.cancel(<span class="predefined-constant">false</span>);</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 34. Cancel multiple jobs via job manager
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.getJobManager().cancel(Jobs.newFutureFilterBuilder()
    .andMatchFuture(future1, future2, future3)
    .toFilter(), <span class="predefined-constant">false</span>);</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 35. Cancel multiple jobs which match a specific execution hint and the current session
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.getJobManager().cancel(Jobs.newFutureFilterBuilder()
    .andMatchExecutionHint(<span class="string"><span class="delimiter">"</span><span class="content">computation</span><span class="delimiter">"</span></span>)
    .andMatch(<span class="keyword">new</span> SessionFutureFilter(ISession.CURRENT.get()))
    .toFilter(), <span class="predefined-constant">false</span>);</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>A job can query its current cancellation status via <code>RunMonitor.CURRENT.get().isCancelled()</code>. If doing some long running operations, it is recommended for the job to regularly check for cancellation.</p>
      </div>
      <div class="admonitionblock tip">
       <table>
        <tbody>
         <tr>
          <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
          <td class="content"> A job which is scheduled to run on a copy of the submitting <code>RunContext</code>, it gets also cancelled once the RunMonitor of that context gets cancelled. </td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="sect2">
      <h3 id="subscribe-for-job-lifecycle-events"><a class="anchor" href="#subscribe-for-job-lifecycle-events"></a>9.10. Subscribe for job lifecycle events</h3>
      <div class="paragraph">
       <p>Sometimes it is useful to register for some job lifecycle events. The following event types can be subscribed for:</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <colgroup>
        <col style="width: 25%;">
        <col style="width: 75%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">state</th>
         <th class="tableblock halign-left valign-top">description</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">JOB_STATE_CHANGED</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Signals that a job transitioned to a new JobState, e.g. form JobState.SCHEDULED to JobState.RUNNING.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">JOB_EXECUTION_HINT_ADDED</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Signals that an execution hint was added to a job.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">JOB_EXECUTION_HINT_REMOVED</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Signals that an execution hint was removed from a job.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">JOB_MANAGER_SHUTDOWN</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Signals that the job manager was shutdown.</p></td>
        </tr>
       </tbody>
      </table>
      <div class="paragraph">
       <p>The listener is registered via job manager as following:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 36. Subscribe for global job events
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.getJobManager().addListener(Jobs.newEventFilterBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
    .andMatchEventType(JobEventType.JOB_STATE_CHANGED)
    .andMatchState(<span class="predefined-type">JobState</span>.RUNNING)
    .andMatch(<span class="keyword">new</span> SessionJobEventFilter(ISession.CURRENT.get()))
    .toFilter(), event -&gt; {
      IFuture&lt;?&gt; future = event.getData().getFuture(); <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">"</span><span class="content">Job commences execution: </span><span class="delimiter">"</span></span> + future.getJobInput().getName());
    });</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Subscribe for all events related to jobs just about to commence execution, and which belong to the current session</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Get the future this event was fired for</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>If interested in only events of a single future, the listener can be registered directly on the future.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 37. Subscribe for local job events
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">future.addListener(Jobs.newEventFilterBuilder()
    .andMatchEventType(JobEventType.JOB_STATE_CHANGED)
    .andMatchState(<span class="predefined-type">JobState</span>.RUNNING)
    .toFilter(), event -&gt; <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">"</span><span class="content">Job commences execution</span><span class="delimiter">"</span></span>));</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="awaiting-job-completion"><a class="anchor" href="#awaiting-job-completion"></a>9.11. Awaiting job completion</h3>
      <div class="paragraph">
       <p>A job&#x2019;s completion can be either awaited on its <a href="#ifuture">IFuture</a>, or via job manager - the first optionally allows to consume the job&#x2019;s computation result, whereas the second allows multiple futures to be awaited for.</p>
      </div>
      <div class="sect3">
       <h4 id="difference-between-done-and-finished-state"><a class="anchor" href="#difference-between-done-and-finished-state"></a>9.11.1. Difference between 'done' and 'finished' state</h4>
       <div class="paragraph">
        <p>When awaiting futures, the definition of 'done' and 'finished' state should be understood - 'done' means that the future completed either normally, or was cancelled. But, if cancelled while running, the job may still continue its execution, whereas a job which not commenced execution yet, will never do so. The latter typically applies for jobs scheduled with a delay. However, 'finished' state differs from 'done' state insofar as a cancelled, currently running job enters 'finished' state only upon its actual completion. Otherwise, if not cancelled, or cancelled before executing, it is equivalent to 'done' state. In most situations, it is sufficient to await for the future&#x2019;s done state, especially because a cancelled job cannot return a result to the submitter anyway.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="awaiting-a-single-futures-done-state"><a class="anchor" href="#awaiting-a-single-futures-done-state"></a>9.11.2. Awaiting a single future&#x2019;s 'done' state</h4>
       <div class="paragraph">
        <p>Besides of some overloaded methods, <a href="#ifuture">IFuture</a> basically provides two methods to wait for a future to enter 'done' state, namely <code>awaitDone</code> and <code>awaitDoneAndGet</code>, with the difference that the latter additionally returns the job&#x2019;s result or exception. If the future is already done, those methods will return immediately. For both methods, there exists an overloaded version to wait for at most a given time, which once elapsed results in a <code>TimedOutError</code> thrown.</p>
       </div>
       <div class="paragraph">
        <p>Further, <code>awaitDoneAndGet</code> allows to specify an <a href="#exception-translation">IExceptionTranslator</a> to control exception translation. By default, <a href="#defaultruntimeexceptiontranslator">DefaultRuntimeExceptionTranslator</a> is used, meaning that a <code>RuntimeException</code> is propagated as it is, whereas a checked exception would be wrapped into a <a href="#platformexception">PlatformException</a>. If you require checked exceptions to be thrown as they are, use <a href="#defaultexceptiontranslator">DefaultExceptionTranslator</a> instead, or even <a href="#nullexceptiontranslator">NullExceptionTranslator</a> to work with the raw <code>ExecutionException</code> as being thrown by Java Executor framework.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 38. Examples of how to await done state on a future
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">IFuture&lt;<span class="predefined-type">String</span>&gt; future = Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
  <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">computation result</span><span class="delimiter">"</span></span>;
}, Jobs.newInput());
<span class="comment">// Wait until done without consuming the result</span>
future.awaitDone(); <i class="conum" data-value="1"></i><b>(1)</b>
future.awaitDone(<span class="integer">10</span>, <span class="predefined-type">TimeUnit</span>.SECONDS); <i class="conum" data-value="2"></i><b>(2)</b>
<span class="comment">// Wait until done and consume the result</span>
<span class="predefined-type">String</span> result = future.awaitDoneAndGet(); <i class="conum" data-value="3"></i><b>(3)</b>
result = future.awaitDoneAndGet(<span class="integer">10</span>, <span class="predefined-type">TimeUnit</span>.SECONDS); <i class="conum" data-value="4"></i><b>(4)</b>
<span class="comment">// Wait until done, consume the result, and use a specific exception translator</span>
result = future.awaitDoneAndGet(DefaultExceptionTranslator.class); <i class="conum" data-value="5"></i><b>(5)</b>
result = future.awaitDoneAndGet(<span class="integer">10</span>, <span class="predefined-type">TimeUnit</span>.SECONDS, DefaultExceptionTranslator.class); <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Waits if necessary for the job to complete, or until cancelled. This method does not throw an exception if cancelled or the computation failed, but throws <a href="#threadinterruptederror">ThreadInterruptedError</a> if the current thread was interrupted while waiting.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Waits if necessary for at most 10 seconds for the job to complete, or until cancelled, or the timeout elapses. This method does not throw an exception if cancelled, or the computation failed, but throws <a href="#timedouterror">TimedOutError</a> if waiting timeout elapsed, or throws <a href="#threadinterruptederror">ThreadInterruptedError</a> if the current thread was interrupted while waiting.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="3"></i><b>3</b></td>
           <td>Waits if necessary for the job to complete, and then returns its result, if available, or throws its exception according to <a href="#defaultruntimeexceptiontranslator">DefaultRuntimeExceptionTranslator</a>, or throws <a href="#futurecancellederror">FutureCancelledError</a> if cancelled, or throws <a href="#threadinterruptederror">ThreadInterruptedError</a> if the current thread was interrupted while waiting.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="4"></i><b>4</b></td>
           <td>Waits if necessary for at most 10 seconds for the job to complete, and then returns its result, if available, or throws its exception according to <a href="#defaultruntimeexceptiontranslator">DefaultRuntimeExceptionTranslator</a>, or throws <a href="#futurecancellederror">FutureCancelledError</a> if cancelled, or throws <a href="#timedouterror">TimedOutError</a> if waiting timeout elapsed, or throws <a href="#threadinterruptederror">ThreadInterruptedError</a> if the current thread was interrupted while waiting.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="5"></i><b>5</b></td>
           <td>Waits if necessary for the job to complete, and then returns its result, if available, or throws its exception according to the given <a href="#defaultexceptiontranslator">DefaultExceptionTranslator</a>, or throws <a href="#futurecancellederror">FutureCancelledError</a> if cancelled, or throws <a href="#threadinterruptederror">ThreadInterruptedError</a> if the current thread was interrupted while waiting.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="6"></i><b>6</b></td>
           <td>Waits if necessary for at most the given time for the job to complete, and then returns its result, if available, or throws its exception according to the given <a href="#defaultexceptiontranslator">DefaultExceptionTranslator</a>, or throws <a href="#futurecancellederror">FutureCancelledError</a> if cancelled, or throws <a href="#timedouterror">TimedOutError</a> if waiting timeout elapsed, or throws <a href="#threadinterruptederror">ThreadInterruptedError</a> if the current thread was interrupted while waiting.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>It is further possible to await asynchronously on a future to enter done state by registering a callback via <code>whenDone</code> method. The advantage over registering a listener is that the callback is invoked even if the future already entered done state upon registration.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 39. Example of when-done callback
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">future.whenDone(event -&gt; {
  <span class="comment">// invoked upon entering done state.</span>
}, ClientRunContexts.copyCurrent());</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>Because invoked in another thread, this method optionally accepts a <a href="#runcontext">RunContext</a> to be applied when being invoked.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="awaiting-a-single-futures-finished-state"><a class="anchor" href="#awaiting-a-single-futures-finished-state"></a>9.11.3. Awaiting a single future&#x2019;s 'finished' state</h4>
       <div class="paragraph">
        <p>Use the method <code>awaitFinished</code> to wait for the job to finish, meaning that the job either completed normally or by an exception, or that it will never commence execution due to a premature cancellation. To learn more about the difference between 'done' and 'finished' state, click <a href="#difference-between-done-and-finished-state">here</a>. Please note that this method does not return the job&#x2019;s result, because by Java Future definition, a cancelled job cannot provide a result.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 40. Examples of how to await finished state on a future
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">IFuture&lt;<span class="predefined-type">String</span>&gt; future = Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
  <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">computation result</span><span class="delimiter">"</span></span>;
}, Jobs.newInput());
<span class="comment">// Wait until finished</span>
future.awaitFinished(<span class="integer">10</span>, <span class="predefined-type">TimeUnit</span>.SECONDS);</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="awaiting-multiple-futures-done-state"><a class="anchor" href="#awaiting-multiple-futures-done-state"></a>9.11.4. Awaiting multiple future&#x2019;s 'done' state</h4>
       <div class="paragraph">
        <p>Job Manager allows to await for multiple futures at once. The filter to be provided limits the futures to await for. This method requires you to provide a maximal time to wait.</p>
       </div>
       <div class="paragraph">
        <p>Filters can be plugged by using logical filters like <code>AndFilter</code> or <code>OrFilter</code>, or negated by enclosing a filter in <code>NotFilter</code>. Also see <a href="#future-filter">Section 9.7</a> to create a filter to match multiple criteria joined by logical 'AND' operation.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 41. Examples of how to await done state of multiple futures
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Wait for some futures</span>
Jobs.getJobManager().awaitDone(Jobs.newFutureFilterBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
    .andMatchFuture(future1, future2, future3)
    .toFilter(), <span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES);
<span class="comment">// Wait for all futures marked as 'reporting' jobs of the current session</span>
Jobs.getJobManager().awaitDone(Jobs.newFutureFilterBuilder() <i class="conum" data-value="2"></i><b>(2)</b>
    .andMatchExecutionHint(<span class="string"><span class="delimiter">"</span><span class="content">reporting</span><span class="delimiter">"</span></span>)
    .andMatch(<span class="keyword">new</span> SessionFutureFilter(ISession.CURRENT.get()))
    .toFilter(), <span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES);</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Waits if necessary for at most 1 minute for all three futures to complete, or until cancelled, or the timeout elapses.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Waits if necessary for at most 1 minute until all jobs marked as 'reporting' jobs of the current session complete, or until cancelled, or the timeout elapses.</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="awaiting-multiple-futures-finished-state"><a class="anchor" href="#awaiting-multiple-futures-finished-state"></a>9.11.5. Awaiting multiple future&#x2019;s 'finished' state</h4>
       <div class="paragraph">
        <p>Use the method <code>awaitFinished</code> to wait for multiple jobs to finish, meaning that the jobs either completed normally or by an exception, or that they will never commence execution due to a premature cancellation. To learn more about the difference between 'done' and 'finished' state, click <a href="#difference-between-done-and-finished-state">here</a>.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 42. Examples of how to await finish state of multiple futures
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Wait for some futures</span>
Jobs.getJobManager().awaitFinished(Jobs.newFutureFilterBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
    .andMatchFuture(future1, future2, future3)
    .toFilter(), <span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES);
<span class="comment">// Wait for all futures marked as 'reporting' jobs of the current session</span>
Jobs.getJobManager().awaitFinished(Jobs.newFutureFilterBuilder() <i class="conum" data-value="2"></i><b>(2)</b>
    .andMatchExecutionHint(<span class="string"><span class="delimiter">"</span><span class="content">reporting</span><span class="delimiter">"</span></span>)
    .andMatch(<span class="keyword">new</span> SessionFutureFilter(ISession.CURRENT.get()))
    .toFilter(), <span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES);</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Waits if necessary for at most 1 minute for all three futures to finish, or until cancelled, or the timeout elapses.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Waits if necessary for at most 1 minute until all jobs marked as 'reporting' jobs of the current session finish, or until cancelled, or the timeout elapses.</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="uncaught-job-exceptions"><a class="anchor" href="#uncaught-job-exceptions"></a>9.12. Uncaught job exceptions</h3>
      <div class="paragraph">
       <p>If a job throws an exception, that exception is handled by <code>ExceptionHandler</code>, and propagated to the submitter. However, the exception is only propagated if having a waiting submitter. Also, an uncaught exception causes repetitive jobs to terminate.</p>
      </div>
      <div class="paragraph">
       <p>This default behavior as described can be changed via <a href="#jobinput-withexceptionhandling">JobInput.withExceptionHandling(..)</a>.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="blocking-condition"><a class="anchor" href="#blocking-condition"></a>9.13. Blocking condition</h3>
      <div class="paragraph">
       <p>A blocking condition allows a thread to wait for a condition to become <em>true</em>. That is similar to the Java Object&#x2019;s 'wait/notify' mechanism, but with some additional functionality regarding semaphore aware jobs. If a semaphore aware job enters a blocking condition, it releases ownership of the permit, which allows another job of that same semaphore to commence execution. Upon the condition becomes <em>true</em>, the job then must compete for a permit anew.</p>
      </div>
      <div class="paragraph">
       <p>A condition can be used across multiple threads to wait for the same condition. Also, a condition is reusable upon invalidation. And finally, a condition can be used even if not running within a job.</p>
      </div>
      <div class="paragraph">
       <p>A blocking condition is often used by model jobs to wait for something to happen, but to allow another model job to run while waiting. A typical use case would be to wait for a MessageBox to be closed.</p>
      </div>
      <div class="sect3">
       <h4 id="example-of-a-blocking-condition"><a class="anchor" href="#example-of-a-blocking-condition"></a>9.13.1. Example of a blocking condition</h4>
       <div class="paragraph">
        <p>You are running in a semaphore aware job and require to do some long running operation. During that time you do not require to be the permit owner. A simple but wrong approach would be the following:</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Schedule a long running operation.</span>
IFuture&lt;?&gt; future = Jobs.schedule(<span class="keyword">new</span> LongRunningOperation(), Jobs.newInput());
<span class="comment">// Wait until done.</span>
future.awaitDone();</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>The problem with this approach is, that you still are the permit owner while waiting, meaning that you possibly prevent other jobs from running. Instead, you could use a blocking condition for that to achieve:</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Create a blocking condition.</span>
<span class="directive">final</span> IBlockingCondition operationCompleted = Jobs.newBlockingCondition(<span class="predefined-constant">true</span>);
<span class="comment">// Schedule a long running operation.</span>
IFuture&lt;<span class="predefined-type">Void</span>&gt; future = Jobs.schedule(<span class="keyword">new</span> LongRunningOperation(), Jobs.newInput());
<span class="comment">// Register done callback to unblock the condition.</span>
future.whenDone(event -&gt; {
  <span class="comment">// Let the waiting job re-acquire a permit and continue execution.</span>
  operationCompleted.setBlocking(<span class="predefined-constant">false</span>);
}, <span class="predefined-constant">null</span>);
<span class="comment">// Wait until done. Thereby, the permit of the current job is released for the time while waiting.</span>
operationCompleted.waitFor();</code></pre>
        </div>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="executionsemaphore"><a class="anchor" href="#executionsemaphore"></a>9.14. ExecutionSemaphore</h3>
      <div class="paragraph">
       <p>Represents a fair counting semaphore used in Job API to control the maximal number of jobs running concurrently.</p>
      </div>
      <div class="paragraph">
       <p>Jobs which are assigned to the same semaphore run concurrently until they reach the maximal concurrency level defined for that semaphore. Subsequent tasks then wait in the queue until a permit becomes available.</p>
      </div>
      <div class="paragraph">
       <p>A semaphore initialized to one allows to run jobs in a mutually exclusive manner, and a semaphore initialized to zero to run no job at all. The number of total permits available can be changed at any time, which allows to adapt the maximal concurrency level to some dynamic criteria like time of day or system load. However, once calling seal(), the number of permits cannot be changed anymore, and any attempts will result in an AssertionException. By default, a semaphore is unbounded.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="executiontrigger"><a class="anchor" href="#executiontrigger"></a>9.15. ExecutionTrigger</h3>
      <div class="paragraph">
       <p>Component that defines the schedule upon which a job will commence execution.</p>
      </div>
      <div class="paragraph">
       <p>A trigger can be as simple as a 'one-shot' execution at some specific point in time in the future, or represent a schedule which executes a job on a repeatedly basis. The latter can be configured to run infinitely, or to end at a specific point in time. It is further possible to define rather complex triggers, like to execute a job every second Friday at noon, but with the exclusion of all the business&#x2019;s holidays.</p>
      </div>
      <div class="paragraph">
       <p>See the various schedule builders provided by Quartz Scheduler: <code>SimpleScheduleBuilder</code>, <code>CronScheduleBuilder</code>, <code>CalendarIntervalScheduleBuilder</code>, <code>DailyTimeIntervalScheduleBuilder</code>. The most powerful builder is <code>CronScheduleBuilder</code>. Cron is a UNIX tool with powerful and proven scheduling capabilities. For more information, see <a href="http://www.quartz-scheduler.org" class="bare">http://www.quartz-scheduler.org</a>.</p>
      </div>
      <div class="paragraph">
       <p>Additionally, Scout provides you with <code>FixedDelayScheduleBuilder</code> to run a job with a fixed delay between the termination of one execution and the commencement of the next execution.</p>
      </div>
      <div class="paragraph">
       <p>Use the static factory method 'Jobs.newExecutionTrigger()' to get an instance.</p>
      </div>
      <div class="sect3">
       <h4 id="misfiring"><a class="anchor" href="#misfiring"></a>9.15.1. Misfiring</h4>
       <div class="paragraph">
        <p>Regardless of the schedule used, job manager guarantees no concurrent execution of the same job. That may happen, if using a repeatedly schedule with the job not terminated its last execution yet, but the schedule&#x2019;s trigger would like to fire for the next execution already. Such a situation is called a misfiring. The action to be taken upon a misfiring is configurable via the schedule&#x2019;s misfiring policy. A policy can be to run the job immediately upon termination of the previous execution, or to just ignore that missed firing. See the JavaDoc of the schedule for more information.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="stopping-the-platform"><a class="anchor" href="#stopping-the-platform"></a>9.16. Stopping the platform</h3>
      <div class="paragraph">
       <p>Upon stopping the platform, the job manager will also be shutdown. If having a <a href="#platform-listener">IPlatformListener</a> to perform some cleanup work, and which requires the job manager to be still functional, that listener must be annotated with an <code>@Order</code> less than <code>IJobManager.DESTROY_ORDER</code>, which is 5'900. If not specifying an <code>@Order</code> explicitly, the listener will have the default order of <em>5</em>, meaning being invoked before job manager shutdown anyway.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="modeljobs"><a class="anchor" href="#modeljobs"></a>9.17. ModelJobs</h3>
      <div class="paragraph">
       <p>Model jobs exist client side only, and are used to interact with the Scout client model to read and write model values in a serial manner per session. That enables no synchronization to be used when interacting with the model.</p>
      </div>
      <div class="paragraph">
       <p>By definition, a model job requires to be run on behalf of a <a href="#properties-of-a-clientruncontext">ClientRunContext</a> with a <code>IClientSession</code> set, and must have the session&#x2019;s model job semaphore set as its <a href="#executionsemaphore">ExecutionSemaphore</a>. That causes all such jobs to be run in sequence in the model thread. At any given time, there is only one model thread active per client session.</p>
      </div>
      <div class="paragraph">
       <p>The class <code>ModelJobs</code> is a helper class, and is for convenience purpose to facilitate the creation of model job related artifacts, and to schedule model jobs.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 43. Running work in model thread
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><i class="conum" data-value="1"></i><b>(1)</b>
ModelJobs.schedule(() -&gt; {
  <span class="comment">// doing something in model thread</span>
}, ModelJobs.newInput(ClientRunContexts.copyCurrent()) <i class="conum" data-value="2"></i><b>(2)</b>
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Doing something in model thread</span><span class="delimiter">"</span></span>));</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Schedules the work to be executed in the model thread</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Creates the <code>JobInput</code> to become a model job, meaning with the session&#x2019;s model job semaphore set</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>For model jobs, it is also allowed to run according to a Quartz schedule plan, or to be executed with a delay. Then the model permit is acquired just before each execution, and not upon being scheduled.</p>
      </div>
      <div class="paragraph">
       <p>Furthermore, the class <code>ModelJobs</code> provides some useful static methods:</p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Returns true if the current thread represents the model thread for the current client session. At any given time, there is only one model thread active per client session.</span>
ModelJobs.isModelThread();
<span class="comment">// Returns true if the given Future belongs to a model job.</span>
ModelJobs.isModelJob(IFuture.CURRENT.get());
<span class="comment">// Returns a builder to create a filter for future objects representing a model job.</span>
ModelJobs.newFutureFilterBuilder();
<span class="comment">// Returns a builder to create a filter for JobEvent objects originating from model jobs.</span>
ModelJobs.newEventFilterBuilder();
<span class="comment">// Instructs the job manager that the current model job is willing to temporarily yield its current model job permit. It is rarely appropriate to use this method. It may be useful for debugging or testing purposes.</span>
ModelJobs.yield();</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="configuration"><a class="anchor" href="#configuration"></a>9.18. Configuration</h3>
      <div class="paragraph">
       <p>Job manager can be configured with properties starting with <code>scout.jobmanager</code>. See <a href="#sec-app.configProperties">Section 2.5</a>.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="extending-job-manager"><a class="anchor" href="#extending-job-manager"></a>9.19. Extending job manager</h3>
      <div class="paragraph">
       <p>Job manager is implemented as an application scoped bean, and which can be replaced. To do so, create a class which extends <code>JobManager</code>, and annotate it with <code>@Replace</code> annotation. Most likely, you like to use the EE container&#x2019;s <code>ThreadPoolExecutor</code>, or to contribute some behavior to the callable chain which finally executes the job.</p>
      </div>
      <div class="paragraph">
       <p>To change the executor, overwrite <code>createExecutor</code> method and return the executor of your choice. But do not forget to register a rejection handler to reject futures upon rejection. Also, overwrite <code>shutdownExecutor</code> to not shutdown the container&#x2019;s executor.</p>
      </div>
      <div class="paragraph">
       <p>To contribute some behavior to the callable chain, overwrite the method <code>interceptCallableChain</code> and contribute your decorator or interceptor. Refer to the method&#x2019;s JavaDoc for more information.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="scheduling-examples"><a class="anchor" href="#scheduling-examples"></a>9.20. Scheduling examples</h3>
      <div class="paragraph">
       <p>This sections contains some common scheduling examples.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 44. Schedule a one-shot job
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
}, Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Running once</span><span class="delimiter">"</span></span>)
    .withRunContext(ClientRunContexts.copyCurrent()));</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 45. Schedule a job with a delay
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
}, Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Running in 10 seconds</span><span class="delimiter">"</span></span>)
    .withRunContext(ClientRunContexts.copyCurrent())
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withStartIn(<span class="integer">10</span>, <span class="predefined-type">TimeUnit</span>.SECONDS))); <span class="comment">// delay of 10 seconds</span></code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 46. Schedule a repetitive job at a fixed rate
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
}, Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Running every minute</span><span class="delimiter">"</span></span>)
    .withRunContext(ClientRunContexts.copyCurrent())
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withStartIn(<span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES) <i class="conum" data-value="1"></i><b>(1)</b>
        .withSchedule(SimpleScheduleBuilder.simpleSchedule() <i class="conum" data-value="2"></i><b>(2)</b>
            .withIntervalInMinutes(<span class="integer">1</span>) <i class="conum" data-value="3"></i><b>(3)</b>
            .repeatForever()))); <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Configure to fire in 1 minute for the first time</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Use Quartz simple schedule to achieve fixed-rate execution</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>Repetitively fire every minute</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="4"></i><b>4</b></td>
          <td>Repeat forever</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 47. Schedule a repetitive job which runs 60 times at every minute
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
}, Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Running every minute for total 60 times</span><span class="delimiter">"</span></span>)
    .withRunContext(ClientRunContexts.copyCurrent())
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withStartIn(<span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES) <i class="conum" data-value="1"></i><b>(1)</b>
        .withSchedule(SimpleScheduleBuilder.simpleSchedule() <i class="conum" data-value="2"></i><b>(2)</b>
            .withIntervalInMinutes(<span class="integer">1</span>) <i class="conum" data-value="3"></i><b>(3)</b>
            .withRepeatCount(<span class="integer">59</span>)))); <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Configure to fire in 1 minute for the first time</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Use Quartz simple schedule to achieve fixed-rate execution</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>Repetitively fire every minute</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="4"></i><b>4</b></td>
          <td>Repeat 59 times, plus the initial execution</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 48. Schedule a repetitive job at a fixed delay
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
}, Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Running forever with a delay of 1 minute between the termination of the previous and the next execution</span><span class="delimiter">"</span></span>)
    .withRunContext(ClientRunContexts.copyCurrent())
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withStartIn(<span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES) <i class="conum" data-value="1"></i><b>(1)</b>
        .withSchedule(FixedDelayScheduleBuilder.repeatForever(<span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES)))); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Configure to fire in 1 minute for the first time</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Use fixed delay schedule</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 49. Schedule a repetitive job which runs 60 times, but waits 1 minute between the termination of the previous and the commencement of the next execution
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
}, Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Running 60 times with a delay of 1 minute between the termination of the previous and the next execution</span><span class="delimiter">"</span></span>)
    .withRunContext(ClientRunContexts.copyCurrent())
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withStartIn(<span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES) <i class="conum" data-value="1"></i><b>(1)</b>
        .withSchedule(FixedDelayScheduleBuilder.repeatForTotalCount(<span class="integer">60</span>, <span class="integer">1</span>, <span class="predefined-type">TimeUnit</span>.MINUTES)))); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Configure to fire in 1 minute for the first time</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Use fixed delay schedule</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 50. Running at 10:15am every Monday, Tuesday, Wednesday, Thursday and Friday
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
}, Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Running at 10:15am every Monday, Tuesday, Wednesday, Thursday and Friday</span><span class="delimiter">"</span></span>)
    .withRunContext(ClientRunContexts.copyCurrent())
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withSchedule(CronScheduleBuilder.cronSchedule(<span class="string"><span class="delimiter">"</span><span class="content">0 15 10 ? * MON-FRI</span><span class="delimiter">"</span></span>)))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Cron format: [second] [minute] [hour] [day_of_month] [month] [day_of_week] [year]?</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 51. Running every minute starting at 14:00 and ending at 14:05, every day
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; {
  <span class="comment">// doing something</span>
}, Jobs.newInput()
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">Running every minute starting at 14:00 and ending at 14:05, every day</span><span class="delimiter">"</span></span>)
    .withRunContext(ClientRunContexts.copyCurrent())
    .withExecutionTrigger(Jobs.newExecutionTrigger()
        .withSchedule(CronScheduleBuilder.cronSchedule(<span class="string"><span class="delimiter">"</span><span class="content">0 0-5 14 * * ?</span><span class="delimiter">"</span></span>)))); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Cron format: [second] [minute] [hour] [day_of_month] [month] [day_of_week] [year]?</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 52. Limit the maximal concurrency level among jobs
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">IExecutionSemaphore semaphore = Jobs.newExecutionSemaphore(<span class="integer">5</span>); <i class="conum" data-value="1"></i><b>(1)</b>
<span class="keyword">for</span> (<span class="type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">100</span>; i++) {
  Jobs.schedule(() -&gt; {
    <span class="comment">// doing something</span>
  }, Jobs.newInput()
      .withName(<span class="string"><span class="delimiter">"</span><span class="content">job-{}</span><span class="delimiter">"</span></span>, i)
      .withExecutionSemaphore(semaphore)); <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Create the execution semaphore initialized with 5 permits</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Set the execution semaphore to the job subject for limited concurrency</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 53. Cancel all jobs of the current session
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">Jobs.getJobManager().cancel(Jobs.newFutureFilterBuilder()
    .andMatch(<span class="keyword">new</span> SessionFutureFilter(ISession.CURRENT.get()))
    .toFilter(), <span class="predefined-constant">true</span>);</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 54. Query for cancellation
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">CancellableWork</span> <span class="directive">implements</span> IRunnable {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> run() <span class="directive">throws</span> <span class="exception">Exception</span> {
    <span class="comment">// do first chunk of operations</span>
    <span class="keyword">if</span> (RunMonitor.CURRENT.get().isCancelled()) {
      <span class="keyword">return</span>;
    }
    <span class="comment">// do next chunk of operations</span>
    <span class="keyword">if</span> (RunMonitor.CURRENT.get().isCancelled()) {
      <span class="keyword">return</span>;
    }
    <span class="comment">// do next chunk of operations</span>
  }
}</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 55. Release current semaphore permit while executing
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Create a blocking condition.</span>
<span class="directive">final</span> IBlockingCondition operationCompleted = Jobs.newBlockingCondition(<span class="predefined-constant">true</span>);
<span class="comment">// Schedule a long running operation.</span>
IFuture&lt;<span class="predefined-type">Void</span>&gt; future = Jobs.schedule(<span class="keyword">new</span> LongRunningOperation(), Jobs.newInput());
<span class="comment">// Register done callback to unblock the condition.</span>
future.whenDone(event -&gt; {
  <span class="comment">// Let the waiting job re-acquire a permit and continue execution.</span>
  operationCompleted.setBlocking(<span class="predefined-constant">false</span>);
}, <span class="predefined-constant">null</span>);
<span class="comment">// Wait until done. Thereby, the permit of the current job is released for the time while waiting.</span>
operationCompleted.waitFor();</code></pre>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="runcontext"><a class="anchor" href="#runcontext"></a>10. RunContext</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>Mostly, code is run on behalf of some semantic context, for example as a particular <code>Subject</code> and with some context related <code>ThreadLocals</code> set, e.g. the user&#x2019;s <code>session</code> and its <code>Locale</code>. Scout provides you with different <code>RunContexts</code>, such as <code>ClientRunContext</code> or <code>ServerRunContext</code>. They all share some common characteristics like <code>Subject</code>, <code>Locale</code> and <code>RunMonitor</code>, but also provide some additional functionality like transaction boundaries if using <code>ServerRunContext</code>. Also, a <code>RunContext</code> facilitates propagation of state among different threads. In order to ease readability, the 'setter-methods' of the <code>RunContext</code> support method chaining.</p>
     </div>
     <div class="paragraph">
      <p>All a <code>RunContext</code> does is to provide some setter methods to construct the context, and a <code>run</code> and <code>call</code> method to run an action on behalf of that context. Thereby, the only difference among those two methods is their argument. Whereas <code>run</code> takes a <code>IRunnable</code> instance, <code>call</code> takes a <code>Callable</code> to additionally return a result to the caller. The action is run in the current thread, meaning that the caller is blocked until completion.</p>
     </div>
     <div class="paragraph">
      <p>By default, a <code>RunContext</code> is associated with a <code>RunMonitor</code>, and the monitor&#x2019;s cancellation status can be queried via <code>RunMonitor.CURRENT.get().isCancelled()</code>. The monitor allows for hard cancellation, meaning that the executing thread is interrupted upon cancellation. For instance if waiting on an interruptible construct like <code>Object.wait()</code> or <code>IFuture.awaitDone()</code>, the waiting thread returns with an interruption exception.</p>
     </div>
     <div class="sect2">
      <h3 id="factory-methods-to-create-a-runcontext"><a class="anchor" href="#factory-methods-to-create-a-runcontext"></a>10.1. Factory methods to create a RunContext</h3>
      <div class="paragraph">
       <p>Typically, a <code>RunContext</code> is created from a respective factory like <code>RunContexts</code> to create a <code>RunContext</code>, or <code>ServerRunContexts</code> to create a <code>ServerRunContext</code>, or <code>ClientRunContexts</code> to create a <code>ClientRunContext</code>. Internally, the <code>BeanManager</code> is asked to provide a new instance of the <code>RunContext</code>, which allows you to replace the default implementation of a <code>RunContext</code> in an easy way. The factories declare two factory methods: <code>empty()</code> and <code>copyCurrent()</code>. Whereas <code>empty()</code> provides you an empty <code>RunContext</code>, <code>copyCurrent()</code> takes a snapshot of the current calling context and initializes the <code>RunContext</code> accordingly. That is useful if only some few values are to be changed, or, if using <code>ServerRunContext</code>, to run the code on behalf of a new transaction.</p>
      </div>
      <div class="paragraph">
       <p>The following <a href="#lst-RunContexts.empty">Listing 56</a> illustrates the creation of an empty <code>RunContext</code> initialized with a particular <code>Subject</code> and <code>Locale</code>.</p>
      </div>
      <div id="lst-RunContexts.empty" class="listingblock">
       <div class="title">
        Listing 56. Creation of an empty
        <code>RunContext</code>
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Subject</span> subject = <span class="keyword">new</span> <span class="predefined-type">Subject</span>(); <i class="conum" data-value="1"></i><b>(1)</b>
subject.getPrincipals().add(<span class="keyword">new</span> SimplePrincipal(<span class="string"><span class="delimiter">"</span><span class="content">john</span><span class="delimiter">"</span></span>));
subject.setReadOnly();
<i class="conum" data-value="2"></i><b>(2)</b>
RunContexts.empty()
    .withSubject(subject)
    .withLocale(<span class="predefined-type">Locale</span>.US)
    .run(() -&gt; {
      <span class="comment">// run some code </span><i class="conum" data-value="3"></i><b>(3)</b>
      <span class="predefined-type">System</span>.out.println(NlsLocale.CURRENT.get()); <span class="comment">// &gt; Locale.US</span>
      <span class="predefined-type">System</span>.out.println(<span class="predefined-type">Subject</span>.getSubject(<span class="predefined-type">AccessController</span>.getContext())); <span class="comment">// &gt; john</span>
    });</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>create the <code>Subject</code> to do some work on behalf</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Create and initialize the <code>RunContext</code></td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>This code is run on behalf of the <code>RunContext</code></td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>The following <a href="#lst-RunContexts.copyCurrent">Listing 57</a> illustrates the creation of a 'snapshot' of the current calling <code>RunContext</code> with another <code>Locale</code> set.</p>
      </div>
      <div id="lst-RunContexts.copyCurrent" class="listingblock">
       <div class="title">
        Listing 57. Create a copy of the current calling
        <code>RunContext</code>
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">RunContexts.copyCurrent()
    .withLocale(<span class="predefined-type">Locale</span>.US)
    .run(() -&gt; {
      <span class="comment">// run some code</span>
    });</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>An important difference is related to the <code>RunMonitor</code>. By using the <code>copyCurrent()</code> factory method, the context&#x2019;s monitor is additionally registered as child monitor of the monitor of the current calling context. That way, a cancellation request to the calling context is propagated down to this context as well. Of course, that behavior can be overwritten by providing another monitor yourself.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="properties-of-a-runcontext"><a class="anchor" href="#properties-of-a-runcontext"></a>10.2. Properties of a RunContext</h3>
      <div class="paragraph">
       <p>The following properties are declared on a <code>RunContext</code> and are inherited by <code>ServerRunContext</code> and <code>ClientRunContext</code>.</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <colgroup>
        <col style="width: 10%;">
        <col style="width: 80%;">
        <col style="width: 10%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">property</th>
         <th class="tableblock halign-left valign-top">description</th>
         <th class="tableblock halign-left valign-top">accessibility</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">runMonitor</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Monitor to query the cancellation status of the context.</p> <p class="tableblock">* must not be <code>null</code> * is automatically set if creating the context by its factory * is automatically registered as child monitor if creating the context by <code>copyCurrent()</code> factory method</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">RunMonitor.CURRENT.get()</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">subject</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Subject to run the code on behalf</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Subject.getSubject(AccessController.getContext())</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">locale</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Locale to be bound to the Locale <code>ThreadLocal</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">NlsLocale.CURRENT.get()</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">propertyMap</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Properties to be bound to the Property <code>ThreadLocal</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">PropertyMap.CURRENT.get()</p></td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="sect2">
      <h3 id="properties-of-a-serverruncontext"><a class="anchor" href="#properties-of-a-serverruncontext"></a>10.3. Properties of a ServerRunContext</h3>
      <div class="paragraph">
       <p>A <code>ServerRunContext</code> controls propagation of server-side state and sets the transaction boundaries, and is a specialization of <code>RunContext</code>.</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <colgroup>
        <col style="width: 10%;">
        <col style="width: 80%;">
        <col style="width: 10%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">property</th>
         <th class="tableblock halign-left valign-top">description</th>
         <th class="tableblock halign-left valign-top">accessibility</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">session</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Session to be bound to Session <code>ThreadLocal</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">ISession.CURRENT.get()</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">transactionScope</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">To control transaction boundaries. By default, a new transaction is started, and committed or rolled back upon completion.</p> <p class="tableblock"> * Use <code>TransactionScope.REQUIRES_NEW</code> to run the code in a new transaction (by default). * Use <code>TransactionScope.REQUIRED</code> to only start a new transaction if not running in a transaction yet. * Use <code>TransactionScope.MANDATORY</code> to enforce that the caller is already running in a transaction. Otherwise, a <code>TransactionRequiredException</code> is thrown.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">ITransaction.CURRENT.get()</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">transaction</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the transaction to be used to run the runnable. Has only an effect, if transaction scope is set to TransactionScope.REQUIRED or TransactionScope.MANDATORY. Normally, this property should not be set manually.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">ITransaction.CURRENT.get()</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">clientNotificationCollector</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">To associate the context with the given ClientNotificationCollector, meaning that any code running on behalf of this context has that collector set in ClientNotificationCollector.CURRENT thread-local.<br> That collector is used to collect all transactional client notifications, which are to be published upon successful commit of the associated transaction, and which are addressed to the client node which triggered processing (see withClientNodeId(String)). That way, transactional client notifications are not published immediately upon successful commit, but included in the client&#x2019;s response instead (piggyback).<br> Typically, that collector is set by ServiceTunnelServlet for the processing of a service request.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">ClientNotificationCollector.CURRENT.get()</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">clientNodeId</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Associates this context with the given 'client node ID', meaning that any code running on behalf of this context has that id set in IClientNodeId.CURRENT thread-local.<br> Every client node (that is every UI server node) has its unique 'node ID' which is included with every 'client-server' request, and is mainly used to publish client notifications. If transactional client notifications are issued by code running on behalf of this context, those will not be published to that client node, but included in the request&#x2019;s response instead (piggyback).<br> However, transactional notifications are only sent to clients upon successful commit of the transaction.<br> Typically, this node ID is set by ServiceTunnelServlet for the processing of a service request.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">IClientNodeId.CURRENT.get()</p></td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="sect2">
      <h3 id="properties-of-a-clientruncontext"><a class="anchor" href="#properties-of-a-clientruncontext"></a>10.4. Properties of a ClientRunContext</h3>
      <div class="paragraph">
       <p>A <code>ClientRunContext</code> controls propagation of client-side state, and is a specialization of <code>RunContext</code>.</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <colgroup>
        <col style="width: 10%;">
        <col style="width: 80%;">
        <col style="width: 10%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">property</th>
         <th class="tableblock halign-left valign-top">description</th>
         <th class="tableblock halign-left valign-top">accessibility</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">session</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Session to be bound to Session <code>ThreadLocal</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">ISession.CURRENT.get()</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">form</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Associates this context with the given <code>IForm</code>, meaning that any code running on behalf of this context has that <code>IForm</code> set in <code>IForm.CURRENT</code> thread-local.<br> That information is mainly used to determine the current calling model context, e.g. when opening a message-box to associate it with the proper <code>IDisplayParent</code>.<br> Typically, that information is set by the UI facade when dispatching a request from UI, or when constructing UI model elements.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">IForm.CURRENT.get()</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">outline</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Associates this context with the given <code>IOutline</code>, meaning that any code running on behalf of this context has that <code>IOutline</code> set in <code>IOutline.CURRENT</code> thread-local.<br> That information is mainly used to determine the current calling model context, e.g. when opening a message-box to associate it with the proper <code>IDisplayParent</code>.<br> Typically, that information is set by the UI facade when dispatching a request from UI, or when constructing UI model elements.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">IOutline.CURRENT.get()</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">desktop</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Associates this context with the given <code>IDesktop</code>, meaning that any code running on behalf of this context has that <code>IDesktop</code> set in <code>IDesktop.CURRENT thread-local</code>.<br> That information is mainly used to determine the current calling model context, e.g. when opening a message-box to associate it with the proper <code>IDisplayParent</code>.<br> Typically, that information is set by the UI facade when dispatching a request from UI, or when constructing UI model elements.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">IDesktop.CURRENT.get()</p></td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="runmonitor"><a class="anchor" href="#runmonitor"></a>11. RunMonitor</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>A RunMonitor allows the registration of <code>ICancellable</code> objects, which are cancelled upon cancellation of this monitor. A RunMonitor is associated with every RunContext and IFuture, meaning that executing code can always query its current cancellation status via <code>RunMonitor.CURRENT.get().isCancelled()</code>.</p>
     </div>
     <div class="paragraph">
      <p>A <code>RunMonitor</code> itself is also of the type <code>ICancellable</code>, meaning that it can be registered within another monitor as well. That way, a monitor hierarchy can be created with support of nested cancellation. That is exactly what is done when creating a copy of the current calling context, namely that the new monitor is registered as <code>ICancellable</code> within the monitor of the current calling context. Cancellation only works top-down, and not bottom up, meaning that a parent monitor is not cancelled once a child monitor is cancelled.</p>
     </div>
     <div class="paragraph">
      <p>When registering a <code>ICancellable</code> and this monitor is already cancelled, the <code>ICancellable</code> is cancelled immediately.</p>
     </div>
     <div class="paragraph">
      <p>Furthermore, a job&#x2019;s Future is linked with the job&#x2019;s <code>RunMonitor</code>, meaning that cancellation requests targeted to the <code>Future</code> are also propagated to the <code>RunMonitor</code>, and vice versa.</p>
     </div>
     <div class="paragraph">
      <p>The following <a href="#img-runmonitor_associations">Figure 3</a> illustrates the <code>RunMonitor</code> and its associations.</p>
     </div>
     <div id="img-runmonitor_associations" class="imageblock">
      <div class="content">
       <img src="images/runmonitor_associations.png" alt="runmonitor associations">
      </div>
      <div class="title">
       Figure 3. RunMonitor and its associations
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="client-notifications"><a class="anchor" href="#client-notifications"></a>12. Client Notifications</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>In a scout application, typically, the scout client requests some data from the scout server. Sometimes, however, the communication needs go the other way: The scout server needs to inform the scout client about something. With client notifications it is possible to do so.</p>
     </div>
     <div id="img-client_notifications" class="imageblock">
      <div class="content">
       <img src="images/clientNotifications.png" alt="clientNotifications">
      </div>
      <div class="title">
       Figure 4. Client Notifications
      </div>
     </div>
     <div class="sect2">
      <h3 id="examples-2"><a class="anchor" href="#examples-2"></a>12.1. Examples</h3>
      <div class="paragraph">
       <p>Example scenarios for client notifications are:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>some data shared by client and server has changed (e.g. a cache on the client is no longer up-to-date, or a shared variable has changed)</p> </li>
        <li> <p>a new incoming phone call is available for a specific client and should be shown in the GUI</p> </li>
        <li> <p>a user wants to send a message to another user</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>Scout itself uses client notifications to synchronize code type and permission caches and session shared variables.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="data-flow"><a class="anchor" href="#data-flow"></a>12.2. Data Flow</h3>
      <div class="paragraph">
       <p>A client notification message is just a serializable object. It is published on the server and can be addressed either to all client nodes or only to a specific session or user. On the UI server side, handlers can be used to react upon incoming notifications.</p>
      </div>
      <div class="paragraph">
       <p>Client notification handlers may change the state of the client model. In case of visible changes in the UI, these changes are automatically reflected in the UI.</p>
      </div>
      <div class="paragraph">
       <p>In case of multiple server nodes, the client notifications are synchronized using cluster notifications to ensure that all UI servers receive the notifications.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="push-technology"><a class="anchor" href="#push-technology"></a>12.3. Push Technology</h3>
      <div id="img-long_polling" class="imageblock">
       <div class="content">
        <img src="images/cn_long_polling.png" alt="cn long polling">
       </div>
       <div class="title">
        Figure 5. Long Polling
       </div>
      </div>
      <div class="paragraph">
       <p>Client notifications are implemented using <code>long polling</code> as described below, because long polling works reliably in most corporate networks with proxy servers between server and client as well as with security policies that do not allow server push.</p>
      </div>
      <div class="paragraph">
       <p>With long polling, the client requests notifications from the server repeatedly. If no new notifications are available on the server, instead of sending an empty response, the server holds the request open and waits until new notifications are available or a timeout is reached.</p>
      </div>
      <div class="paragraph">
       <p>In addition to the long polling mechanism, pending client notifications are also transferred to the client along with the response of regular client requests.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="components"><a class="anchor" href="#components"></a>12.4. Components</h3>
      <div class="paragraph">
       <p>A client notification can be published on the server using the <code>ClientNotificationRegistry</code>. Publishing can be done either in a non-transactional or transactional way (only processed, when the transaction is committed).</p>
      </div>
      <div class="paragraph">
       <p>The UI Server either receives the notifications via the <code>ClientNotificationPoller</code> or in case of transactional notifications together with the response of a regular service request. The notification is then dispatched to the corresponding handler.</p>
      </div>
      <div class="paragraph">
       <p>When a client notifications is published on the server, it is automatically synchronized with the other server nodes (by default).</p>
      </div>
      <div id="img-client_notification_big_picture" class="imageblock">
       <div class="content">
        <img src="images/cn_big_picture.png" alt="cn big picture">
       </div>
       <div class="title">
        Figure 6. Client Notification Big Picture
       </div>
      </div>
      <div class="sect3">
       <h4 id="multiple-server-nodes"><a class="anchor" href="#multiple-server-nodes"></a>12.4.1. Multiple Server Nodes</h4>
       <div id="img-client_notification_multiple" class="imageblock">
        <div class="content">
         <img src="images/cn_multiple_servers.png" alt="cn multiple servers">
        </div>
        <div class="title">
         Figure 7. Client Notification Multiple Server Nodes
        </div>
       </div>
       <div class="paragraph">
        <p>In order to deal with multiple ui-server nodes, the server holds a single notifications queue per ui-server node.</p>
       </div>
       <div class="paragraph">
        <p>In this queues only the relevant notifications need to be kept: If a client notification is addressed to a session or user, that does not exist on a ui-server node, it is not added to the queue.</p>
       </div>
       <div class="paragraph">
        <p>Sessions and corresponding users are registered on the server upon creation (and de-registered after destruction).</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="publishing"><a class="anchor" href="#publishing"></a>12.5. Publishing</h3>
      <div class="listingblock">
       <div class="title">
        Listing 58. Publishing Client Notifications
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">BEANS.get(ClientNotificationRegistry.class).putForUser(<span class="string"><span class="delimiter">"</span><span class="content">admin</span><span class="delimiter">"</span></span>, <span class="keyword">new</span> PersonTableChangedNotification());</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>There are several options to choose from when publishing a new client notification:</p>
      </div>
      <div class="sect3">
       <h4 id="clientnotificationaddress"><a class="anchor" href="#clientnotificationaddress"></a>12.5.1. ClientNotificationAddress</h4>
       <div class="paragraph">
        <p>The <code>ClientNotificationAddress</code> determines which how the client notification needs to be dispatched and handled. A client notification can be addressed to</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>all nodes</p> </li>
         <li> <p>all sessions</p> </li>
         <li> <p>one or more specific session</p> </li>
         <li> <p>one or more specific user</p> </li>
        </ul>
       </div>
      </div>
      <div class="sect3">
       <h4 id="transactional-vs-non-transactional"><a class="anchor" href="#transactional-vs-non-transactional"></a>12.5.2. Transactional vs. Non-transactional</h4>
       <div class="paragraph">
        <p>Client notifications can be published in a transactional or non-transactional way.</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>Transactional means that the client notifications are only published once the transaction is committed. If the transaction fails, client notifications are disregarded.</p> </li>
         <li> <p>Non-transactional means that client notifications are published immediately without considering any transactions.</p> </li>
        </ul>
       </div>
      </div>
      <div class="sect3">
       <h4 id="distributing-to-all-cluster-nodes"><a class="anchor" href="#distributing-to-all-cluster-nodes"></a>12.5.3. Distributing to all Cluster Nodes</h4>
       <div class="paragraph">
        <p>Generally, it makes sense to distribute the client notifications automatically to all other server cluster nodes (if available). This is achieved using <code>ClusterNotifications</code>. It is however also possible to publish client notifications without cluster distribution. E.g. in case of client notifications already received from other cluster nodes.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="coalescing-notifications"><a class="anchor" href="#coalescing-notifications"></a>12.5.4. Coalescing Notifications</h4>
       <div class="paragraph">
        <p>It is possible that a service generates a lot of client notifications that are obsolete once a newer notification is created. In this case a coalescer can be created to reduce the notifications:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 59. Client Notification Coalescer
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">BookmarkNotificationCoalescer</span> <span class="directive">implements</span> ICoalescer&lt;BookmarkChangedClientNotification&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">List</span>&lt;BookmarkChangedClientNotification&gt; coalesce(<span class="predefined-type">List</span>&lt;BookmarkChangedClientNotification&gt; notifications) {
    <span class="comment">// reduce to one</span>
    <span class="keyword">return</span> CollectionUtility.arrayList(CollectionUtility.firstElement(notifications));
  }
}</code></pre>
        </div>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="handling"><a class="anchor" href="#handling"></a>12.6. Handling</h3>
      <div class="paragraph">
       <p>The <code>ClientNotificationDispatcher</code> is responsible for dispatching the client notifications to the correct handler.</p>
      </div>
      <div class="sect3">
       <h4 id="creating-a-client-notification-handler"><a class="anchor" href="#creating-a-client-notification-handler"></a>12.6.1. Creating a Client Notification Handler</h4>
       <div class="paragraph">
        <p>To create a new client notification handler for a specific client notification, all you need to do is creating a class implementing <code>org.eclipse.scout.rt.shared.notification.INotificationHandler&lt;T&gt;</code>, where <code>T</code> is the type (or subtype) of the notification to handle.</p>
       </div>
       <div class="paragraph">
        <p>The new handler does not need to be registered anywhere. It is available via jandex class inventory.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 60. Notification Handler for
         <code>MessageNotifications</code>
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MessageNotificationHandler</span> <span class="directive">implements</span> INotificationHandler&lt;MessageNotification&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> handleNotification(<span class="directive">final</span> MessageNotification notification) {</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="handling-notifications-temporarily"><a class="anchor" href="#handling-notifications-temporarily"></a>12.6.2. Handling Notifications Temporarily</h4>
       <div class="paragraph">
        <p>Sometimes it is necessary to start and stop handling notification dynamically, (e.g. when a form is opened) in this case <code>AbstractObservableNotificationHandler</code> can be used to add and remove listeners.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="asynchronous-dispatching"><a class="anchor" href="#asynchronous-dispatching"></a>12.6.3. Asynchronous Dispatching</h4>
       <div class="paragraph">
        <p>Dispatching is always done asynchronously. However, in case of transactional notifications, a service call blocks until all transactional notifications returned with the service response are handled.</p>
       </div>
       <div class="paragraph">
        <p>This behavior was implemented to simplify for example the usage of shared caches:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 61. Blocking until notification handling completed
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">CodeService cs = BEANS.get(CodeService.class);
cs.reloadCodeType(UiThemeCodeType.class);
<span class="comment">//client-side reload triggered by client notifications is finished</span>
<span class="predefined-type">List</span>&lt;? <span class="directive">extends</span> ICode&lt;<span class="predefined-type">String</span>&gt;&gt; reloadedCodes = cs.getCodeType(UiThemeCodeType.class).getCodes();</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>In the example above, it is guaranteed, that the codetype is up-to-date as soon as reloadCodeType is finished.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="updating-scout-model"><a class="anchor" href="#updating-scout-model"></a>12.6.4. Updating Scout Model</h4>
       <div class="paragraph">
        <p>Notification handlers are never called from a scout model thread. If the scout model needs to be updated when handling notifications, a model job needs to be created for that task.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 62. Notification Handler Creating Model Job
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> <span class="type">void</span> handleNotification(<span class="directive">final</span> MessageNotification notification) {
  ModelJobs.schedule(() -&gt; {
    UserNodePage userPage = getUserNodePage();
    <span class="predefined-type">String</span> buddy = notification.getSenderName();
    <span class="keyword">if</span> (userPage != <span class="predefined-constant">null</span>) {
      ChatForm form = userPage.getChatForm(buddy);
      <span class="keyword">if</span> (form != <span class="predefined-constant">null</span>) {
        form.getHistoryField().addMessage(<span class="predefined-constant">false</span>, buddy, form.getUserName(), <span class="keyword">new</span> <span class="predefined-type">Date</span>(), notification.getMessage());
      }
    }
  }, ModelJobs.newInput(ClientRunContexts.copyCurrent()));
}</code></pre>
        </div>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> Make sure to always run updates to the scout models in a model job (forms, pages, &#x2026;&#x200b;): Use ModelJobs.schedule(&#x2026;&#x200b;) where necessary in notification handlers. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="extensibility"><a class="anchor" href="#extensibility"></a>13. Extensibility</h2>
    <div class="sectionbody">
     <div class="admonitionblock note">
      <table>
       <tbody>
        <tr>
         <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
         <td class="content"> Required version: The API described here requires Scout version 4.2 or newer. </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="sect2">
      <h3 id="overview-3"><a class="anchor" href="#overview-3"></a>13.1. Overview</h3>
      <div class="paragraph">
       <p>Since December 2014 and Scout 4.2 or newer a new extensibility concept is available for Scout. This article explains the new features and gives some examples how to use them.</p>
      </div>
      <div class="paragraph">
       <p>When working with large business applications it is often required to split the application into several modules. Some of those modules may be very basic and can be reused in multiple applications. For those it makes sense to provide them as binary library. But what if you have created great templates for your applications but in one special case you want to include one more column in a table or want to execute some other code when a pre-defined context menu is pressed? You cannot just modify the code because it is a general library used everywhere. This is where the new extensibility concept helps.</p>
      </div>
      <div class="paragraph">
       <p>To achieve this two new elements have been introduced:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>Extension Classes: Contains modifications for a target class. Modifications can be new elements or changed behavior of existing elements.</p> </li>
        <li> <p>Extension Registry: Service holding all Extensions that should be active in the application.</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>The Scout extensibility concept offers three basic possibilites to extend existing components:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p><strong>Extensions</strong> Changing behavior of a class</p> </li>
        <li> <p><strong>Contributions</strong> Add new elements to a class</p> </li>
        <li> <p><strong>Moves</strong> Move existing elements within a class</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>The following chapers will introduce this concepts and present some examples.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="extensions"><a class="anchor" href="#extensions"></a>13.2. Extensions</h3>
      <div class="paragraph">
       <p>Extensions contain modifications to a target class. This target class must be extensible. All elements that implement <code>org.eclipse.scout.rt.shared.extension.IExtensibleObject</code> are extensible. And for all extensible elements there exists a corresponding abstract extension class.</p>
      </div>
      <div class="paragraph">
       <p>Examples:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p><code>AbstractStringField</code> is extensible. Therefore there is a class <code>AbstractStringFieldExtension</code>.</p> </li>
        <li> <p><code>AbstractCodeType</code> is extensible. Therefore there is a class <code>AbstractCodeTypeExtension</code>.</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>Target classes can be all that are instanceof those extensible elements. This means an <code>AbstractStringFieldExtension</code> can be applied to <code>AbstractStringField</code> and all child classes.</p>
      </div>
      <div class="paragraph">
       <p>Extensions contain methods for all Scout Operations (see <a href="https://wiki.eclipse.org/Scout/Concepts/Exec_Methods">Exec Methods</a>). Those methods have the same signature except that they have one more input parameter. This method allows you to intercept the given Scout Operation and execute your own code even though the declaring class exists in a binary library. It is then your decision if you call the original code or completely replace it. To achieve this the <a href="http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern">Chain Pattern</a> is used: All extensions for a target class are called as part of a chain. The order is given by the order in which the extensions are registered. And the original method of the Scout element is an extension as well.</p>
      </div>
      <div class="paragraph">
       <p>Extensions to specific types of elements are prepared as abstract classes:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>AbstractGroupBoxExtension</p> </li>
        <li> <p>AbstractImageFieldExtension</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>The following image visualizes the extension chain used to intercept the default behavior of a component:</p>
      </div>
      <div class="imageblock">
       <div class="content">
        <img src="images/scout_extensibility_chain_concept.png" alt="scout extensibility chain concept">
       </div>
      </div>
      <div class="sect3">
       <h4 id="extending-a-stringfield-example"><a class="anchor" href="#extending-a-stringfield-example"></a>13.2.1. Extending a StringField example</h4>
       <div class="paragraph">
        <p>The following example changes the initial value of a <a href="https://wiki.eclipse.org/Scout/Concepts/StringField">StringField</a> called <code>NameField</code>:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 63. Extension for NameField
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">NameFieldExtension</span> <span class="directive">extends</span> AbstractStringFieldExtension&lt;NameField&gt; {
  <span class="directive">public</span> NameFieldExtension(NameField owner) {
    <span class="local-variable">super</span>(owner);
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> execInitField(FormFieldInitFieldChain chain) {
    chain.execInitField(); <span class="comment">// call the original exec init. whatever it may do.</span>
    getOwner().setValue(<span class="string"><span class="delimiter">"</span><span class="content">FirstName LastName</span><span class="delimiter">"</span></span>); <span class="comment">// overwrite the initial value of the name field</span>
  }
}</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>Note: The type parameter of the extension (e.g. <code>NameField</code>) denotes the element which is extended.</p>
       </div>
       <div class="paragraph">
        <p>The extension needs to be registeres when starting the application:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 64. Register extension for NameField
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">Jobs.schedule(() -&gt; BEANS.get(IExtensionRegistry.class).register(NameFieldExtension.class), Jobs.newInput()
    .withRunContext(ClientRunContexts.copyCurrent())
    .withName(<span class="string"><span class="delimiter">"</span><span class="content">register extension</span><span class="delimiter">"</span></span>));</code></pre>
        </div>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="contributions"><a class="anchor" href="#contributions"></a>13.3. Contributions</h3>
      <div class="paragraph">
       <p>The section before explained how to modify the behavior of existing Scout elements. This section will describe how to contribute new elements into existing containers.</p>
      </div>
      <div class="paragraph">
       <p>This is done by using the same mechanism as before. It is required to create an Extension too. But instead of overwriting any Scout Operation we directly define the new elements within the Extension. A lot of new elements can be added this way: <a href="https://wiki.eclipse.org/Scout/Concepts/Field">Fields</a>, <a href="https://wiki.eclipse.org/Scout/Concepts/Menu">Menus</a>, <a href="https://wiki.eclipse.org/Scout/Concepts/Column">Columns</a>, <a href="https://wiki.eclipse.org/Scout/Concepts/Code">Codes</a>, &#x2026;&#x200b;</p>
      </div>
      <div class="paragraph">
       <p>Some new elements may also require a new <a href="http://en.wikipedia.org/wiki/Data_transfer_object">DTO</a> (<a href="https://wiki.eclipse.org/Scout/Concepts/FormData">FormData</a>, <a href="https://wiki.eclipse.org/Scout/Concepts/TablePageData">TablePageData</a>, <a href="https://wiki.eclipse.org/Scout/Concepts/TableData">TableData</a>) to be filled with data from the server. The corresponding DTO for the extension is automatically created when using the <a href="https://wiki.eclipse.org/Scout/SDK">SDK</a> 4.2 or newer and having the <code>@Data</code> annotation specified on your extension. As soon as the DTO extension has been registered in the <code>IExtensionRegistry</code> service it is automatically created when the target DTO is created and will also be imported and exported automatically!</p>
      </div>
      <div class="paragraph">
       <p>The following example adds two new fields for salary and birthday to a <code>PersonForm</code>. Please note the <code>@Data</code> annotation which describes where the DTO for this extension should be created.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 65. Extension for PersonForm
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** * Extension for the MainBox of the PersonForm */</span>
<span class="annotation">@Data</span>(PersonFormMainBoxExtensionData.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">PersonFormMainBoxExtension</span> <span class="directive">extends</span> AbstractGroupBoxExtension&lt;MainBox&gt; {
  <span class="directive">public</span> PersonFormMainBoxExtension(MainBox ownerBox) {
    <span class="local-variable">super</span>(ownerBox);
  }
  <span class="annotation">@Order</span>(<span class="integer">2000</span>)
  <span class="directive">public</span> <span class="type">class</span> <span class="class">SalaryField</span> <span class="directive">extends</span> AbstractBigDecimalField {
  }
  <span class="annotation">@Order</span>(<span class="integer">3000</span>)
  <span class="directive">public</span> <span class="type">class</span> <span class="class">BirthdayField</span> <span class="directive">extends</span> AbstractDateField {
  }
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>The extension data must be registered manually in the job like in the example before:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 66. Register extension for PersonForm
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">BEANS.get(IExtensionRegistry.class).register(PersonFormMainBoxExtension.class);</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>Then the <a href="https://wiki.eclipse.org/Scout/SDK">SDK</a> automatically creates the extension DTO which could look as follows. Please note: The DTO is generated automatically but you have to register the generated DTO manually!</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 67. Extension Data for PersonForm
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/** * &lt;b&gt;NOTE:&lt;/b&gt;&lt;br&gt; * This class is auto generated by the Scout SDK. No manual modifications recommended. */</span>
<span class="annotation">@Extends</span>(PersonFormData.class)
<span class="annotation">@Generated</span>(value = <span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.docs.snippets.person.PersonFormMainBoxExtension</span><span class="delimiter">"</span></span>, comments = <span class="string"><span class="delimiter">"</span><span class="content">This class is auto generated by the Scout SDK. No manual modifications recommended.</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">PersonFormMainBoxExtensionData</span> <span class="directive">extends</span> AbstractFormFieldData {
  <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">long</span> serialVersionUID = <span class="integer">1L</span>;
  <span class="directive">public</span> Birthday getBirthday() {
    <span class="keyword">return</span> getFieldByClass(Birthday.class);
  }
  <span class="directive">public</span> Salary getSalary() {
    <span class="keyword">return</span> getFieldByClass(Salary.class);
  }
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Birthday</span> <span class="directive">extends</span> AbstractValueFieldData&lt;<span class="predefined-type">Date</span>&gt; {
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">long</span> serialVersionUID = <span class="integer">1L</span>;
  }
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Salary</span> <span class="directive">extends</span> AbstractValueFieldData&lt;<span class="predefined-type">BigDecimal</span>&gt; {
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">long</span> serialVersionUID = <span class="integer">1L</span>;
  }
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>You can also access the values of the DTO extension as follows:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 68. Access extended fields
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// create a normal FormData</span>
<span class="comment">// contributions are added/imported/exported automatically</span>
PersonFormData data = <span class="keyword">new</span> PersonFormData();
<span class="comment">// access the data of an extension</span>
PersonFormMainBoxExtensionData c = data.getContribution(PersonFormMainBoxExtensionData.class);
c.getSalary().setValue(<span class="keyword">new</span> <span class="predefined-type">BigDecimal</span>(<span class="string"><span class="delimiter">"</span><span class="content">200.0</span><span class="delimiter">"</span></span>));</code></pre>
       </div>
      </div>
      <div class="sect3">
       <h4 id="extending-a-form-and-a-handler"><a class="anchor" href="#extending-a-form-and-a-handler"></a>13.3.1. Extending a form and a handler</h4>
       <div class="paragraph">
        <p>Extending a AbstractForm and one (or more) of its AbstractFormHandlers that can be achieved as follows:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 69. Extension for PersonForm
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">PersonFormExtension</span> <span class="directive">extends</span> AbstractFormExtension&lt;PersonForm&gt; {
  <span class="directive">public</span> PersonFormExtension(PersonForm ownerForm) {
    <span class="local-variable">super</span>(ownerForm);
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> execInitForm(FormInitFormChain chain) {
    chain.execInitForm();
    <span class="comment">// Example logic: Access the form, disable field</span>
    getOwner().getNameField().setEnabled(<span class="predefined-constant">false</span>, <span class="predefined-constant">true</span>, <span class="predefined-constant">true</span>);
  }
  <span class="directive">public</span> <span class="type">void</span> testMethod() {
    MessageBoxes.create().withHeader(<span class="string"><span class="delimiter">"</span><span class="content">Extension method test</span><span class="delimiter">"</span></span>).withBody(<span class="string"><span class="delimiter">"</span><span class="content">A method from the form extension was called</span><span class="delimiter">"</span></span>).show();
  }
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">NewFormHandlerExtension</span> <span class="directive">extends</span> AbstractFormHandlerExtension&lt;NewHandler&gt; {
    <span class="directive">public</span> NewFormHandlerExtension(NewHandler owner) {
      <span class="local-variable">super</span>(owner);
    }
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> execPostLoad(FormHandlerPostLoadChain chain) {
      chain.execPostLoad();
      <span class="comment">// Example logic: Show a message box after load</span>
      MessageBoxes.create().withHeader(<span class="string"><span class="delimiter">"</span><span class="content">Extension test</span><span class="delimiter">"</span></span>).withBody(<span class="string"><span class="delimiter">"</span><span class="content">If you can read this, the extension works correctly</span><span class="delimiter">"</span></span>).show();
      <span class="comment">// Access element from the outer extension.</span>
      PersonFormExtension extension = ((AbstractForm) getOwner().getForm()).getExtension(PersonFormExtension.class);
      extension.testMethod();
    }
  }
}</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>There are a few things to note about this example:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>It is only necessary to register the outer form extension, not the inner handler extension as well.</p> </li>
         <li> <p>The inner handler extension must be <code>static</code>, otherwise an Exception will occur when the extended form is being started!</p> </li>
         <li> <p>You can access the element you are extending by calling <code>getOwner()</code>.</p> </li>
         <li> <p>Since you cannot access elements from your form extension directly from the inner handler extension (because it is static), you will need to retrieve the form extension via the <code>getExtension(Class&lt;T extends IExtension&lt;?&gt;&gt;)</code> method on the extended object, as done here to retrieve the form extension from the form handler extension.</p> </li>
        </ul>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="move-elements"><a class="anchor" href="#move-elements"></a>13.4. Move elements</h3>
      <div class="paragraph">
       <p>You can also move existing Scout elements to other positions. For this you have to register a move command in the IExtensionRegistry. As with all extension registration it is added to the extension registration Job in your Activator class:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 70. Move NameField to LastBox
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">BEANS.get(IExtensionRegistry.class).registerMove(NameField.class, <span class="float">20d</span>, LastBox.class);</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="migration"><a class="anchor" href="#migration"></a>13.5. Migration</h3>
      <div class="paragraph">
       <p>The new extensibility concept is added on top of all existing extension possibilities like injection or sub-classing. Therefore it works together with the current mechanisms. But for some use cases (like modifying template classes) it offers a lot of benefits. Therefore no migration is necessary. The concepts do exist alongside each others.</p>
      </div>
      <div class="paragraph">
       <p>However there is one impact: Because the Scout Operation methods are now part of a call chain they may no longer be invoked directly. So any call to e.g. <code>execValidateValue()</code> is no longer allowed because this would exclude the extensions for this call. The Scout SDK marks such calls with error markers in the Eclipse Problems view. If really required the corresponding intercept-Method can be used. So instead directly calling <code>myField.execChangedValue</code> you may call <code>myField.interceptChangedValue()</code>.</p>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="mobile-support"><a class="anchor" href="#mobile-support"></a>14. Mobile Support</h2>
    <div class="sectionbody">
     <div id="img-mobile-support" class="imageblock">
      <div class="content">
       <img src="images/multi_device.png" alt="multi device">
      </div>
      <div class="title">
       Figure 8. Scout apps run on desktops, tablets and mobile phones
      </div>
     </div>
     <div class="paragraph">
      <p>Scout applications are mobile capable, meaning that they can be used on portable touch devices like smart phones and tablets. This capability is based on 2 main parts:</p>
     </div>
     <div class="ulist">
      <ul>
       <li> <p>Responsive and Touch Capable Widgets</p> </li>
       <li> <p>Device Transformation</p> </li>
      </ul>
     </div>
     <div class="sect2">
      <h3 id="responsive-and-touch-capable-widgets"><a class="anchor" href="#responsive-and-touch-capable-widgets"></a>14.1. Responsive and Touch Capable Widgets</h3>
      <div class="paragraph">
       <p>Responsive design in context of a web application means that the design reacts to screen size changes. A Scout application does not use responsive design for the whole page, but many widgets itself may change the appearance when they don&#x2019;t fit into screen.</p>
      </div>
      <div class="paragraph">
       <p>One example is the menu bar that stacks all menus which don&#x2019;t fit into an ellipsis menu.</p>
      </div>
      <div id="img-responsive-menubar" class="imageblock">
       <div class="content">
        <img src="images/responsive_menubar.png" alt="responsive menubar">
       </div>
       <div class="title">
        Figure 9. Responsive menu bar
       </div>
      </div>
      <div class="paragraph">
       <p>Beside being responsive, the widgets may deal with touch devices as well. This means they are big enough to be used with the finger. And they don&#x2019;t need a mouse, especially the right mouse button.</p>
      </div>
      <div class="paragraph">
       <p>One example is the tooltip of a form field which is reflected by an info icon on the right side of the field. Instead of hovering over the field the user can press that info icon to bring up the tooltip. This approach not only provides an indicator where tooltips are available, it also works for mouse and touch based devices.</p>
      </div>
      <div id="img-field-tooltip" class="imageblock">
       <div class="content">
        <img src="images/tooltip.png" alt="tooltip">
       </div>
       <div class="title">
        Figure 10. Touch friendly widgets
       </div>
      </div>
      <div class="sect3">
       <h4 id="groupbox"><a class="anchor" href="#groupbox"></a>14.1.1. GroupBox</h4>
       <div class="paragraph">
        <p>Another widget that will react to changing sizes is the group box. Once a group box becomes smaller than its preferred width it will transform its internal fields. Example: For all internal fields the labelPosition will be set to 'top' to give the field more horizontal space.</p>
       </div>
       <div id="img-responsive-groupbox" class="imageblock">
        <div class="content">
         <img src="images/responsive_groupbox.png" alt="responsive groupbox">
        </div>
        <div class="title">
         Figure 11. Responsive group box
        </div>
       </div>
       <div class="paragraph">
        <p>Those transformations are handled by <code>scout.GroupBoxResponsiveHandler</code> and managed by <code>scout.ResponsiveManager</code>. The manager decides when to switch to a responsive mode and back. If desired, the responsive transformations can be completely disabled by calling <code>scout.responsiveManager.setActive(false)</code>. By default all the main boxes will be responsive. In order to exclude a group box from the responsive transformations you could do the following:</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Order</span>(<span class="integer">20</span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyGroupBox</span> <span class="directive">extends</span> AbstractGroupBox {
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> TriState getConfiguredResponsive() {
    <span class="keyword">return</span> TriState.parse(<span class="predefined-constant">false</span>);
  }
}</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>The handler is called when the manager detects a changed responsive state to perform its transformations. There are three responsive modes, of which only the first two are supported in scout classic.</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p><strong>Normal</strong> (e.g. width &gt;= 500): Regular case, no transformations are applied.</p> </li>
         <li> <p><strong>Condensed</strong> (e.g. 300 &#x21d0; width &lt; 500): Sets the label position to 'TOP'.</p> </li>
         <li> <p><strong>Compact</strong> (e.g. width &lt; 300): This mode is only supported in scout js. Sets grid column count to 1 and ensures labels and status are set to 'TOP'.</p> </li>
        </ul>
       </div>
       <div id="img-responsive-form" class="imageblock">
        <div class="content">
         <img src="images/responsive-form.png" alt="responsive form">
        </div>
        <div class="title">
         Figure 12. Responsive Form
        </div>
       </div>
       <div class="sect4">
        <h5 id="add-a-custom-handler"><a class="anchor" href="#add-a-custom-handler"></a>Add a Custom Handler</h5>
        <div class="paragraph">
         <p>If a different widget is required to react to screen size changes, you can create your own handler by subclassing <code>scout.ResponsiveHandler</code> and registering it by calling <code>scout.responsiveManager.register(widget, handler)</code>. Each handler can define the thresholds when to switch from one responsive mode to another by implementing <code>scout.ResponsiveHandler.prototype.getCompactThreshold</code> or <code>scout.ResponsiveHandler.prototype.getCondensedThreshold</code>.</p>
        </div>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="device-transformation"><a class="anchor" href="#device-transformation"></a>14.2. Device Transformation</h3>
      <div class="paragraph">
       <p>The second part of the mobile support is called device transformation. Transformation means the adaptation of model properties for different devices. Example: Setting the property labelPosition from 'left' to 'top' in order to move the label to the top.</p>
      </div>
      <div class="paragraph">
       <p>Such transformations are done on the UI server by so called device transformers. Currently 3 device transformers are available:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>Mobile Device Transformer</p> </li>
        <li> <p>Tablet Device Transformer</p> </li>
        <li> <p>Touch Device Transformer</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>Which transformer is active depends on the used user agent. The mobile transformer is active if the Scout app is used on a smart phone, the tablet one is active if it is used from a tablet, and the touch transformer is active in both cases. And may also be active if a desktop device supports touch. The order in which these transformers are processed is defined using the <code>@Order</code> annotation which is possible because they are regular Scout beans. This also means you can add your own transformer if you need custom transformations.</p>
      </div>
      <div class="paragraph">
       <p>The transformations are mainly limited to the adjustment of properties, although some properties have a bigger effect than others. The property <code>displayStyle</code> of the desktop for example controls the look of the desktop and setting it to <code>COMPACT</code> rearranges the desktop in a mobile friendly way.</p>
      </div>
      <div id="img-mobile-desktop" class="imageblock">
       <div class="content">
        <img src="images/contacts_mobile.png" alt="contacts mobile">
       </div>
       <div class="title">
        Figure 13. Desktop with displayStyle set to 'compact'
       </div>
      </div>
      <div class="paragraph">
       <p>All the transformations are triggered by extensions to components like form fields or the desktop. These extensions are registered by <code>DeviceTransformationPlatformListener</code>. If you don&#x2019;t want any of these transformers to be active you could simply replace this listener and do nothing.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="adapt-specific-components"><a class="anchor" href="#adapt-specific-components"></a>14.3. Adapt specific Components</h3>
      <div class="paragraph">
       <p>The device transformers take care of global transformations which should be applied for most of the components. If you need to adapt a specific component you can do it at the component itself. Let&#x2019;s say you want to hide a field if the application is running on a smart phone, you could do the following.</p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Order</span>(<span class="integer">20</span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyField</span> <span class="directive">extends</span> AbstractStringField {
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="type">void</span> execInitField() {
    <span class="keyword">if</span> (UserAgentUtility.isMobileDevice()) {
      setVisibleGranted(<span class="predefined-constant">false</span>);
    }
  }
}</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="user-agent"><a class="anchor" href="#user-agent"></a>14.4. User Agent</h3>
      <div class="paragraph">
       <p>The class <code>UserAgent</code> is essential for the mobile support. It stores information about the running device like the used browser or OS. The user agent is available on the UI server as well as on the backend server and can be accessed using the static method <code>UserAgent.get()</code>.</p>
      </div>
      <div class="paragraph">
       <p>The class <code>UserAgentUtility</code> provides some useful helper methods to check which type of device is running, like if it&#x2019;s a mobile phone, a tablet, or a desktop device.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="best-practices"><a class="anchor" href="#best-practices"></a>14.5. Best Practices</h3>
      <div class="paragraph">
       <p>When creating a Scout application which should run on touch devices as well, the following tipps may help you.</p>
      </div>
      <div class="olist arabic">
       <ol class="arabic">
        <li> <p>Focus on the essential. Even though most of the application should run fine on a mobile device, some parts may not make sense. Identify those parts and make them invisible using <code>setVisibleGranted(false)</code>. The advantage of using setVisibleGranted over setVisible is that the model of the invisible components won&#x2019;t be sent to the client at all, which might increase the performance a little. But remember: The users nowadays might expect every functionality to be available even on a mobile phone, so don&#x2019;t take them away too much.</p> </li>
        <li> <p>Limit the usage of custom HTML. Custom HTML cannot be automatically transformed, so you need to do it by yourself. Example: You created a table with several columns using HTML. On a small screen this table will be too large, so you have to make sure that your table is responsive, or provide other HTML code when running on a mobile device.</p> </li>
        <li> <p>Don&#x2019;t use too large values for gridH. GridH actually is the minimum grid height, so if you set gridH to 10 the field will always be at least 10 logical grid rows height. This may be too big on a mobile device.</p> </li>
        <li> <p>Use appropriate values for table column width. Tables are displayed the same way on a mobile phone as on the desktop device, if the content is not fully visible the user can scroll. If you have tables with <code>autoResizeColumns</code> set to true, you should make sure that the column widths are set properly. Just check how the table looks on a small screen and adjust the values accordingly.</p> </li>
        <li> <p>Know the difference between small screens and touch capable. If you do checks against different device types, you should be aware that a touch device is not necessarily a small device. That means <code>UserAgentUtility.isTouchDevice()</code> may be true on a laptop as well, so use it with care.</p> </li>
        <li> <p>If you use filler fields for layouting purpose, make sure you use the official <code>IPlaceholderField</code>. Such filler fields normally waste space on a one column layout, so the mobile transformer will make them invisible.</p> </li>
       </ol>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="security"><a class="anchor" href="#security"></a>15. Security</h2>
    <div class="sectionbody">
     <div class="sect2">
      <h3 id="default-http-response-headers"><a class="anchor" href="#default-http-response-headers"></a>15.1. Default HTTP Response Headers</h3>
      <div class="paragraph">
       <p>All Scout HTTP servlets delegate to a central authority to append HTTP response headers. This is the bean <code>HttpServletControl</code>. It enables developers to control which headers that should be added to the HTTP response for each servlet and request.</p>
      </div>
      <div class="paragraph">
       <p>The next sections describe the headers that are added to any response by default. Beside these also the following headers may be of interest for an end user application (consider adding them to your application if possible):</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p><a href="https://developer.mozilla.org/en-US/docs/Web/Security/Public_Key_Pinning">Public Key Pinning</a></p> </li>
        <li> <p><a href="https://tools.ietf.org/html/rfc6797">Strict Transport Security (HSTS)</a></p> </li>
        <li> <p><a href="https://msdn.microsoft.com/en-us/library/gg622941%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396">X-Content-Type-Options</a></p> </li>
       </ul>
      </div>
      <div class="admonitionblock note">
       <table>
        <tbody>
         <tr>
          <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
          <td class="content"> Please note that not all headers are supported in all user agents! </td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="sect3">
       <h4 id="x-frame-options"><a class="anchor" href="#x-frame-options"></a>15.1.1. X-Frame-Options</h4>
       <div class="paragraph">
        <p>The X-Frame-Options HTTP response header <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup> can be used to indicate whether or not a user agent should be allowed to render a page in a <code>&lt;frame&gt;</code>, <code>&lt;iframe&gt;</code> or <code>&lt;object&gt;</code>. Sites can use this to avoid clickjacking <sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup> attacks, by ensuring that their content is not embedded into other sites. The X-Frame-Options header is described in RFC 7034 <sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup>.</p>
       </div>
       <div class="paragraph">
        <p>In Scout this header is set to <code>SAMEORIGIN</code> which allows the page to be displayed in a frame on the same origin (scheme, host and port) as the page itself only.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="x-xss-protection"><a class="anchor" href="#x-xss-protection"></a>15.1.2. X-XSS-Protection</h4>
       <div class="paragraph">
        <p>This header enables the XSS <sup class="footnote">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup> filter built into most recent user agents. It&#x2019;s usually enabled by default anyway, so the role of this header is to re-enable the filter for the website if it was disabled by the user. The X-XSS-Protection header is described in <a href="https://blogs.msdn.microsoft.com/ieinternals/2011/01/31/controlling-the-xss-filter/">controlling-the-xss-filter</a>.</p>
       </div>
       <div class="paragraph">
        <p>In Scout this header is configured to enable XSS protections and instructs the user-agent to block a page from loading if reflected XSS is detected.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="content-security-policy"><a class="anchor" href="#content-security-policy"></a>15.1.3. Content Security Policy</h4>
       <div class="paragraph">
        <p>Content Security Policy is a HTTP response header that helps you reduce XSS risks on modern user agents by declaring what dynamic resources are allowed to load <sup class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnotedef_7" title="View footnote.">7</a>]</sup>. The CSP header is described in <a href="http://www.w3.org/TR/CSP1/">Level 1</a> and <a href="http://www.w3.org/TR/CSP2/">Level 2</a>. There is also a working draft for a <a href="http://www.w3.org/TR/CSP3/">Level 3</a>.</p>
       </div>
       <div class="paragraph">
        <p>Scout makes use of Level 1 (and one directive from Level 2) and sets by default the following settings:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>JavaScript <sup class="footnote">[<a id="_footnoteref_8" class="footnote" href="#_footnotedef_8" title="View footnote.">8</a>]</sup>: Only accepts JavaScript resources from the same origin (same scheme, host and port). Inline JavaScript is allowed and unsafe dynamic code evaluation (like <code>eval(string)</code>, <code>setTimeout(string)</code>, <code>setInterval(string)</code>, <code>new Function(string)</code>) is allowed as well.</p> </li>
         <li> <p>Stylesheets (CSS) <sup class="footnote">[<a id="_footnoteref_9" class="footnote" href="#_footnotedef_9" title="View footnote.">9</a>]</sup>: Only accepts Stylesheet resources from the same origin (same scheme, host and port). Inline style attributes are allowed.</p> </li>
         <li> <p>Frames <sup class="footnote">[<a id="_footnoteref_10" class="footnote" href="#_footnotedef_10" title="View footnote.">10</a>]</sup>: All sources are allowed because the iframes created by the Scout BrowserField run in the sandbox mode and therefore handle the security policy on their own.</p> </li>
         <li> <p>All other types (Image, <code>WebSocket</code> <sup class="footnote">[<a id="_footnoteref_11" class="footnote" href="#_footnotedef_11" title="View footnote.">11</a>]</sup>, <code>EventSource</code> <sup class="footnote">[<a id="_footnoteref_12" class="footnote" href="#_footnotedef_12" title="View footnote.">12</a>]</sup>, AJAX calls <sup class="footnote">[<a id="_footnoteref_13" class="footnote" href="#_footnotedef_13" title="View footnote.">13</a>]</sup>, fonts, <code>&lt;object&gt;</code> <sup class="footnote">[<a id="_footnoteref_14" class="footnote" href="#_footnotedef_14" title="View footnote.">14</a>]</sup>, <code>&lt;embed&gt;</code> <sup class="footnote">[<a id="_footnoteref_15" class="footnote" href="#_footnotedef_15" title="View footnote.">15</a>]</sup>, <code>&lt;applet&gt;</code> <sup class="footnote">[<a id="_footnoteref_16" class="footnote" href="#_footnotedef_16" title="View footnote.">16</a>]</sup>, <code>&lt;audio&gt;</code> <sup class="footnote">[<a id="_footnoteref_17" class="footnote" href="#_footnotedef_17" title="View footnote.">17</a>]</sup> and <code>&lt;video&gt;</code> <sup class="footnote">[<a id="_footnoteref_18" class="footnote" href="#_footnotedef_18" title="View footnote.">18</a>]</sup>) only allow resources from the same origin (same scheme, host and port).</p> </li>
        </ul>
       </div>
       <div class="paragraph">
        <p>If a resource is blocked because it violates the CSP a report is created and logged on server side using level <code>warning</code>. This is done in the class <code>ContentSecurityPolicyReportHandler</code>. This enables admins to monitor the application and to react if a CSP violation is detected.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="session-cookie-jsessionid-cookie-configuration-validation"><a class="anchor" href="#session-cookie-jsessionid-cookie-configuration-validation"></a>15.2. Session Cookie (JSESSIONID Cookie) Configuration Validation</h3>
      <div class="paragraph">
       <p>The UiServlet checks if the session cookie is configured safely. The validation is only performed on first access to the <code>UiServlet</code>. There is no automatic validation on the backend server side or on any custom servlets!</p>
      </div>
      <div class="paragraph">
       <p>If the validation fails, a corresponding error message is logged to the server and an exception is thrown making the <code>UiServlet</code> inaccessible. Because of security reasons the exception shown to the user includes no details about the error. These can only be seen on the server side log.</p>
      </div>
      <div class="sect3">
       <h4 id="httponly"><a class="anchor" href="#httponly"></a>15.2.1. HttpOnly</h4>
       <div class="paragraph">
        <p>First the existence of the <code>HttpOnly</code> flag is checked. The servlet container will then add this flag to the <code>Set-Cookie</code> HTTP response header. If the user agent supports this flag, the cookie cannot be accessed through a client side script. As a result even if a cross-site scripting (XSS) flaw exists and a user accidentally accesses a link that exploits this flaw, the user agent will not reveal the cookie to a third party. For a list of user agents supporting this feature please refer to <a href="https://www.owasp.org/index.php/HTTPOnly#Browsers_Supporting_HttpOnly">OWASP</a>.</p>
       </div>
       <div class="paragraph">
        <p>It is recommended to always enable this flag.</p>
       </div>
       <div class="paragraph">
        <p>Since Java Servlet 3.0 specification this property can be set in the configuration in the deployment descriptor <code>WEB-INF/web.xml</code>:</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="tag">&lt;web-app</span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee</span><span class="delimiter">"</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd</span><span class="delimiter">"</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">"</span><span class="content">3.1</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  ...
  <span class="tag">&lt;session-config&gt;</span>
    ...
    <span class="tag">&lt;cookie-config&gt;</span>
      <span class="tag">&lt;http-only&gt;</span>true<span class="tag">&lt;/http-only&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
      ...
    <span class="tag">&lt;/cookie-config&gt;</span>
    ...
  <span class="tag">&lt;/session-config&gt;</span>
  ...
<span class="tag">&lt;/web-app&gt;</span></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>The HttpOnly flag activated</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="secure"><a class="anchor" href="#secure"></a>15.2.2. Secure</h4>
       <div class="paragraph">
        <p>Second the existence of the <code>Secure</code> flag is checked. The servlet container will then add this flag to the <code>Set-Cookie</code> HTTP response header. The purpose of the secure flag is to prevent cookies from being observed by unauthorized parties due to the transmission of a the cookie in clear text. Therefore setting this flag will prevent the user agent from transmitting the session id over an unencrypted channel.</p>
       </div>
       <div class="paragraph">
        <p>Since Java Servlet 3.0 specification this property can be set in the configuration in the deployment descriptor <code>WEB-INF/web.xml</code>:</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="tag">&lt;web-app</span>
    <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee</span><span class="delimiter">"</span></span>
    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd</span><span class="delimiter">"</span></span>
    <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">"</span><span class="content">3.1</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  ...
  <span class="tag">&lt;session-config&gt;</span>
    ...
    <span class="tag">&lt;cookie-config&gt;</span>
      <span class="tag">&lt;secure&gt;</span>true<span class="tag">&lt;/secure&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
      ...
    <span class="tag">&lt;/cookie-config&gt;</span>
    ...
  <span class="tag">&lt;/session-config&gt;</span>
  ...
<span class="tag">&lt;/web-app&gt;</span></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>The Secure flag activated</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>This of course only makes sense if the application is exposed to the end user using an encrypted channel like <a href="https://en.wikipedia.org/wiki/HTTPS">HTTPS</a> (which is strongly recommended).</p>
       </div>
       <div class="paragraph">
        <p>Unfortunately for the UI server it is not possible to detect if an application uses a secured channel. Consider the following example: The servlet container is protected by a reverse proxy. The communication between the user agent and the proxy is encrypted while the channel between the proxy and the servlet container is not. In this scenario the container cannot know that from a user agent point of view the channel is secured.</p>
       </div>
       <div class="paragraph">
        <p>Because of this the validation assumes that the channel from the user agent to the entering node is secured and by default checks for the <code>Secure</code> flag. In case this assumption is not true and an unencrypted channel must be used this validation step can be disabled by setting the following property in the <code>config.propertis</code> file:</p>
       </div>
       <div class="paragraph">
        <p><code>scout.auth.cookieSessionValidateSecure=false</code></p>
       </div>
       <div class="paragraph">
        <p>This skips the <code>Secure</code> flag check completely. In this scenario (not using https) it is also required to remove the secure tag from the cookie config in the <code>WEB-INF/web.xml</code>.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="secure-output"><a class="anchor" href="#secure-output"></a>15.3. Secure Output</h3>
      <div class="paragraph">
       <p>This chapter describes how HTML Output can be handled in a secure way.</p>
      </div>
      <div class="paragraph">
       <p>Scout applications often display potentially dangerous data, e.g. user input or data from other systems. Encoding this input in such a way, that it can not be executed, prevents security vulnerabilities like cross-site scripting.</p>
      </div>
      <div class="sect3">
       <h4 id="encoding-by-default"><a class="anchor" href="#encoding-by-default"></a>15.3.1. Encoding by Default</h4>
       <div class="paragraph">
        <p>By default, all input in the Scout model is encoded. Examples are values/labels in value fields, cells in tables, message in message box. The reason behind this default choice is that developers do not have to think about output encoding in the standard case and are therefore less likely to forget output encoding and introduce a security vulnerability.</p>
       </div>
       <div class="paragraph">
        <p>Example: In the following label field, the HTML &lt;b&gt; tag is encoded as <code>&amp;lt;b&amp;gt;bold text&amp;lt;/b&amp;gt;</code>:</p>
       </div>
       <div class="imageblock">
        <div class="content">
         <img src="images/encodedField.png" alt="encodedField">
        </div>
       </div>
       <div class="literalblock">
        <div class="content">
         <pre>public class LabelField extends AbstractLabelField {
  @Override
  protected void execInitField() {
    setValue("...&lt;b&gt;Bold text&lt;/b&gt;...");
  }</pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="html-enabled"><a class="anchor" href="#html-enabled"></a>15.3.2. Html Enabled</h4>
       <div class="paragraph">
        <p>Sometimes developers may want to use HTML in the Scout model.</p>
       </div>
       <div class="paragraph">
        <p>Examples are</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>Simple styling of dynamic content, such as addresses or texts in message boxes</p> </li>
         <li> <p>Text containing application-internal or external links</p> </li>
         <li> <p>Html or XML content received from other systems, such as e-mails or html pages</p> </li>
        </ul>
       </div>
       <div class="paragraph">
        <p>Html input should only partially be encoded or not at all.</p>
       </div>
       <div class="paragraph">
        <p>To disable the encoding of the whole value, the property <code>HtmlEnabled</code> can be used:</p>
       </div>
       <div class="literalblock">
        <div class="content">
         <pre>public class NoEncodingLabelField extends AbstractLabelField {
  @Override
  protected boolean getConfiguredHtmlEnabled() {
    return true;
  }</pre>
        </div>
       </div>
       <div class="literalblock">
        <div class="content">
         <pre>@Override
protected void execInitField() {
  setValue("...&lt;b&gt;Bold text&lt;/b&gt;...");
}</pre>
        </div>
       </div>
       <div class="paragraph">
        <p>There are several ways to implement the use cases above. Some typical implementations are described in the following sections.</p>
       </div>
       <div class="sect4">
        <h5 id="css-class-and-other-model-properties"><a class="anchor" href="#css-class-and-other-model-properties"></a>CSS Class and Other Model Properties</h5>
        <div class="paragraph">
         <p>Often using HTML in value fields or table cells is not necessary for styling. Very basic styling can be done for example by setting the CSS class.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="html-builder"><a class="anchor" href="#html-builder"></a>HTML Builder</h5>
        <div class="paragraph">
         <p>For creating simple HTML files or fragments with encoded user input, the class <code>org.eclipse.scout.rt.platform.html.HTML</code> can be used. It is also easily possible to create application internal and external link with this approach.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="styling-in-the-ui-layer"><a class="anchor" href="#styling-in-the-ui-layer"></a>Styling in the UI-Layer</h5>
        <div class="paragraph">
         <p>For more complex HTML, using <code>IBeanField</code> in the scout model and implementing the styling in the UI-Layer is often the preferred way. Links are possible as well.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="manual-encoding"><a class="anchor" href="#manual-encoding"></a>Manual Encoding</h5>
        <div class="paragraph">
         <p>It is also possible to encode any String manually using <code>StringUtility.htmlEncode(String)</code>. <code>org.eclipse.scout.rt.platform.html.HTML</code> uses this method internally for encoding. However, using <code>HTML</code> is recommended, where possible, because it is more concise and leads to less errors.</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="using-a-white-list-filter"><a class="anchor" href="#using-a-white-list-filter"></a>Using a White-List Filter</h5>
        <div class="paragraph">
         <p>If HTML or XML from external sources or more complex HTML are used in the Scout model, using a white-list filter might be the best way to avoid security bugs. Libraries, such as <a href="http://jsoup.org/">JSoup</a> provide such a white-list filter. Scout currently does not include any services or utilities for using white-list filters, because the configuration and usage is very use-case-specific and would therefore not add much benefit.</p>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="cha-data-objects"><a class="anchor" href="#cha-data-objects"></a>16. Data Objects</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>Data objects are Scout beans, which are used as data transfer objects for synchronous REST and asynchronous MOM interfaces. Furthermore, they can be used as domain objects within business logic.</p>
     </div>
     <div class="sect2">
      <h3 id="data-object-definition"><a class="anchor" href="#data-object-definition"></a>16.1. Data Object Definition</h3>
      <div class="paragraph">
       <p>A data object extends the <code>DoEntity</code> base class and declares each attribute as a single accessor method. Attributes of two kinds are available:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>Value attribute of type <code>T</code></p> </li>
        <li> <p>List attribute of type <code>List&lt;T&gt;</code></p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>The name of the accessor method defines the attribute name. The return value of the accessor method defines the attribute type.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 71. Example: ExampleEntityDo
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TypeName</span>(<span class="string"><span class="delimiter">"</span><span class="content">ExampleEntity</span><span class="delimiter">"</span></span>)
<span class="annotation">@TypeVersion</span>(<span class="string"><span class="delimiter">"</span><span class="content">scout-8.0.0.027</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleEntityDo</span> <span class="directive">extends</span> DoEntity {
  <span class="directive">public</span> DoValue&lt;<span class="predefined-type">String</span>&gt; name() { <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="keyword">return</span> doValue(<span class="string"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>);
  }
  <span class="directive">public</span> DoList&lt;<span class="predefined-type">Integer</span>&gt; values() { <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="keyword">return</span> doList(<span class="string"><span class="delimiter">"</span><span class="content">values</span><span class="delimiter">"</span></span>);
  }</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Example attribute of type <code>String</code></td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Example attribute of type <code>List&lt;Integer&gt;</code></td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>For convenience reasons when working with the data objects it is recommended to add a getter and a with (e.g. setter) method. Using the convenience with methods, new data objects can be created with fluent-style API:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 72. Example: Create ExampleEntityDo instance
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    ExampleEntityDo entity = BEANS.get(ExampleEntityDo.class)
        .withName(<span class="string"><span class="delimiter">"</span><span class="content">Example</span><span class="delimiter">"</span></span>)
        .withValues(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">4</span>, <span class="integer">5</span>);</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="marshalling"><a class="anchor" href="#marshalling"></a>16.2. Marshalling</h3>
      <div class="paragraph">
       <p>Using the <code>IDataObjectMapper</code> interface a data object can be converted from and to its string representation. The marshalling strategy is generic and replaceable. The Scout platform defines the <code>IDataObjectMapper</code> interface, at runtime a Scout bean implementing the interface must be available.</p>
      </div>
      <div class="paragraph">
       <p>The Scout module <code>org.eclipse.scout.rt.jackson</code> provides a default implementation serializing data objects from and to JSON using the <a href="https://github.com/FasterXML/jackson">Jackson library</a>.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 73. Example: Serialize ExampleEntityDo
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    <span class="predefined-type">String</span> string = BEANS.get(IDataObjectMapper.class).writeValue(entity);</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>The data object <code>ExampleEntityDo</code> serialized to JSON:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 74. Example: ExampleEntityDo as JSON
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">"</span><span class="content">_type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">ExampleEntity</span><span class="delimiter">"</span></span>,
  <span class="key"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">example</span><span class="delimiter">"</span></span>,
  <span class="key"><span class="delimiter">"</span><span class="content">values</span><span class="delimiter">"</span></span> : [<span class="integer">1</span>,<span class="integer">2</span>,<span class="integer">3</span>,<span class="integer">4</span>,<span class="integer">5</span>]
}</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 75. Example: Deserialize ExampleEntityDo
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    ExampleEntityDo marhalled = BEANS.get(IDataObjectMapper.class)
        .readValue(string, ExampleEntityDo.class);</code></pre>
       </div>
      </div>
      <div class="sect3">
       <h4 id="type-name"><a class="anchor" href="#type-name"></a>16.2.1. Type Name</h4>
       <div class="paragraph">
        <p>A data object is annotated with a logical type name using the <code>@TypeName</code> annotation. The annotation value is added to the serialized JSON object as top-level <code>_type</code> property. Using the type property the data object marshaller is able to find and instantiate the matching data object class, without having to rely on a fully classified class name. If no <code>@TypeName</code> annotation is declared for a data object class, the simple class name is used as default value for the <code>_type</code> attribute.</p>
       </div>
       <div class="admonitionblock note">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
           <td class="content"> Declaring a logical type name using the `@TypeName`annotation is highly recommended to avoid a 1:1 dependency between the serialized JSON String and the fully classified class name. A stable type name is required in order to be able to change the data object structure without breaking the API. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="type-version"><a class="anchor" href="#type-version"></a>16.2.2. Type Version</h4>
       <div class="paragraph">
        <p>A data object may be annotated with a type version using the <code>@TypeVersion</code> annotation. The type version represents the version of the structure of the data object and not the version of the data within the data object. The type version value should be incremented, each time, the data object class is modified (add/remove/rename attributes). If a version is required for versioning the values of a data object, consider add a <code>version</code> attribute, incrementing its value, every time a value of the data object is modified.</p>
       </div>
       <div class="paragraph">
        <p>The annotation value is added to the serialized JSON object as top-level <code>_typeVersion</code> property. The serialized <code>_typeVersion</code> value is not deserialized into an attribute, since the deserializer creates a concrete data object class at runtime, having the <code>@TypeVersion</code> annotation providing the type version value.</p>
       </div>
       <div class="admonitionblock note">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
           <td class="content"> Declaring a logical type version using the `@TypeVersion`annotation is highly recommended if a data object is persisted as JSON document to a file or database. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="data-object-naming-convention"><a class="anchor" href="#data-object-naming-convention"></a>16.2.3. Data Object Naming Convention</h4>
       <div class="paragraph">
        <p>Scout objects use the following naming conventions:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>A data object class should use the `Do' suffix.</p> </li>
         <li> <p>The value of the <code>@TypeName</code> annotation corresponds to the simple class name without <code>Do</code> suffix</p> </li>
        </ul>
       </div>
      </div>
      <div class="sect3">
       <h4 id="attribute-name"><a class="anchor" href="#attribute-name"></a>16.2.4. Attribute Name</h4>
       <div class="paragraph">
        <p>The default attribute name within the serialized string corresponds to the name of the attribute accessor method defined in the data object. To use a custom attribute name within the serialized string, the attribute accessor method can be annotated by <code>@AttributeName</code> providing the custom attribute name.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 76. Example: Custom Attribute Name
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@AttributeName</span>(<span class="string"><span class="delimiter">"</span><span class="content">myCustomName</span><span class="delimiter">"</span></span>)
  <span class="directive">public</span> DoValue&lt;<span class="predefined-type">String</span>&gt; name() {
    <span class="keyword">return</span> doValue(<span class="string"><span class="delimiter">"</span><span class="content">myCustomName</span><span class="delimiter">"</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>
  }</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Important: The annotation value must be equals to the string constant used for the <code>doValue()</code> or <code>doList()</code> attribute declaration.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 77. Example: Custom Attribute Name as JSON
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="JSON">{
  <span class="key"><span class="delimiter">"</span><span class="content">_type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">CustomAttributeNameEntity</span><span class="delimiter">"</span></span>,
  <span class="key"><span class="delimiter">"</span><span class="content">myCustomName</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">example</span><span class="delimiter">"</span></span>
}</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="attribute-format"><a class="anchor" href="#attribute-format"></a>16.2.5. Attribute Format</h4>
       <div class="paragraph">
        <p>Using the <code>ValueFormat</code> annotation a data type dependent format string may be provided, which is used for the marshalling.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 78. Example: Custom Attribute Format
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@ValueFormat</span>(pattern = IValueFormatConstants.DATE_PATTERN)
  <span class="directive">public</span> DoValue&lt;<span class="predefined-type">Date</span>&gt; date() {
    <span class="keyword">return</span> doValue(<span class="string"><span class="delimiter">"</span><span class="content">date</span><span class="delimiter">"</span></span>);
  }</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>The <code>IValueFormatConstants</code> interface declares a set of default format pattern constants.</p>
       </div>
       <div class="paragraph">
        <p>Attributes with type <code>java.util.Date</code> accept the format pattern specified by <code>SimpleDateFormat</code> class (see <a href="https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html" class="bare">https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html</a>)</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="ignoring-an-attribute"><a class="anchor" href="#ignoring-an-attribute"></a>16.3. Ignoring an Attribute</h3>
      <div class="paragraph">
       <p>The <code>@JsonIgnore</code> annotation included in the Jackson library is currently not supported for data objects. To ignore an attribute when serializing a data object, the attribute must be removed from the data object by either not setting a value for the desired attribute or by explicitly removing the attribute before a data object is serialized:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 79. Example: Remove an attribute from a data object
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    ExampleEntityDo entity = BEANS.get(ExampleEntityDo.class)
        .withName(<span class="string"><span class="delimiter">"</span><span class="content">Example</span><span class="delimiter">"</span></span>)
        .withValues(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">4</span>, <span class="integer">5</span>);
    <span class="comment">// remove by attribute accessor method reference</span>
    entity.remove(entity::name);
    <span class="comment">// remove by attribute node</span>
    entity.remove(entity.name());
    <span class="comment">// remove by attribute name</span>
    entity.remove(entity.name().getAttributeName());
    <span class="comment">// remove by attribute name raw</span>
    entity.remove(<span class="string"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>);</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="handling-of-doentity-attributes"><a class="anchor" href="#handling-of-doentity-attributes"></a>16.4. Handling of DoEntity Attributes</h3>
      <div class="paragraph">
       <p>Instead of data objects, a REST or MOM interface could be built using simple plain old Java objects (POJOs). Compared to POJOs a Scout data object offers additional support and convenience when working with attributes.</p>
      </div>
      <div class="paragraph">
       <p>A JSON attribute may have three different states:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>Attribute available with a value</p> </li>
        <li> <p>Attribute available with value <code>null</code></p> </li>
        <li> <p>Attribute not available</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>These three states cannot be represented with a POJO object which is based on a single variable with a pair of getter/setter. In order to differ between <em>value not available</em> and <em>value is null</em>, a wrapper type is required, which beside the value stores the information, if the attribute is available. Scout data objects solve this issue: Data objects internally use a <code>Map&lt;String, DoNode&lt;?&gt;&gt;</code> where the abstract <code>DoNode</code> at runtime is represented by a <code>DoValue&lt;T&gt;</code> or a <code>DoList&lt;T&gt;</code> object instance wrapping the value.</p>
      </div>
      <div class="sect3">
       <h4 id="access-data-object-attributes"><a class="anchor" href="#access-data-object-attributes"></a>16.4.1. Access Data Object Attributes</h4>
       <div class="ulist">
        <ul>
         <li> <p>Value: <code>DoNode.get()</code> returns the (wrapped) value of the attribute</p> </li>
        </ul>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 80. Example: ExampleEntityDo Access the Attribute Value
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">    ExampleEntityDo entity = BEANS.get(ExampleEntityDo.class)
        .withName(<span class="string"><span class="delimiter">"</span><span class="content">Example</span><span class="delimiter">"</span></span>)
        .withValues(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">4</span>, <span class="integer">5</span>);
    <span class="comment">// access using attribute accessor</span>
    <span class="predefined-type">String</span> name1 = entity.name().get();
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; values1 = entity.values().get();
    <span class="comment">// access using generated attribute getter</span>
    <span class="predefined-type">String</span> name2 = entity.getName();
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; values2 = entity.getValues();</code></pre>
        </div>
       </div>
       <div class="ulist">
        <ul>
         <li> <p>Existence: Using the <code>DoNode.exists()</code> method, each attribute may be checked for existence</p> </li>
        </ul>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 81. Example: ExampleEntityDo Attribute Existence
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">    <span class="comment">// check existence of attribute</span>
    <span class="type">boolean</span> hasName = entity.name().exists();</code></pre>
        </div>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="abstract-data-objects-polymorphism"><a class="anchor" href="#abstract-data-objects-polymorphism"></a>16.5. Abstract Data Objects &amp; Polymorphism</h3>
      <div class="paragraph">
       <p>A simple data objects is implemented by subclassing the <code>DoEntity</code> class.</p>
      </div>
      <div class="paragraph">
       <p>For a complex hierarchy of data objects the base class may be abstract and extend the <code>DoEntity</code> class, further subclasses extend the abstract base class. The abstract base data object class does not need to specify a <code>@TypeName</code> annotation since there are no instances of the abstract class which are serialized or deserialized directly. Each non-abstract subclass must specify a unique <code>@TypeName</code> annotation value.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 82. Example: Abstract class AbstractExampleEntityDo with one attribute
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">class</span> <span class="class">AbstractExampleEntityDo</span> <span class="directive">extends</span> DoEntity {
  <span class="directive">public</span> DoValue&lt;<span class="predefined-type">String</span>&gt; name() {
    <span class="keyword">return</span> doValue(<span class="string"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>);
  }</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 83. Example: Subclass 1 with an additional attribute and a unique type name
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TypeName</span>(<span class="string"><span class="delimiter">"</span><span class="content">ExampleEntity1</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleEntity1Do</span> <span class="directive">extends</span> AbstractExampleEntityDo {
  <span class="directive">public</span> DoValue&lt;<span class="predefined-type">String</span>&gt; name1Ex() {
    <span class="keyword">return</span> doValue(<span class="string"><span class="delimiter">"</span><span class="content">name1Ex</span><span class="delimiter">"</span></span>);
  }</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 84. Example: Subclass 2 with an additional attribute and a unique type name
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TypeName</span>(<span class="string"><span class="delimiter">"</span><span class="content">ExampleEntity2</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleEntity2Do</span> <span class="directive">extends</span> AbstractExampleEntityDo {
  <span class="directive">public</span> DoValue&lt;<span class="predefined-type">String</span>&gt; name2Ex() {
    <span class="keyword">return</span> doValue(<span class="string"><span class="delimiter">"</span><span class="content">name2Ex</span><span class="delimiter">"</span></span>);
  }</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 85. Example: Class with attributes of type AbstractExampleEntityDo
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleDoEntityListDo</span> <span class="directive">extends</span> DoEntity {
  <span class="directive">public</span> DoList&lt;AbstractExampleEntityDo&gt; listAttribute() {
    <span class="keyword">return</span> doList(<span class="string"><span class="delimiter">"</span><span class="content">listAttribute</span><span class="delimiter">"</span></span>);
  }
  <span class="directive">public</span> DoValue&lt;AbstractExampleEntityDo&gt; singleAttribute() {
    <span class="keyword">return</span> doValue(<span class="string"><span class="delimiter">"</span><span class="content">singleAttribute</span><span class="delimiter">"</span></span>);
  }</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 86. Example: Using the ExampleDoEntityListDo class with different kinds of AbstractExampleEntityDo sub classes
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    ExampleDoEntityListDo entity = BEANS.get(ExampleDoEntityListDo.class);
    entity.withListAttribute(
        BEANS.get(ExampleEntity1Do.class)
            .withName1Ex(<span class="string"><span class="delimiter">"</span><span class="content">one-ex</span><span class="delimiter">"</span></span>)
            .withName(<span class="string"><span class="delimiter">"</span><span class="content">one</span><span class="delimiter">"</span></span>),
        BEANS.get(ExampleEntity2Do.class)
            .withName2Ex(<span class="string"><span class="delimiter">"</span><span class="content">two-ex</span><span class="delimiter">"</span></span>)
            .withName(<span class="string"><span class="delimiter">"</span><span class="content">two</span><span class="delimiter">"</span></span>));
    entity.withSingleAttribute(
        BEANS.get(ExampleEntity1Do.class)
            .withName1Ex(<span class="string"><span class="delimiter">"</span><span class="content">single-one-ex</span><span class="delimiter">"</span></span>)
            .withName(<span class="string"><span class="delimiter">"</span><span class="content">single-one</span><span class="delimiter">"</span></span>));</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>If an instance of <code>ExampleDoEntityListDo</code> is serialized, each attribute is serialized using its runtime data type, adding an appropriate <code>_type</code> attribute to each serialized object. Therefore, the deserializer knows which concrete class to instantiate while deserializing the JSON document. This mechanism is used for simple value properties and list value properties. To each object which is part of a list value property the <code>_type</code> property is added to support polymorphism within single elements of a list.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 87. Example: ExampleDoEntityListDo as JSON
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">"</span><span class="content">_type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">ExampleDoEntityListDo</span><span class="delimiter">"</span></span>,
  <span class="key"><span class="delimiter">"</span><span class="content">listAttribute</span><span class="delimiter">"</span></span> : [ {
    <span class="key"><span class="delimiter">"</span><span class="content">_type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">ExampleEntity1</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">one</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">name1Ex</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">one-ex</span><span class="delimiter">"</span></span>
  }, {
    <span class="key"><span class="delimiter">"</span><span class="content">_type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">ExampleEntity2</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">two</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">name2Ex</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">two-ex</span><span class="delimiter">"</span></span>
  } ],
  <span class="key"><span class="delimiter">"</span><span class="content">singleAttribute</span><span class="delimiter">"</span></span> : {
    <span class="key"><span class="delimiter">"</span><span class="content">_type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">ExampleEntity1</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">single-one</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">name1Ex</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">single-one-ex</span><span class="delimiter">"</span></span>
  }
}</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="rename-an-attribute-of-a-data-object-in-a-subclass"><a class="anchor" href="#rename-an-attribute-of-a-data-object-in-a-subclass"></a>16.6. Rename an attribute of a data object in a subclass</h3>
      <div class="paragraph">
       <p>To rename a data object attribute in a subclass, override the attribute accessor method and annotate it with <code>@AttributeName</code> using the new attribute name as value. Additionally the overridden method must call the <code>doValue()</code> method providing the new attribute name as argument.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 88. Example: Rename attribute in a data object subclass
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TypeName</span>(<span class="string"><span class="delimiter">"</span><span class="content">ExampleEntityEx</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleEntityExDo</span> <span class="directive">extends</span> ExampleEntityDo {
  <span class="annotation">@Override</span>
  <span class="annotation">@AttributeName</span>(<span class="string"><span class="delimiter">"</span><span class="content">nameEx</span><span class="delimiter">"</span></span>)
  <span class="directive">public</span> DoValue&lt;<span class="predefined-type">String</span>&gt; name() { <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="keyword">return</span> doValue(<span class="string"><span class="delimiter">"</span><span class="content">nameEx</span><span class="delimiter">"</span></span>);
  }</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Rename <code>name</code> attribute of superclass to <code>nameEx</code></td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="sect2">
      <h3 id="interfaces-to-data-objects"><a class="anchor" href="#interfaces-to-data-objects"></a>16.7. Interfaces to Data Objects</h3>
      <div class="paragraph">
       <p>Use the basic data object interface <code>IDoEntity</code> to model a data object hierarchy with own base interfaces and a set of implementing classes.</p>
      </div>
      <div class="paragraph">
       <p>Interfaces extending <code>IDataObject</code> do not need a <code>@TypeName</code> annotation, since they are never directly serialized or deserialized.</p>
      </div>
      <div class="paragraph">
       <p>The interfaces may be used as types for attributes within a data object. At runtime the concrete classes implementing the interfaces are serialized and their <code>@TypeName</code> annotation value is used.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="equals-and-hashcode"><a class="anchor" href="#equals-and-hashcode"></a>16.8. Equals and Hashcode</h3>
      <div class="paragraph">
       <p>The Data Object base class <code>DoEntity</code> defines a generic <code>equals()</code> and <code>hashCode()</code> implementation considering all attributes of a data object for equality. A data object is equals to another data object, if the Java class of both data objects is identical and the attribute maps (including their nested values) of both data objects are equals.</p>
      </div>
      <div class="paragraph">
       <p>For futher details see:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p><code>org.eclipse.scout.rt.platform.dataobject.DoEntity.equals(Object)</code></p> </li>
        <li> <p><code>org.eclipse.scout.rt.platform.dataobject.DoNode.equals(Object)</code></p> </li>
       </ul>
      </div>
     </div>
     <div class="sect2">
      <h3 id="generic-doentity"><a class="anchor" href="#generic-doentity"></a>16.9. Generic DoEntity</h3>
      <div class="paragraph">
       <p>An instance of the <code>DoEntity</code> class can represent any kind of JSON document. If the JSON document contains no type attributes or no matching data object class exists at runtime, the JSON document is deserialized into a raw <code>DoEntity</code> instance holding all attributes. To access the attributes of the data object a set of generic getter methods may be used by specifying the attribute name. A generic JSON document is deserialized into a generic tree-like structure of nested <code>DoEntity</code> instances. If the serialized JSON document contains a <code>_type</code> and/or <code>_typeVersion</code> attribute, the attribute and its value is added as attribute to the generic raw <code>DoEntity</code> instance.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 89. Example: ExampleEntityDo accessing attribute "by name"
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    ExampleEntityDo entity = BEANS.get(ExampleEntityDo.class)
        .withName(<span class="string"><span class="delimiter">"</span><span class="content">Example</span><span class="delimiter">"</span></span>)
        .withValues(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">4</span>, <span class="integer">5</span>);
    <span class="comment">// access name attribute by its attribute name</span>
    <span class="predefined-type">Object</span> name1 = entity.get(<span class="string"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="predefined-type">String</span> name2 = entity.get(<span class="string"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>, <span class="predefined-type">String</span>.class); <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="predefined-type">String</span> name3 = entity.getString(<span class="string"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>); <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="comment">// access values attribute by its attribute name</span>
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">Object</span>&gt; values1 = entity.getList(<span class="string"><span class="delimiter">"</span><span class="content">values</span><span class="delimiter">"</span></span>); <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; values2 = entity.getList(<span class="string"><span class="delimiter">"</span><span class="content">values</span><span class="delimiter">"</span></span>, <span class="predefined-type">String</span>.class); <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; values3 = entity.getStringList(<span class="string"><span class="delimiter">"</span><span class="content">values</span><span class="delimiter">"</span></span>); <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Accessing value attribute, default type is <code>Object</code></td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Accessing value attribute, specify the type as class object if known</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>Accessing value attribute, convenience method for a set of common types</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="4"></i><b>4</b></td>
          <td>Accessing list attribute, default type is <code>Object</code></td>
         </tr>
         <tr>
          <td><i class="conum" data-value="5"></i><b>5</b></td>
          <td>Accessing list attribute, specify the type as class object if known</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="6"></i><b>6</b></td>
          <td>Accessing list attribute, convenience method for a set of common types</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>Apart of the convenience methods available directly within the <code>DoEntity</code> class, the <code>DataObjectHelper</code> class contains a set of further convenience methods to access raw values of a data object.</p>
      </div>
      <div class="sect3">
       <h4 id="accessing-number-values"><a class="anchor" href="#accessing-number-values"></a>16.9.1. Accessing number values</h4>
       <div class="paragraph">
        <p>If a generic JSON document is deserialized to a <code>DoEntity</code> class without using a subclass specifying the attribute types, all attributes of type JSON number are deserialized into the smallest possible Java type. For instance the number value 42 is deserialized into an Integer value, a large number may be deserialized into a <code>BigInteger</code> or <code>BigDecimal</code> if it is a floating point value. Using the convenience method <code>DoEntity.getDecimal(&#x2026;&#x200b;)</code> each number attribute is converted automatically into a <code>BigDecimal</code> instance on access.</p>
       </div>
       <div class="admonitionblock important">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-important" title="Important"></i> </td>
           <td class="content"> If a generic JSON document is deserialized, only a set of basic Java types like String, Number, Double are supported. Every JSON object is deserialized into a (nested) <code>DoEntity</code> structure, which internally is represented by a nested structure of <code>Map&lt;String, Object&gt;</code>. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="map-of-objects"><a class="anchor" href="#map-of-objects"></a>16.10. Map of objects</h3>
      <div class="paragraph">
       <p>To build map-like a data object (corresponds to <code>Map&lt;String, T&gt;</code>), the <code>DoMapEntity&lt;T&gt;</code> base class may be used.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 90. Example: Map&lt;String, ExampleEntityDo&gt; as ExampleMapEntityDo data object
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TypeName</span>(<span class="string"><span class="delimiter">"</span><span class="content">ExampleMapEntity</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleMapEntityDo</span> <span class="directive">extends</span> DoMapEntity&lt;ExampleEntityDo&gt; {
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>The example JSON document of ExampleMapEntityDo instance with two elements:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 91. Example: ExampleMapEntityDo with two elements:
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="JSON">{
  <span class="key"><span class="delimiter">"</span><span class="content">_type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">ExampleMapEntity</span><span class="delimiter">"</span></span>,
  <span class="key"><span class="delimiter">"</span><span class="content">mapAttribute1</span><span class="delimiter">"</span></span> : {
    <span class="key"><span class="delimiter">"</span><span class="content">_type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">ExampleEntity</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">example-1</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">values</span><span class="delimiter">"</span></span> : [<span class="integer">1</span>,<span class="integer">2</span>,<span class="integer">3</span>,<span class="integer">4</span>,<span class="integer">5</span>]
  },
    <span class="key"><span class="delimiter">"</span><span class="content">mapAttribute2</span><span class="delimiter">"</span></span> : {
    <span class="key"><span class="delimiter">"</span><span class="content">_type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">ExampleEntity</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">example-2</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">values</span><span class="delimiter">"</span></span> : [<span class="integer">6</span>,<span class="integer">7</span>,<span class="integer">8</span>,<span class="integer">9</span>]
  }
}</code></pre>
       </div>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 92. Example: Accessing attributes
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    ExampleMapEntityDo mapEntity = BEANS.get(ExampleMapEntityDo.class);
    mapEntity.put(<span class="string"><span class="delimiter">"</span><span class="content">mapAttribute1</span><span class="delimiter">"</span></span>,
        BEANS.get(ExampleEntityDo.class)
            .withName(<span class="string"><span class="delimiter">"</span><span class="content">Example</span><span class="delimiter">"</span></span>)
            .withValues(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">4</span>, <span class="integer">5</span>));
    mapEntity.put(<span class="string"><span class="delimiter">"</span><span class="content">mapAttribute2</span><span class="delimiter">"</span></span>,
        BEANS.get(ExampleEntityDo.class)
            .withName(<span class="string"><span class="delimiter">"</span><span class="content">Example</span><span class="delimiter">"</span></span>)
            .withValues(<span class="integer">6</span>, <span class="integer">7</span>, <span class="integer">8</span>, <span class="integer">9</span>));
    ExampleEntityDo attr1 = mapEntity.get(<span class="string"><span class="delimiter">"</span><span class="content">mapAttribute1</span><span class="delimiter">"</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, ExampleEntityDo&gt; allAttributes = mapEntity.all(); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Accessing attribute using <code>get</code> method returns the attribute of declared type <code>T</code></td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Accessing all attributes using <code>all</code> method returns a map with all attributes of type <code>T</code></td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="admonitionblock important">
       <table>
        <tbody>
         <tr>
          <td class="icon"> <i class="fa icon-important" title="Important"></i> </td>
          <td class="content"> A <code>DoMapEntity&lt;T&gt;</code> subclass may declare custom attributes of another type than <code>T</code> (e.g. an integer size attribute). If attributes of other types are used, using the <code>all</code> method results in a <code>ClassCastException</code> since not all attributes are of the same type any longer. </td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="sect2">
      <h3 id="idataobject-interface-data-objects-with-unknown-structure"><a class="anchor" href="#idataobject-interface-data-objects-with-unknown-structure"></a>16.11. IDataObject Interface - Data Objects with unknown structure</h3>
      <div class="paragraph">
       <p>According to the <a href="http://json.org/">JSON specification</a> a JSON document at top level may contain a object or an array. If a JSON string of unknown structure is deserialized, the common super interface <code>IDataObject</code> may be used as target type for the call to the deserializer:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 93. Example: Deserialize a JSON document with unknown structure
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    <span class="predefined-type">String</span> json = <span class="string"><span class="delimiter">"</span><span class="content">&lt;any JSON content&gt;</span><span class="delimiter">"</span></span>;
    IDataObjectMapper mapper = BEANS.get(IDataObjectMapper.class);
    IDataObject dataObject = mapper.readValue(json, IDataObject.class);
    <span class="keyword">if</span> (dataObject <span class="keyword">instanceof</span> DoEntity) {
      <span class="comment">// handle object content</span>
    }
    <span class="keyword">else</span> <span class="keyword">if</span> (dataObject <span class="keyword">instanceof</span> DoList) {
      <span class="comment">// handle array content</span>
    }</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="ad-hoc-data-objects"><a class="anchor" href="#ad-hoc-data-objects"></a>16.12. Ad-Hoc Data Objects</h3>
      <div class="paragraph">
       <p>The <code>DoEntityBuilder</code> may be used to build ad-hoc data objects without a concrete Java class defining its attributes.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 94. Example: DoEntityBuilder
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    DoEntity entity = BEANS.get(DoEntityBuilder.class)
        .put(<span class="string"><span class="delimiter">"</span><span class="content">attr1</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">foo</span><span class="delimiter">"</span></span>)
        .put(<span class="string"><span class="delimiter">"</span><span class="content">attr2</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">bar</span><span class="delimiter">"</span></span>)
        .putList(<span class="string"><span class="delimiter">"</span><span class="content">listAttr</span><span class="delimiter">"</span></span>, <span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>)
        .build(); <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="predefined-type">String</span> entityString = BEANS.get(DoEntityBuilder.class)
        .put(<span class="string"><span class="delimiter">"</span><span class="content">attr1</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">foo</span><span class="delimiter">"</span></span>)
        .put(<span class="string"><span class="delimiter">"</span><span class="content">attr2</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">bar</span><span class="delimiter">"</span></span>)
        .putList(<span class="string"><span class="delimiter">"</span><span class="content">listAttr</span><span class="delimiter">"</span></span>, <span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>)
        .buildString(); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Builder for a DoEntity object</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Builder for the string representation of a DoEntity objects</td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="sect2">
      <h3 id="maven-dependencies"><a class="anchor" href="#maven-dependencies"></a>16.13. Maven Dependencies</h3>
      <div class="paragraph">
       <p>The Scout data object implementation does not reference any specific Java serialization library or framework. The basic building blocs of data objects are part of the Scout platform and to not reference any thirdparty libraries. At runtime an implementation of the <code>IDataObjectMapper</code> interface must be provided. The Scout default implementation based on the JSON library Jackson is provided by adding a maven dependency to the module <code>org.eclipse.scout.rt.jackson</code>. The dependency to this module must be added in the top-level .dev/.app module. A dependency within the program code is not necessaray as long as no specific Jackson features should be used within the application code.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="data-object-inventory"><a class="anchor" href="#data-object-inventory"></a>16.14. Data Object Inventory</h3>
      <div class="paragraph">
       <p>The class <code>org.eclipse.scout.rt.platform.dataobject.DataObjectInventory</code> provides access to all available data objects at runtime. For each data object all available attributes and their properties (name, type, accessor method and format pattern) are available:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 95. Example: Accessing data object inventory
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">    <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, DataObjectAttributeDescriptor&gt; attributes =
        BEANS.get(DataObjectInventory.class).getAttributesDescription(ExampleEntityDo.class);
    attributes.forEach(
        (key, value) -&gt; <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">"</span><span class="content">Attribute </span><span class="delimiter">"</span></span> + key + <span class="string"><span class="delimiter">"</span><span class="content"> type </span><span class="delimiter">"</span></span> + value.getType()));</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>Apart from attribute descriptions, the inventory provides access to type name and type version of each data object class.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="extending-with-custom-serializer-and-deserializer"><a class="anchor" href="#extending-with-custom-serializer-and-deserializer"></a>16.15. Extending with custom serializer and deserializer</h3>
      <div class="paragraph">
       <p>The application scoped beans <code>DataObjectSerializers</code> resp. <code>DataObjectDeserializers</code> define the available serializer and deserializer classes used to marshal the data objects. Own custom serializer and deserializer implementations can be added by replacing the corresponding base class and register its own custom serializer or deserializer.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="enumerations-within-data-objects"><a class="anchor" href="#enumerations-within-data-objects"></a>16.16. Enumerations within Data Objects</h3>
      <div class="paragraph">
       <p>Implementations of <code>org.eclipse.scout.rt.dataobject.enumeration.IEnum</code> add a <code>stringValue()</code> method to each enumeration value, guaranteeing a constant, fixed string value for each enumeration value. An arbitrary Java enum may be used within a data object, but does not guarantee a stable serialized value, if an enumeration value is changed in future.</p>
      </div>
      <div class="paragraph">
       <p>Additionally implementations of <code>IEnum</code> can be annotated with <code>@EnumName</code> and <code>@EnumVersion</code> to support handling of different versions and migration between.</p>
      </div>
      <div class="paragraph">
       <p>All instances of <code>IEnum</code> may be used within data objects and are automatically serialized to their JSON string value representation and deserialized back to the correct Java class instance.</p>
      </div>
      <div class="paragraph">
       <p>The default resolver mechanism for <code>IEnum</code> (see <code>org.eclipse.scout.rt.dataobject.enumeration.EnumResolver</code>) matches the given string with the available string values in the current enumeration implementation to look up the matching enumeration value. An optional static <code>resolve()</code> method handles the resolve of a given string value into the correct enumeration value allowing to support even string values, whose enumeration values where changed or deleted.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 96. Example IEnum implementation
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@EnumName</span>(<span class="string"><span class="delimiter">"</span><span class="content">scout.FixtureEnum</span><span class="delimiter">"</span></span>)
  <span class="annotation">@EnumVersion</span>(<span class="string"><span class="delimiter">"</span><span class="content">scout-8.0.0.036</span><span class="delimiter">"</span></span>)
  <span class="directive">public</span> <span class="type">enum</span> ExampleEnum <span class="directive">implements</span> IEnum {
    ONE(<span class="string"><span class="delimiter">"</span><span class="content">one</span><span class="delimiter">"</span></span>),
    TWO(<span class="string"><span class="delimiter">"</span><span class="content">two</span><span class="delimiter">"</span></span>),
    THREE(<span class="string"><span class="delimiter">"</span><span class="content">three</span><span class="delimiter">"</span></span>);
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> m_stringValue;
    <span class="directive">private</span> ExampleEnum(<span class="predefined-type">String</span> stringValue) {
      m_stringValue = stringValue;
    }
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">String</span> stringValue() {
      <span class="keyword">return</span> m_stringValue;
    }
    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> ExampleEnum resolve(<span class="predefined-type">String</span> value) { <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="comment">// custom null handling</span>
      <span class="keyword">if</span> (value == <span class="predefined-constant">null</span>) {
        <span class="keyword">return</span> <span class="predefined-constant">null</span>;
      }
      <span class="keyword">switch</span> (value) {
        <span class="comment">// custom handling of old values (assuming 'old' was used in earlier revisions)</span>
        <span class="keyword">case</span> <span class="string"><span class="delimiter">"</span><span class="content">one</span><span class="delimiter">"</span></span>:
          <span class="keyword">return</span> ONE;
        <span class="keyword">case</span> <span class="string"><span class="delimiter">"</span><span class="content">two</span><span class="delimiter">"</span></span>:
          <span class="keyword">return</span> TWO;
        <span class="keyword">case</span> <span class="string"><span class="delimiter">"</span><span class="content">three</span><span class="delimiter">"</span></span>:
          <span class="keyword">return</span> THREE;
        <span class="keyword">case</span> <span class="string"><span class="delimiter">"</span><span class="content">four</span><span class="delimiter">"</span></span>:
          <span class="keyword">return</span> THREE;
        <span class="keyword">default</span>:
          <span class="comment">// custom handling of unknown values</span>
          <span class="keyword">throw</span> <span class="keyword">new</span> AssertionException(<span class="string"><span class="delimiter">"</span><span class="content">unsupported status value '{}'</span><span class="delimiter">"</span></span>, value);
      }
    }
  }</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Optional resolve method</td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="sect2">
      <h3 id="typed-ids-within-data-objects"><a class="anchor" href="#typed-ids-within-data-objects"></a>16.17. Typed IDs within Data Objects</h3>
      <div class="paragraph">
       <p>Implementations of <code>org.eclipse.scout.rt.dataobject.id.IId&lt;WRAPPED_TYPE&gt;</code> interface wrap an arbitrary value adding a concrete Java type to a scalar value. E.g. the key of an example entity which technically is a UUID becomes an instance of the <code>ExampleId</code> class.</p>
      </div>
      <div class="paragraph">
       <p>All instances of <code>IId</code> may be used within data objects and are automatically serialized to their JSON string representation of the wrapped value and deserialized back to the correct Java class instance.</p>
      </div>
      <div class="paragraph">
       <p>An exampleId instance may then be used as type-safe parameter for further referencing a given example entity record, for instance as attribute value within a data object.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 97. Example ID implementation wrapping a UUID
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@IdTypeName</span>(<span class="string"><span class="delimiter">"</span><span class="content">scout.ExampleId</span><span class="delimiter">"</span></span>)
  <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">ExampleId</span> <span class="directive">extends</span> AbstractUuId {
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">long</span> serialVersionUID = <span class="integer">1L</span>;
    <span class="directive">public</span> <span class="directive">static</span> ExampleId create() {
      <span class="keyword">return</span> <span class="keyword">new</span> ExampleId(<span class="predefined-type">UUID</span>.randomUUID());
    }
    <span class="directive">public</span> <span class="directive">static</span> ExampleId of(<span class="predefined-type">UUID</span> id) {
      <span class="keyword">if</span> (id == <span class="predefined-constant">null</span>) {
        <span class="keyword">return</span> <span class="predefined-constant">null</span>;
      }
      <span class="keyword">return</span> <span class="keyword">new</span> ExampleId(id);
    }
    <span class="directive">public</span> <span class="directive">static</span> ExampleId of(<span class="predefined-type">String</span> id) {
      <span class="keyword">if</span> (id == <span class="predefined-constant">null</span>) {
        <span class="keyword">return</span> <span class="predefined-constant">null</span>;
      }
      <span class="keyword">return</span> <span class="keyword">new</span> ExampleId(<span class="predefined-type">UUID</span>.fromString(id));
    }
    <span class="directive">private</span> ExampleId(<span class="predefined-type">UUID</span> id) {
      <span class="local-variable">super</span>(id);
    }
  }</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="sec-unit-testing"><a class="anchor" href="#sec-unit-testing"></a>16.18. Unit Testing</h3>
      <div class="paragraph">
       <p>A set of utility methods for unit tests with data objects are provided within the <code>DataObjectTestHelper</code> class. Commonly used are a set of assert methods (e.g. <code>assertEquals(Object expected, Object actual)</code>) for testing data objects for (deep) equality.</p>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="cha-rest"><a class="anchor" href="#cha-rest"></a>17. REST</h2>
    <div class="sectionbody">
     <div class="sect2">
      <h3 id="rest-resource-conventions"><a class="anchor" href="#rest-resource-conventions"></a>17.1. REST Resource Conventions</h3>
      <table class="tableblock frame-all grid-all stretch">
       <caption class="title">
        Table 2. HTTP Methods for RESTful Services
       </caption>
       <colgroup>
        <col style="width: 14.2857%;">
        <col style="width: 14.2857%;">
        <col style="width: 71.4286%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">HTTP Method</th>
         <th class="tableblock halign-left valign-top">CRUD</th>
         <th class="tableblock halign-left valign-top">Description</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">POST</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Create</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Is most-often used to create new resources.</p> <p class="tableblock">POST is not idempotent. Making two identical POST requests will most-likely result in two resources containing the same information or the action executed twice.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Read</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Only used to read or retrieve a representation of a resource.</p> <p class="tableblock">According to the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.1.1">HTTP specification</a> GET (and HEAD) requests are used to read data and must not change anything! If a REST API wants to violate the specification, such requests must be protected against <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery">CSRF</a> which is not enabled for GET and HEAD requests by default. See the Scout Bean <code>org.eclipse.scout.rt.rest.csrf.AntiCsrfHelper</code> for more details.</p> <p class="tableblock">GET requests are idempotent, which means that making multiple identical requests ends up having the same result as a single request (assuming the data has not been changed in the meantime).</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">PUT</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Update/Replace</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Is most-often used to update resources.</p> <p class="tableblock">PUT expects to send the complete resource (not like PATCH) and is idempotent. In other words, if you create or update a resource using PUT and then make that same call again, the resource is still there and still has the same state as it did with the first call.</p> <p class="tableblock">If, for instance, calling PUT on a resource increments a counter within the resource, the call is no longer idempotent. In such a scenario it is strongly recommended to use POST for non-idempotent requests.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">PATCH</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Update</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">PATCH is used to update resources. The PATCH request typically only contains the changes to the resource, not the complete resource.</p> <p class="tableblock">PATCH is not required to be idempotent. But it is possible to implement it in a way to be idempotent, which also helps prevent bad outcomes from collisions between multiple requests on the same resource.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">DELETE</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Delete</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Used to delete a resource.</p> <p class="tableblock">DELETE operations are idempotent concerning the result but may return another status code after the first deletion (e.g. 404 NOT FOUND).</p></td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="sect2">
      <h3 id="rest-resource-provider"><a class="anchor" href="#rest-resource-provider"></a>17.2. REST Resource Provider</h3>
      <div class="paragraph">
       <p>A REST resource using the <a href="http://www.oracle.com/technetwork/java/javaee/tech/jax-rs-159890.html">JAX-RS</a> API is implemented by a POJO class annotated with a set of annotations.</p>
      </div>
      <div class="paragraph">
       <p>The Scout module <code>org.eclipse.scout.rt.rest</code> contains the basic <code>IRestResource</code> marker interface which integrates REST resources within the Scout framework. The interface is annotated by <code>@Bean</code> allowing the Scout platform to load and register all REST resources automatically at startup using the Jandex class inventory.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 98. Example: REST resource
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Path</span>(<span class="string"><span class="delimiter">"</span><span class="content">example</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleResource</span> <span class="directive">implements</span> IRestResource {
  <span class="annotation">@GET</span>
  <span class="annotation">@Path</span>(<span class="string"><span class="delimiter">"</span><span class="content">{id}</span><span class="delimiter">"</span></span>)
  <span class="annotation">@Produces</span>(MediaType.APPLICATION_JSON)
  <span class="directive">public</span> ExampleEntityDo getExamlpeEntity(<span class="annotation">@PathParam</span>(<span class="string"><span class="delimiter">"</span><span class="content">id</span><span class="delimiter">"</span></span>) <span class="predefined-type">String</span> id) {
    <span class="keyword">return</span> BEANS.get(ExampleEntityDo.class)
        .withName(<span class="string"><span class="delimiter">"</span><span class="content">example-</span><span class="delimiter">"</span></span> + id)
        .withValues(<span class="integer">1</span>);
  }
}</code></pre>
       </div>
      </div>
      <div class="sect3">
       <h4 id="rest-resource-registration"><a class="anchor" href="#rest-resource-registration"></a>17.2.1. REST Resource Registration</h4>
       <div class="paragraph">
        <p>All available REST resources are automatically registered by the <code>RestApplication</code> class while the Scout platform startup.</p>
       </div>
       <div class="paragraph">
        <p>Add the following snippet to your <code>web.xml</code> file to expose your REST API using the <code>/api</code> context path:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 99. web.xml
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- JAX-RS Jersey Servlet --&gt;</span>
<span class="tag">&lt;servlet&gt;</span>
  <span class="tag">&lt;servlet-name&gt;</span>api<span class="tag">&lt;/servlet-name&gt;</span>
  <span class="tag">&lt;servlet-class&gt;</span>org.glassfish.jersey.servlet.ServletContainer<span class="tag">&lt;/servlet-class&gt;</span>
  <span class="tag">&lt;init-param&gt;</span>
    <span class="tag">&lt;param-name&gt;</span>javax.ws.rs.Application<span class="tag">&lt;/param-name&gt;</span>
    <span class="tag">&lt;param-value&gt;</span>org.eclipse.scout.rt.rest.RestApplication<span class="tag">&lt;/param-value&gt;</span>
  <span class="tag">&lt;/init-param&gt;</span>
  <span class="tag">&lt;load-on-startup&gt;</span>1<span class="tag">&lt;/load-on-startup&gt;</span>
<span class="tag">&lt;/servlet&gt;</span>
<span class="tag">&lt;servlet-mapping&gt;</span>
  <span class="tag">&lt;servlet-name&gt;</span>api<span class="tag">&lt;/servlet-name&gt;</span>
  <span class="tag">&lt;url-pattern&gt;</span>/api/*<span class="tag">&lt;/url-pattern&gt;</span>
<span class="tag">&lt;/servlet-mapping&gt;</span></code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="extend-rest-application"><a class="anchor" href="#extend-rest-application"></a>17.2.2. Extend REST Application</h4>
       <div class="paragraph">
        <p>The JAX-RS application API (<code>javax.ws.rs.core.Application</code>) allows a REST application implementation to specify a set of classes, a set of singleton instances and a map of custom properties to be registered. The Scout implementation of the REST application class <code>org.eclipse.scout.rt.rest.RestApplication</code> allows to contribute classes, singletons and properties without needing to extend the <code>RestApplication</code> class.</p>
       </div>
       <div class="paragraph">
        <p>Three different contributor interfaces are available for contributions:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p><code>IRestApplicationClassesContributor</code> to contribute any classes</p> </li>
         <li> <p><code>IRestApplicationSingletonsContributor</code> to contribute any object instances (singletons)</p> </li>
         <li> <p><code>IRestApplicationPropertiesContributor</code> to contribute key/value properties</p> </li>
        </ul>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 100. Example class contributor
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">ExampleClassContributor</span> <span class="directive">implements</span> IRestApplicationClassesContributor {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">Class</span>&lt;?&gt;&gt; contribute() {
    <span class="keyword">return</span> <span class="predefined-type">Collections</span>.singleton(MyCustomExample.class);
  }
}</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="data-objects"><a class="anchor" href="#data-objects"></a>17.2.3. Data Objects</h4>
       <div class="paragraph">
        <p>Scout data objects may be used as request and response objects for REST APIs. See <a href="#cha-data-objects">Chapter 16</a> for details and examples.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="marshaller"><a class="anchor" href="#marshaller"></a>17.2.4. Marshaller</h4>
       <div class="paragraph">
        <p>A REST API may be used by non-Java consumers. In order to communicate using a platform-independent format, usually REST services use JSON as transport format. The marshaller between Java data objects and JSON is abstracted in the JAX-RS specification. Using the <code>@Produces(MediaType.APPLICATION_JSON)</code> annotation, each REST service method specifies the produces data format.</p>
       </div>
       <div class="paragraph">
        <p>The Scout REST integration uses the popular Jackson library as default marshaller.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="runcontext-2"><a class="anchor" href="#runcontext-2"></a>17.2.5. RunContext</h4>
       <div class="paragraph">
        <p>Like a usual service call using the Scout service tunnel a REST request must ensure that processing of the request takes place within a <code>RunContext</code>. The <code>HttpServerRunContextFilter</code> or <code>HttpRunContextFilter</code> can be used to intercept incoming REST requests and wrap them within a Scout RunContext. <code>HttpServerRunContextFilter</code> can be used if a Scout server dependency is available. Optionally this filter also supports the creation of a Scout server session if this should be required (stateful). Refer to the javadoc for more details. The <code>HttpRunContextFilter</code> on the other hand does not provide session support and is always stateless.</p>
       </div>
       <div class="paragraph">
        <p>Therefore a REST resource implementation is not required to deal with setting up a RunContext to wrap the request within each method. The filter must be added in the <code>web.xml</code> configuration file and should be configured to be called after the authentication filter. The filter expects that the authentication has been performed and that a <code>subject</code> is available (JAAS context). All following filters and servlets and thus also the REST resources run automatically in the correct context.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 101. web.xml registration example for HttpServerRunContextFilter.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;filter&gt;</span>
   <span class="tag">&lt;filter-name&gt;</span>HttpServerRunContextFilter<span class="tag">&lt;/filter-name&gt;</span>
   <span class="tag">&lt;filter-class&gt;</span>org.eclipse.scout.rt.server.context.HttpServerRunContextFilter<span class="tag">&lt;/filter-class&gt;</span>
   <span class="tag">&lt;init-param&gt;</span>
     <span class="tag">&lt;param-name&gt;</span>session<span class="tag">&lt;/param-name&gt;</span>
     <span class="tag">&lt;param-value&gt;</span>false<span class="tag">&lt;/param-value&gt;</span>
   <span class="tag">&lt;/init-param&gt;</span>
 <span class="tag">&lt;/filter&gt;</span>
<span class="tag">&lt;filter-mapping&gt;</span>
  <span class="tag">&lt;filter-name&gt;</span>HttpServerRunContextFilter<span class="tag">&lt;/filter-name&gt;</span>
  <span class="tag">&lt;url-pattern&gt;</span>/api/*<span class="tag">&lt;/url-pattern&gt;</span>
<span class="tag">&lt;/filter-mapping&gt;</span></code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>Beside the <code>subject</code> and other attributes the <code>HttpServerRunContextFilter</code> and <code>HttpRunContextFilter</code> setup the Correlation ID, as well as the locale. Both values are read from the incoming request header, the caller must ensure that the headers <code>Accept-Language</code> and <code>X-Scout-Correlation-Id</code> are set accordingly.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="dependency-management"><a class="anchor" href="#dependency-management"></a>17.3. Dependency Management</h3>
      <div class="paragraph">
       <p>Scout REST services based on JAX-RS using the Jersey library and the Jackson JSON marshaller need a maven dependency to <code>jersey-media-json-jackson</code> in your application pom.xml. This enables to use Jackson as JAX-RS marshaller with the Jersey JAX-RS implementation. Additionally a dependency to the Scout module <code>org.eclipse.scout.rt.rest.jackson</code> is necessary. This module adds a set of Jackson additions in order to use the Jackson library together with Scout data objects.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 102. Depencency section of pom.xml to use Scout REST services with Jackson &amp; Jersey
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- JAX-RS Jersey --&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.glassfish.jersey.containers<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>jersey-container-servlet-core<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.glassfish.jersey.inject<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>jersey-hk2<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.glassfish.jersey.media<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>jersey-media-json-jackson<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
<span class="comment">&lt;!-- Jackson/Scout integration --&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.eclipse.scout.rt<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>org.eclipse.scout.rt.rest.jackson<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="rest-client"><a class="anchor" href="#rest-client"></a>17.4. REST Client</h3>
      <div class="paragraph">
       <p>The Scout module <code>org.eclipse.scout.rt.rest</code> offers a set of helper classes in order to call REST services.</p>
      </div>
      <div class="paragraph">
       <p>Each REST service endpoint is represented by a specific REST resource client helper class. The (usually application scoped bean) class is used to specify the resource URL and additional properties used to build up the connection (authentication, additional headers,&#x2026;&#x200b;). Further it provides a call-back method for transforming unsuccessful responses into appropriate exception.</p>
      </div>
      <div class="paragraph">
       <p>At least the REST resource&#x2019;s base URI must be specified:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 103. Example: REST resource client helper
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleRestClientHelper</span> <span class="directive">extends</span> AbstractRestClientHelper {
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">String</span> getBaseUri() {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">https://api.example.org/</span><span class="delimiter">"</span></span>; <i class="conum" data-value="1"></i><b>(1)</b>
  }
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="exception">RuntimeException</span> transformException(<span class="exception">RuntimeException</span> e, Response response) { <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="keyword">if</span> (response != <span class="predefined-constant">null</span> &amp;&amp; response.hasEntity()) {
      ErrorDo error = response.readEntity(ErrorResponse.class).getError();
      <span class="keyword">throw</span> <span class="keyword">new</span> VetoException(error.getMessage())
          .withTitle(error.getTitle());
    }
    <span class="keyword">return</span> e;
  }
}</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Declare base uri.</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Custom exception transformer that is used as default strategy for all invocations prepared by this helper. (This is just for demonstration. Better extend <code>org.eclipse.scout.rt.rest.client.proxy.AbstractEntityRestClientExceptionTransformer</code>).</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>Based on the helper class, an example REST resource client may be implemented:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 104. Example: REST resource client
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleResourceClient</span> <span class="directive">implements</span> IRestResourceClient {
  <span class="directive">protected</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> RESOURCE_PATH = <span class="string"><span class="delimiter">"</span><span class="content">example</span><span class="delimiter">"</span></span>;
  <span class="directive">protected</span> ExampleRestClientHelper helper() {
    <span class="keyword">return</span> BEANS.get(ExampleRestClientHelper.class);
  }
  <span class="directive">public</span> ExampleEntityDo getExampleEntity(<span class="predefined-type">String</span> id) {
    WebTarget target = helper().target(RESOURCE_PATH)
        .path(<span class="string"><span class="delimiter">"</span><span class="content">/{id}</span><span class="delimiter">"</span></span>)
        .resolveTemplate(<span class="string"><span class="delimiter">"</span><span class="content">id</span><span class="delimiter">"</span></span>, id);
    <span class="keyword">return</span> target.request()
        .accept(MediaType.APPLICATION_JSON)
        .get(ExampleEntityDo.class); <i class="conum" data-value="1"></i><b>(1)</b>
  }
  <span class="directive">public</span> ExampleEntityDo updateExampleEntity(<span class="predefined-type">String</span> id, ExampleEntityDo entity) {
    WebTarget target = helper().target(RESOURCE_PATH)
        .path(<span class="string"><span class="delimiter">"</span><span class="content">/{id}</span><span class="delimiter">"</span></span>)
        .resolveTemplate(<span class="string"><span class="delimiter">"</span><span class="content">id</span><span class="delimiter">"</span></span>, id);
    <span class="keyword">return</span> target.request()
        .accept(MediaType.APPLICATION_JSON)
        .post(<span class="predefined-type">Entity</span>.json(entity), ExampleEntityDo.class); <i class="conum" data-value="2"></i><b>(2)</b>
  }
  <span class="directive">public</span> <span class="type">void</span> deleteExampleEntity(<span class="predefined-type">String</span> id) {
    WebTarget target = helper().target(RESOURCE_PATH)
        .path(<span class="string"><span class="delimiter">"</span><span class="content">/{id}</span><span class="delimiter">"</span></span>)
        .resolveTemplate(<span class="string"><span class="delimiter">"</span><span class="content">id</span><span class="delimiter">"</span></span>, id);
    Response response = target.request().delete(); <i class="conum" data-value="3"></i><b>(3)</b>
    response.close();
  }
  <span class="directive">public</span> ExampleEntityDo getExampleEntityCustomExceptionHandling(<span class="predefined-type">String</span> id) {
    WebTarget target = helper().target(RESOURCE_PATH, <span class="local-variable">this</span>::transformCustomException) <i class="conum" data-value="4"></i><b>(4)</b>
        .path(<span class="string"><span class="delimiter">"</span><span class="content">/{id}</span><span class="delimiter">"</span></span>)
        .resolveTemplate(<span class="string"><span class="delimiter">"</span><span class="content">id</span><span class="delimiter">"</span></span>, id);
    <span class="keyword">return</span> target.request()
        .accept(MediaType.APPLICATION_JSON)
        .get(ExampleEntityDo.class);
  }
  <span class="directive">protected</span> <span class="exception">RuntimeException</span> transformCustomException(<span class="exception">RuntimeException</span> e, Response r) {
    <span class="keyword">if</span> (r != <span class="predefined-constant">null</span> &amp;&amp; r.hasEntity() &amp;&amp; MediaType.TEXT_PLAIN_TYPE.equals(r.getMediaType())) {
      <span class="predefined-type">String</span> message = r.readEntity(<span class="predefined-type">String</span>.class);
      <span class="keyword">throw</span> <span class="keyword">new</span> VetoException(message);
    }
    <span class="keyword">return</span> e;
  }
}</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>HTTP GET example: Directly read response into an object. Exceptions are transformed transparently and the underlying resources are released (e.g. HTTP client).</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>HTTP POST example: Again, directly read the response into an object.</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>HTTP DELETE example: This delete operation does not send a response if it was successful. Hence close the returned <code>Response</code> explicitly to release underlying resources (see next line). Note: Unsuccessful responses are already handled by the REST client proxy.</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="4"></i><b>4</b></td>
          <td>Use custom exception transformer.</td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="sect2">
      <h3 id="rest-cancellation-support"><a class="anchor" href="#rest-cancellation-support"></a>17.5. REST Cancellation Support</h3>
      <div class="paragraph">
       <p>REST and the underlying HTTP protocol do not provide an explicit way to cancel running requests. Typically, a client terminates its connection to the HTTP server if it is no longer interested in the response. REST resources would have to monitor TCP connections and interpret a close as cancellation. Depending on the abstraction of the REST framework, connection events are not passed through and the cancellation is only recognized when the response is written to the closed connection. Until this happens, however, backend resources are used unnecessarily.</p>
      </div>
      <div class="paragraph">
       <p>Scout&#x2019;s standard REST integration implements the described approach by closing the connection without any further action. It is not possible to react to this on the resource side.</p>
      </div>
      <div class="paragraph">
       <p>In order to enable a real cancellation, Scout also provides all necessary elements to assign an ID to a request, to manage these IDs in the backend during execution and to cancel transactions in the event of a cancellation. The following steps must be taken for their use:</p>
      </div>
      <div class="sect3">
       <h4 id="cancellation-resource-and-resource-client"><a class="anchor" href="#cancellation-resource-and-resource-client"></a>17.5.1. Cancellation Resource and Resource Client</h4>
       <div class="paragraph">
        <p>Scout does not impose nor provide a cancellation resource. It must be implemented by the project:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 105. Example: REST cancellation Resource
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Path</span>(<span class="string"><span class="delimiter">"</span><span class="content">cancellation</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">CancellationResource</span> <span class="directive">implements</span> IRestResource {
  <span class="annotation">@PUT</span>
  <span class="annotation">@Path</span>(<span class="string"><span class="delimiter">"</span><span class="content">{requestId}</span><span class="delimiter">"</span></span>)
  <span class="directive">public</span> <span class="type">void</span> cancel(<span class="annotation">@PathParam</span>(<span class="string"><span class="delimiter">"</span><span class="content">requestId</span><span class="delimiter">"</span></span>) <span class="predefined-type">String</span> requestId) {
    <span class="predefined-type">String</span> userId = BEANS.get(IAccessControlService.class).getUserIdOfCurrentSubject(); <i class="conum" data-value="1"></i><b>(1)</b>
    BEANS.get(RestRequestCancellationRegistry.class).cancel(requestId, userId); <i class="conum" data-value="2"></i><b>(2)</b>
  }
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Resolve the <code>userId</code> of the current user. This is optional and may depend on the current project.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Invoke the cancellation registry for the given <code>requestId</code> and <code>userId</code>.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 106. Example: REST cancellation Resource Client
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">CancellationResourceClient</span> <span class="directive">implements</span> IRestResourceClient {
  <span class="directive">protected</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> RESOURCE_PATH = <span class="string"><span class="delimiter">"</span><span class="content">cancellation</span><span class="delimiter">"</span></span>;
  <span class="directive">protected</span> CancellationRestClientHelper helper() {
    <span class="keyword">return</span> BEANS.get(CancellationRestClientHelper.class);
  }
  <span class="directive">public</span> <span class="type">void</span> cancel(<span class="predefined-type">String</span> requestId) {
    WebTarget target = helper().target(RESOURCE_PATH)
        .path(<span class="string"><span class="delimiter">"</span><span class="content">{requestId}</span><span class="delimiter">"</span></span>)
        .resolveTemplate(<span class="string"><span class="delimiter">"</span><span class="content">requestId</span><span class="delimiter">"</span></span>, requestId);
    Response response = target.request()
        .put(<span class="predefined-type">Entity</span>.json(<span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>));
    response.close();
  }
}</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="install-cancellation-request-filter"><a class="anchor" href="#install-cancellation-request-filter"></a>17.5.2. Install Cancellation Request Filter</h4>
       <div class="paragraph">
        <p>To assign an ID to each request, an appropriate client request filter must be registered:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 107. Example: Register Client Request Cancellation Filter in REST Client Helper
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">CancellationRestClientHelper</span> <span class="directive">extends</span> AbstractRestClientHelper {
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">String</span> getBaseUri() {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">https://api.example.org/</span><span class="delimiter">"</span></span>;
  }
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="type">void</span> registerRequestFilters(ClientBuilder clientBuilder) {
    <span class="local-variable">super</span>.registerRequestFilters(clientBuilder);
    clientBuilder.register(<span class="keyword">new</span> RestRequestCancellationClientRequestFilter(<span class="local-variable">this</span>::cancelRequest)); <i class="conum" data-value="1"></i><b>(1)</b>
  }
  <span class="directive">protected</span> <span class="type">void</span> cancelRequest(<span class="predefined-type">String</span> requestId) {
    BEANS.get(CancellationResourceClient.class).cancel(requestId); <i class="conum" data-value="2"></i><b>(2)</b>
  }
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Register the <code>RestRequestCancellationClientRequestFilter</code> that assigns a UUID to every request, which is sent as an HTTP header named <code>X-ScoutRequestId</code>.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Binds the actual cancel-operation to the <code>cancel</code> Method (in this case the cancellation rest resource client from above).</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="implement-cancellation-servlet-filter"><a class="anchor" href="#implement-cancellation-servlet-filter"></a>17.5.3. Implement Cancellation Servlet Filter</h4>
       <div class="paragraph">
        <p>Requests arriving at the backend need to be registered in the cancellation registry. This is done by a servlet filter (Note: REST container filters would have two issues: 1. there is no real interceptor around the resource call, but only a <code>ContainerRequestFilter</code> that is invoked before and a <code>ContainerResponseFilter</code> which is invoked after the the request is passed to the resource. 2. Cancellation in Scout is tied to an <code>ITransaction</code> that are managed by a <code>RunContext</code> and observed and controlled by a <code>RunMonitor</code>. Depending on sub-RunContexts and their transaction isolation it might happen, that the transaction visible in a container filter is not controlled by the currently active <code>RunMonitor</code>. Therefore, a cancel request would not cancel the transaction.)</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 108. Example: Register client request cancellation filter in Rest Client Helper
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">RestRequestCancellationServletFilter</span> <span class="directive">extends</span> AbstractRestRequestCancellationServletFilter {
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">Object</span> resolveUserId(HttpServletRequest request) {
    <span class="keyword">return</span> BEANS.get(IAccessControlService.class).getUserIdOfCurrentSubject(); <i class="conum" data-value="1"></i><b>(1)</b>
  }
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Implement the same <code>userId</code> Lookup as in the <code>CancellationResource</code>.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>And finally, declare the servlet filter in your <code>web.xml</code>:</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 109. web.xml registration example for RestRequestCancellationFilter.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;filter&gt;</span>
   <span class="tag">&lt;filter-name&gt;</span>RestRequestCancellationFilter<span class="tag">&lt;/filter-name&gt;</span>
   <span class="tag">&lt;filter-class&gt;</span>org.eclipse.scout.docs.snippets.rest.RestRequestCancellationServletFilter<span class="tag">&lt;/filter-class&gt;</span>
 <span class="tag">&lt;/filter&gt;</span>
<span class="tag">&lt;filter-mapping&gt;</span>
  <span class="tag">&lt;filter-name&gt;</span>RestRequestCancellationFilter<span class="tag">&lt;/filter-name&gt;</span>
  <span class="tag">&lt;url-pattern&gt;</span>/api/*<span class="tag">&lt;/url-pattern&gt;</span>
<span class="tag">&lt;/filter-mapping&gt;</span></code></pre>
        </div>
       </div>
       <div class="admonitionblock important">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-important" title="Important"></i> </td>
           <td class="content"> Make sure the cancellation filter is registered after the HttpServerRunContextFilter. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="webservices-with-jax-ws"><a class="anchor" href="#webservices-with-jax-ws"></a>18. Webservices with JAX-WS</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>The Java API for XML-Based Web Services (JAX-WS) is a Java programming language API for creating web services. JAX-WS is one of the Java XML programming APIs, and is part of the Java EE platform.</p>
     </div>
     <div class="paragraph">
      <p>Scout facilitates working with webservices, supports you in the generation of artifacts, and provides the following functionality:</p>
     </div>
     <div class="sect2">
      <h3 id="functionality-2"><a class="anchor" href="#functionality-2"></a>18.1. Functionality</h3>
      <div class="ulist">
       <ul>
        <li> <p>ready to go Maven profile for easy webservice stub and artifact generation</p> </li>
        <li> <p>full JAX-WS 2.2 compliance</p> </li>
        <li> <p>JAX-WS implementor independence</p> </li>
        <li> <p>provides an up front port type <em>EntryPoint</em> to enforce for authentication, and to run web requests in a <a href="#runcontext">RunContext</a></p> </li>
        <li> <p>adds cancellation support for on-going webservice requests</p> </li>
        <li> <p>provides a port cache for webservice consumers</p> </li>
        <li> <p>allows to participate in 2PC protocol for webservice consumers</p> </li>
        <li> <p>allows to provide 'init parameters' to handlers</p> </li>
       </ul>
      </div>
     </div>
     <div class="sect2">
      <h3 id="jax-ws-implementor-and-deployment"><a class="anchor" href="#jax-ws-implementor-and-deployment"></a>18.2. JAX-WS implementor and deployment</h3>
      <div class="sect3">
       <h4 id="jax-ws-version-and-implementor"><a class="anchor" href="#jax-ws-version-and-implementor"></a>18.2.1. JAX-WS version and implementor</h4>
       <div class="paragraph">
        <p>The JAX-WS Scout integration provides a thin layer on top of JAX-WS implementors to facilitate working with webservices. It depends on the JAX-WS 2.2.x API as specified in JSR 224. It is implementor neutral, and was tested with with the following implementations:</p>
       </div>
       <div class="ulist">
        <ul>
         <li> <p><em>JAX-WS RI</em> (reference implementation) as shipped with Java 7 and Java 8. Please note that starting with Java 11 this is no longer part of the JRE.</p> </li>
         <li> <p><em>JAX-WS METRO</em> (2.2.10)</p> </li>
         <li> <p><em>Apache CXF</em> (3.1.3)</p> </li>
        </ul>
       </div>
       <div class="paragraph">
        <p>The integration does not require you to bundle the JAX-WS implementor with your application, which is a prerequisite for running in an EE container.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="running-jax-ws-in-a-servlet-container"><a class="anchor" href="#running-jax-ws-in-a-servlet-container"></a>18.2.2. Running JAX-WS in a servlet container</h4>
       <div class="paragraph">
        <p>A servlet container like Apache Tomcat typically does not ship with a JAX-WS implementor. As the actual implementor, you can either use <em>JAX-WS RI</em> as shipped with the JRE, or provide a separate implementor like <em>JAX-WS METRO</em> or <em>Apache CXF</em> in the form of a Maven dependency. However, <em>JAX-WS RI</em> does not provide a servlet based entry point, because the Servlet API is not part of the Java SE specification.</p>
       </div>
       <div class="paragraph">
        <p>When publishing webservices, it therefore is easiest to ship with a separate implementor: Declare a respective Maven dependency in your webbapp project - that is the Maven module typically containing the application&#x2019;s <em>web.xml</em>.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="running-jax-ws-in-a-ee-container"><a class="anchor" href="#running-jax-ws-in-a-ee-container"></a>18.2.3. Running JAX-WS in a EE container</h4>
       <div class="paragraph">
        <p>When running in an EE container, the container typically ships with a JAX-WS implementor. It is highly recommended to use that implementor, primarily to avoid classloading issues, and to further profit from the container&#x2019;s monitoring and authentication facility. Refer to the containers documentation for more information.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jaxws.implementor.configuration"><a class="anchor" href="#jaxws.implementor.configuration"></a>18.2.4. Configure JAX-WS implementor</h4>
       <div class="paragraph">
        <p>JAX-WS Scout integration is prepared to run with different implementors. Unfortunately, some implementors do not implement the JSR exactly, or some important functionality is missing in the JSR. To address this fact without loosing implementor independence, the delegate bean <a href="#JaxWsImplementorSpecifics">JaxWsImplementorSpecifics</a> exists.</p>
       </div>
       <div class="paragraph">
        <p>As of now, Scout ships with three such implementor specific classes, which are activated via <em>config.properties</em> by setting the property <em>scout.jaxws.implementor</em> with its fully qualified class name. By default, <em>JAX-WS METRO</em> implementor is installed.</p>
       </div>
       <div class="paragraph">
        <p>For instance, support for <em>Apache CXF</em> implementor is activated as following:</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="txt">scout.jaxws.implementor=org.eclipse.scout.rt.server.jaxws.implementor.JaxWsCxfSpecifics</code></pre>
        </div>
       </div>
       <table class="tableblock frame-all grid-all stretch">
        <colgroup>
         <col style="width: 30%;">
         <col style="width: 70%;">
        </colgroup>
        <thead>
         <tr>
          <th class="tableblock halign-left valign-top">class</th>
          <th class="tableblock halign-left valign-top">description</th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">JaxWsRISpecifics</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">implementor specifics for <em>JAX-WS Reference Implementation (RI)</em> as contained in JRE</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">JaxWsMetroSpecifics</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">implementor specifics for <em>JAX-WS METRO</em> implementation</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">JaxWsCxfSpecifics</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">implementor specifics for <em>Apache JAX-WS CXF</em> implementation</p></td>
         </tr>
        </tbody>
       </table>
       <div class="paragraph">
        <p>Of course, other implementors can be used as well. For that to work, install your own <em>JaxWsImplementorSpecifics</em> class, and reference its fully qualified name in <em>config.properties</em>.</p>
       </div>
       <div class="sect4">
        <h5 id="JaxWsImplementorSpecifics"><a class="anchor" href="#JaxWsImplementorSpecifics"></a>JaxWsImplementorSpecifics</h5>
        <div class="paragraph">
         <p>This class encapsulates functionality that is defined in JAX-WS JSR 224, but may diverge among JAX-WS implementors. As of now, the following points are addressed:</p>
        </div>
        <div class="ulist">
         <ul>
          <li> <p>missing support in JSR to set socket connect and read timeout;</p> </li>
          <li> <p>proprietary 'property' to set response code in <em>Apache CXF</em>;</p> </li>
          <li> <p>when working with <em>Apache CXF</em>, response header must be set directly onto Servlet Response, and not via <code>MessageContext</code>;</p> </li>
          <li> <p>when working with <em>JAX-WS METRO</em> or <em>JAX-WS RI</em>, the handler&#x2019;s return value is ignored in one-way communication; instead, the chain must be exited by throwing a webservice exception;</p> </li>
         </ul>
        </div>
        <div class="paragraph">
         <p>Learn more about how to configure a JAX-WS implementor: <a href="#jaxws.implementor.configuration">Section 18.2.4</a></p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="jaxws.implementor.dependency"><a class="anchor" href="#jaxws.implementor.dependency"></a>Configure JAX-WS Maven dependency in pom.xml</h5>
        <div class="paragraph">
         <p>The effective dependency to the JAX-WS implementor is to be specified in the pom.xml of the webapp module (not the server module). That allows for running with a different implementor depending on the environment, e.g. to provide the implementor yourself when starting the application from within your IDE in Jetty, or to use the container&#x2019;s implementor when deploying to an EE enabled application server. Even if providing the very same implementor for all environments yourself, it is good practice to do the configuration in the webapp module.</p>
        </div>
        <div class="paragraph">
         <p>A generally applicable configuration cannot be given, because the effective configuration depends on the implementor you choose, and whether it is already shipped with the application server you use. However, if <em>JAX-WS RI</em> is sufficient, you do not have to specify an implementor at all because already contained in JRE.</p>
        </div>
        <div class="paragraph">
         <p>If running in an EE application server, refer to the containers documentation for more information.</p>
        </div>
        <div class="paragraph">
         <p><a href="#lst-maven.dep.metro">Listing 110</a> provides sample configuration for shipping with <em>JAX_WS METRO</em> and <a href="#lst-maven.dep.cxf">Listing 111</a> does the same for <em>Apache CXF</em></p>
        </div>
        <div id="lst-maven.dep.metro" class="listingblock">
         <div class="title">
          Listing 110. Maven dependency for
          <em>JAX-WS METRO</em>
         </div>
         <div class="content">
          <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- JAX-WS METRO not bundled with JRE --&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>com.sun.xml.ws<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>jaxws-rt<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>...<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
         </div>
        </div>
        <div id="lst-maven.dep.cxf" class="listingblock">
         <div class="title">
          Listing 111. Maven dependency for
          <em>Apache CXF</em>
         </div>
         <div class="content">
          <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- JAX-WS Apache CXF --&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>cxf-rt-frontend-jaxws<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>...<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>cxf-rt-transports-http<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>...<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>org.springframework<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>spring-web<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>...<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
         </div>
        </div>
       </div>
       <div class="sect4">
        <h5 id="configure-jax-ws-servlet-in-web-xml"><a class="anchor" href="#configure-jax-ws-servlet-in-web-xml"></a>Configure JAX-WS servlet in web.xml</h5>
        <div class="paragraph">
         <p>This section describes the configuration of the entry point Servlet to publish webservices. If working with webservice consumers only, no configuration is required.</p>
        </div>
        <div class="paragraph">
         <p>Similar to the pom.xml as described in <a href="#jaxws.implementor.dependency">Section 18.2.4.2</a>, the <em>web.xml</em> differs from implementor to implementor, and whether the implementor is already shipped with the application server. Nevertheless, the following <a href="#lst-jaxws.webxml.metro">Listing 112</a> show a sample configuration for <em>JAX-WS METRO</em> and <a href="#lst-jaxws.webxml.cxf">Listing 113</a> for <em>Apache CXF</em>.</p>
        </div>
        <div id="lst-jaxws.webxml.metro" class="listingblock">
         <div class="title">
          Listing 112. web.xml for
          <em>JAX-WS METRO</em> Servlet
         </div>
         <div class="content">
          <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- JAX-WS METRO not bundled with JRE --&gt;</span>
<span class="tag">&lt;context-param&gt;</span>
  <span class="tag">&lt;param-name&gt;</span>com.sun.xml.ws.server.http.publishStatusPage<span class="tag">&lt;/param-name&gt;</span>
  <span class="tag">&lt;param-value&gt;</span>true<span class="tag">&lt;/param-value&gt;</span>
<span class="tag">&lt;/context-param&gt;</span>
<span class="tag">&lt;context-param&gt;</span>
  <span class="tag">&lt;param-name&gt;</span>com.sun.xml.ws.server.http.publishWSDL<span class="tag">&lt;/param-name&gt;</span>
  <span class="tag">&lt;param-value&gt;</span>true<span class="tag">&lt;/param-value&gt;</span>
<span class="tag">&lt;/context-param&gt;</span>
<span class="tag">&lt;listener&gt;</span>
  <span class="tag">&lt;listener-class&gt;</span>com.sun.xml.ws.transport.http.servlet.WSServletContextListener<span class="tag">&lt;/listener-class&gt;</span>
<span class="tag">&lt;/listener&gt;</span>
<span class="tag">&lt;servlet&gt;</span>
  <span class="tag">&lt;servlet-name&gt;</span>jaxws<span class="tag">&lt;/servlet-name&gt;</span>
  <span class="tag">&lt;servlet-class&gt;</span>com.sun.xml.ws.transport.http.servlet.WSServlet<span class="tag">&lt;/servlet-class&gt;</span>
<span class="tag">&lt;/servlet&gt;</span>
<span class="tag">&lt;servlet-mapping&gt;</span>
  <span class="tag">&lt;servlet-name&gt;</span>jaxws<span class="tag">&lt;/servlet-name&gt;</span>
  <span class="tag">&lt;url-pattern&gt;</span>/jaxws/*<span class="tag">&lt;/url-pattern&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tag">&lt;/servlet-mapping&gt;</span></code></pre>
         </div>
        </div>
        <div class="colist arabic">
         <table>
          <tbody>
           <tr>
            <td><i class="conum" data-value="1"></i><b>1</b></td>
            <td>the base URL where to publish the webservice endpoints</td>
           </tr>
          </tbody>
         </table>
        </div>
        <div id="lst-jaxws.webxml.cxf" class="listingblock">
         <div class="title">
          Listing 113. web.xml for
          <em>Apache CXF</em> Servlet
         </div>
         <div class="content">
          <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- JAX-WS Apache CXF --&gt;</span>
<span class="tag">&lt;servlet&gt;</span>
  <span class="tag">&lt;display-name&gt;</span>CXF Servlet<span class="tag">&lt;/display-name&gt;</span>
  <span class="tag">&lt;servlet-name&gt;</span>jaxws<span class="tag">&lt;/servlet-name&gt;</span>
  <span class="tag">&lt;servlet-class&gt;</span>org.apache.cxf.transport.servlet.CXFServlet<span class="tag">&lt;/servlet-class&gt;</span>
  <span class="tag">&lt;init-param&gt;</span>
    <span class="tag">&lt;param-name&gt;</span>config-location<span class="tag">&lt;/param-name&gt;</span>
    <span class="tag">&lt;param-value&gt;</span>/WEB-INF/cxf-jaxws.xml<span class="tag">&lt;/param-value&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tag">&lt;/init-param&gt;</span>
  <span class="tag">&lt;load-on-startup&gt;</span>1<span class="tag">&lt;/load-on-startup&gt;</span>
<span class="tag">&lt;/servlet&gt;</span>
<span class="tag">&lt;servlet-mapping&gt;</span>
  <span class="tag">&lt;servlet-name&gt;</span>jaxws<span class="tag">&lt;/servlet-name&gt;</span>
  <span class="tag">&lt;url-pattern&gt;</span>/jaxws/*<span class="tag">&lt;/url-pattern&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tag">&lt;/servlet-mapping&gt;</span></code></pre>
         </div>
        </div>
        <div class="colist arabic">
         <table>
          <tbody>
           <tr>
            <td><i class="conum" data-value="1"></i><b>1</b></td>
            <td><em>Apache CXF</em> specific configuration file for endpoints to be published. See <a href="#jaxws.registration.endpoints.cxf">Section 18.5.8.2</a> for more information.</td>
           </tr>
           <tr>
            <td><i class="conum" data-value="2"></i><b>2</b></td>
            <td>the base URL where to publish the webservice endpoints</td>
           </tr>
          </tbody>
         </table>
        </div>
        <div class="paragraph">
         <p>But, if running in an EE container, it is most likely that a Servlet configuration must not be configured, because the endpoints are discovered by the application server, or registered in a vendor specific way. Refer to the containers documentation for more information.</p>
        </div>
        <div class="admonitionblock tip">
         <table>
          <tbody>
           <tr>
            <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
            <td class="content"> Some application servers like Oracle WebLogic Server (WLS) allow the port types to be registered as a Servlet in web.xml. However, this is vendor specific, and works despite the fact that port type does not implement 'javax.servlet.Servlet'. </td>
           </tr>
          </tbody>
         </table>
        </div>
        <div class="admonitionblock warning">
         <table>
          <tbody>
           <tr>
            <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td>
            <td class="content"> Do not forget to exclude the webservice&#x2019;s Servlet URL pattern from authentication filter. </td>
           </tr>
          </tbody>
         </table>
        </div>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="jaxws.modularization"><a class="anchor" href="#jaxws.modularization"></a>18.3. Modularization</h3>
      <div class="paragraph">
       <p>Scout JAX-WS integration does not prescribe how to organize your webservices in terms of Maven modules. You could either put all your webservices directly into the server module, or create a separate <em>jaxws</em> module containing all webservices, or even create a separate <em>jaxws</em> module for each webservice. Most often, the second approach of a single, separate <em>jaxws</em> module, which the server module depends on, is chosen.</p>
      </div>
      <div class="paragraph">
       <p>This is mainly because of the following benefits:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>annotation processing must not be enabled for the entire server module</p> </li>
        <li> <p>one module to build all webservice artifacts at once</p> </li>
        <li> <p>easier to work with shared element types among webservices</p> </li>
       </ul>
      </div>
      <div class="imageblock">
       <div class="content">
        <img src="images/jaxws_modularization.png" alt="jaxws modularization">
       </div>
       <div class="title">
        Figure 14. typical modularization
       </div>
      </div>
      <div class="paragraph">
       <p>It is important to note, that the <em>server</em> depends on the <em>jaxws</em> module, and not vice versa. The <em>jaxws</em> module is primarily of technical nature, meaning that it knows how to generate its WS artifacts, and also contains those. However, implementing port type beans and even implementing handler beans are typically put into the server module to the access service and database layer. On the other hand, WS clients may be put into <em>jaxws</em> module, because they rarely contain any project specific business logic.</p>
      </div>
      <div class="paragraph">
       <p>You may ask yourself, how the <em>jaxws</em> module can access the implementing port type and handlers located in the <em>server</em> module. That works because of the indirection via bean manager, and because there is a flat classpath at runtime.</p>
      </div>
      <div class="paragraph">
       <p>See <a href="#WebServiceEntryPoint">WebServiceEntryPoint</a> for more information.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="build-webservice-stubs-and-artifacts"><a class="anchor" href="#build-webservice-stubs-and-artifacts"></a>18.4. Build webservice stubs and artifacts</h3>
      <div class="sect3">
       <h4 id="jaxws.stub.generation"><a class="anchor" href="#jaxws.stub.generation"></a>18.4.1. Configure webservice stub generation via wsimport</h4>
       <div class="paragraph">
        <p>The Maven plugin 'com.helger.maven:jaxws-maven-plugin' with the goal 'wsimport' is used to generate a webservice stub from a WSDL file and its referenced XSD schema files. If your Maven module inherits from the Scout module 'maven_rt_plugin_config-master', the 'jaxws' profile is available, which activates automatically upon the presence of a 'WEB-INF/wsdl' folder. Instead of inheriting from that module, you can alternatively copy the 'jaxws' profile into your projects parent POM module.</p>
       </div>
       <div class="paragraph">
        <p>This profile is for convenience purpose, and provides a ready-to-go configuration to generate webservice stubs and webservice provider artifacts. It configures the 'jaxws-maven-plugin' to look for WSDL and XSD files in the folder 'src/main/resources/WEB-INF/wsdl', and for binding files in the folder '/src/main/resources/WEB-INF/binding'. Upon generation, the stub will be put into the folder 'target/generated-sources/wsimport'.</p>
       </div>
       <div class="paragraph">
        <p>The profiles requires the Scout runtime version to be specified, and which is used to refer to <code>org.eclipse.scout.jaxws.apt</code> module to generate webservice provider artifacts. However, this version is typically defined in pom.xml of the parent module, because also used to refer to other Scout runtime artifacts.</p>
       </div>
       <div id="lst-jaxws.pom.scoutversion" class="listingblock">
        <div class="title">
         Listing 114. Scout version defined as Maven property
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
  <span class="tag">&lt;org.eclipse.scout.rt.version&gt;</span>5.2.0-SNAPSHOT<span class="tag">&lt;/org.eclipse.scout.rt.version&gt;</span>
<span class="tag">&lt;/properties&gt;</span></code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>If your project design envisions a separate JAR module per WSDL, you simply have to set the property 'jaxws.wsdl.file' with the name of your WSDL file in the module&#x2019;s pom.xml (example in <a href="#lst-jaxws.pom.single-wsdl-file">Listing 115</a>).</p>
       </div>
       <div id="lst-jaxws.pom.single-wsdl-file" class="listingblock">
        <div class="title">
         Listing 115. wsimport configuration in pom.xml if working with a single WSDL file per JAR module
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
  <span class="tag">&lt;jaxws.wsdl.file&gt;</span>YourWebService.wsdl<span class="tag">&lt;/jaxws.wsdl.file&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tag">&lt;/properties&gt;</span></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>name of the wsdl file</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>Otherwise, if having multiple WSDL files in your JAR module, some little more configuration is required, namely a respective execution section per WSDL file. Thereby, the 'id' of the execution section must be unique. Scout 'jaxws' profile already provides one such section, which is used to generate the stub for a single WSDL file (see such configuration in <a href="#lst-jaxws.pom.single-wsdl-file">Listing 115</a>), and names it 'wsimport-1'. It is simplest to name the subsequent execution sections 'wsimport-2', 'wsimport-3', and so on.<br> For each execution section, you must configure its unique <em>id</em>, the <em>goal</em> 'wsimport', and in the configuration section the respective <em>wsdlLocation</em> and <em>wsdlFile</em>. For 'wsimport' to work, <em>wsdlLocation</em> is not required. However, that location will be referenced in generated artifacts to set the wsdl location via <code>@WebService</code> and <code>@WebServiceClient</code>. The complete configuration is presented in <a href="#lst-jaxws.pom.multiple-wsdl">Listing 116</a>.</p>
       </div>
       <div class="admonitionblock warning">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td>
           <td class="content"> If you decide to configure multiple WSDL files in your POM as described in <a href="#lst-jaxws.pom.multiple-wsdl">Listing 116</a>, the configuration defined in the parent POM (<code>maven_rt_plugin_config-master</code>) and expecting a configuration as presented in <a href="#lst-jaxws.pom.single-wsdl-file">Listing 115</a> needs to be overridden, therefore one of your execution id needs to be <code>wsimport-1</code>. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div id="lst-jaxws.pom.multiple-wsdl" class="listingblock">
        <div class="title">
         Listing 116. wsimport configuration in pom.xml if working with multiple WSDL files per JAR module
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;build&gt;</span>
  <span class="tag">&lt;plugins&gt;</span>
    <span class="tag">&lt;plugin&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>com.helger.maven<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>jaxws-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
      <span class="tag">&lt;executions&gt;</span>
        <span class="comment">&lt;!-- YourFirstWebService.wsdl --&gt;</span>
        <span class="tag">&lt;execution&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
          <span class="comment">&lt;!-- DO NOT CHANGE THE ID: 'wsimport-1'; it overrides an execution defined in the parent pom --&gt;</span>
          <span class="tag">&lt;id&gt;</span>wsimport-1<span class="tag">&lt;/id&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
          <span class="tag">&lt;goals&gt;</span>
            <span class="tag">&lt;goal&gt;</span>wsimport<span class="tag">&lt;/goal&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
          <span class="tag">&lt;/goals&gt;</span>
          <span class="tag">&lt;configuration&gt;</span>
            <span class="tag">&lt;wsdlLocation&gt;</span>WEB-INF/wsdl/YourFirstWebService.wsdl<span class="tag">&lt;/wsdlLocation&gt;</span> <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="tag">&lt;wsdlFiles&gt;</span>
              <span class="tag">&lt;wsdlFile&gt;</span>YourFirstWebService.wsdl<span class="tag">&lt;/wsdlFile&gt;</span> <i class="conum" data-value="5"></i><b>(5)</b>
            <span class="tag">&lt;/wsdlFiles&gt;</span>
          <span class="tag">&lt;/configuration&gt;</span>
        <span class="tag">&lt;/execution&gt;</span>
        <span class="comment">&lt;!-- YourSecondWebService.wsdl --&gt;</span>
        <span class="tag">&lt;execution&gt;</span> <i class="conum" data-value="6"></i><b>(6)</b>
          <span class="tag">&lt;id&gt;</span>wsimport-2<span class="tag">&lt;/id&gt;</span>
          <span class="tag">&lt;goals&gt;</span>
            <span class="tag">&lt;goal&gt;</span>wsimport<span class="tag">&lt;/goal&gt;</span>
          <span class="tag">&lt;/goals&gt;</span>
          <span class="tag">&lt;configuration&gt;</span>
            <span class="tag">&lt;wsdlLocation&gt;</span>WEB-INF/wsdl/YourSecondWebService.wsdl<span class="tag">&lt;/wsdlLocation&gt;</span>
            <span class="tag">&lt;wsdlFiles&gt;</span>
              <span class="tag">&lt;wsdlFile&gt;</span>YourSecondWebService.wsdl<span class="tag">&lt;/wsdlFile&gt;</span>
            <span class="tag">&lt;/wsdlFiles&gt;</span>
          <span class="tag">&lt;/configuration&gt;</span>
        <span class="tag">&lt;/execution&gt;</span>
        ...
      <span class="tag">&lt;/executions&gt;</span>
    <span class="tag">&lt;/plugin&gt;</span>
  <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>declare an execution section for each WSDL file</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>give the section a unique id (wsimport-1, wsimport-2, wsimport-3, &#x2026;&#x200b;)</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="3"></i><b>3</b></td>
           <td>specify the goal 'wsimport' to build the webservice stub</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="4"></i><b>4</b></td>
           <td>specify the project relative path to the WSDL file</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="5"></i><b>5</b></td>
           <td>specify the relative path to the WSDL file (relative to 'WEB-INF/wsdl')</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="6"></i><b>6</b></td>
           <td>declare an execution section for the next WSDL file</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>Further, you can overwrite any configuration as defined by 'jaxws-maven-plugin'. See <a href="http://www.mojohaus.org/jaxws-maven-plugin/" class="bare">http://www.mojohaus.org/jaxws-maven-plugin/</a> for supported configuration properties.</p>
       </div>
       <div class="paragraph">
        <p>Also, it is good practice to create a separate folder for each WSDL file, which also contains all its referenced XSD schemas. Then, do not forget to change the properties <em>wsdlLocation</em> and <em>wsdlFile</em> accordingly.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="customize-wsdl-components-and-xsd-schema-elements-via-binding-files"><a class="anchor" href="#customize-wsdl-components-and-xsd-schema-elements-via-binding-files"></a>18.4.2. Customize WSDL components and XSD schema elements via binding files</h4>
       <div class="paragraph">
        <p>By default, all XML files contained in folder 'WEB-INF/binding' are used as binding files. But, most often, you will have a global binding file, which applies to all your WSDL files, and some custom binding files different per WSDL file and XSD schema files. See how to explicitly configure binding files in <a href="#lst-jaxws.pom.multiple-binding">Listing 117</a>.</p>
       </div>
       <div id="lst-jaxws.pom.multiple-binding" class="listingblock">
        <div class="title">
         Listing 117. explicit configuration of binding files
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- YourFirstWebService.wsdl --&gt;</span>
<span class="tag">&lt;execution&gt;</span>
  ...
  <span class="tag">&lt;configuration&gt;</span>
    ...
    <span class="tag">&lt;bindingFiles&gt;</span>
      <span class="tag">&lt;bindingFile&gt;</span>global-bindings.xml<span class="tag">&lt;/bindingFile&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="tag">&lt;bindingFile&gt;</span>your-first-webservice-ws-bindings.xml<span class="tag">&lt;/bindingFile&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="tag">&lt;bindingFile&gt;</span>your-first-webservice-xs-bindings.xml<span class="tag">&lt;/bindingFile&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tag">&lt;/bindingFiles&gt;</span>
  <span class="tag">&lt;/configuration&gt;</span>
<span class="tag">&lt;/execution&gt;</span>
<span class="comment">&lt;!-- YourSecondWebService.wsdl --&gt;</span>
<span class="tag">&lt;execution&gt;</span>
  ...
  <span class="tag">&lt;configuration&gt;</span>
    ...
    <span class="tag">&lt;bindingFiles&gt;</span>
      <span class="tag">&lt;bindingFile&gt;</span>global-bindings.xml<span class="tag">&lt;/bindingFile&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="tag">&lt;bindingFile&gt;</span>your-second-webservice-ws-bindings.xml<span class="tag">&lt;/bindingFile&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="tag">&lt;bindingFile&gt;</span>your-second-webservice-xs-bindings.xml<span class="tag">&lt;/bindingFile&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tag">&lt;/bindingFiles&gt;</span>
  <span class="tag">&lt;/configuration&gt;</span>
<span class="tag">&lt;/execution&gt;</span></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>global binding file which applies to all XSD schema elements. See <a href="#lst-jaxws.example.globalbindingfile">Listing 118</a> for an example.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>custom binding file to customize the webservice&#x2019;s WSDL components in the namespace <em><a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a></em>. See <a href="#lst-jaxws.bindingfile.ws">Listing 119</a> for an example.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="3"></i><b>3</b></td>
           <td>custom binding file to customize the webservice&#x2019;s XSD schema elements in the namespace <em><a href="http://java.sun.com/xml/ns/jaxb" class="bare">http://java.sun.com/xml/ns/jaxb</a></em>. See <a href="#lst-jaxws.bindingfile.xs">Listing 120</a> for an example.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>With binding files in place, you can customize almost every WSDL component and XSD element that can be mapped to Java, such as the service endpoint interface class, packages, method name, parameter name, exception class, etc.</p>
       </div>
       <div class="paragraph">
        <p>The global binding file typically contains some customization for common data types like <em>java.util.Date</em> or <em>java.util.Calendar</em>, whereas the custom binding files are specific for a WSDL or XSD schema. See <a href="#jaxws.xmladapters">Section 18.7</a>.</p>
       </div>
       <div id="lst-jaxws.example.globalbindingfile" class="listingblock">
        <div class="title">
         Listing 118. example of global binding file in the namespace
         <a href="http://java.sun.com/xml/ns/jaxb" class="bare">http://java.sun.com/xml/ns/jaxb</a>
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;bindings</span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">"</span><span class="content">2.0</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://java.sun.com/xml/ns/jaxb</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xmlns:xsd</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xmlns:xjc</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://java.sun.com/xml/ns/jaxb/xjc</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;globalBindings&gt;</span>
    <span class="tag">&lt;xjc:javaType</span>
      <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">java.util.Date</span><span class="delimiter">"</span></span>
      <span class="attribute-name">xmlType</span>=<span class="string"><span class="delimiter">"</span><span class="content">xsd:date</span><span class="delimiter">"</span></span>
      <span class="attribute-name">adapter</span>=<span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.rt.server.jaxws.adapter.UtcDateAdapter</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;xjc:javaType</span>
      <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">java.util.Date</span><span class="delimiter">"</span></span>
      <span class="attribute-name">xmlType</span>=<span class="string"><span class="delimiter">"</span><span class="content">xsd:time</span><span class="delimiter">"</span></span>
      <span class="attribute-name">adapter</span>=<span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.rt.server.jaxws.adapter.UtcTimeAdapter</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;xjc:javaType</span>
      <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">java.util.Date</span><span class="delimiter">"</span></span>
      <span class="attribute-name">xmlType</span>=<span class="string"><span class="delimiter">"</span><span class="content">xsd:dateTime</span><span class="delimiter">"</span></span>
      <span class="attribute-name">adapter</span>=<span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.rt.server.jaxws.adapter.UtcDateTimeAdapter</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;/globalBindings&gt;</span>
<span class="tag">&lt;/bindings&gt;</span></code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>By default, generated artifacts are put into the package corresponding to the element&#x2019;s namespace. Sometimes, you like to control the package names, but you want to do that on a per-namespace basis, and not put all the artifacts of a webservice into the very same package. That is mainly to omit collisions, and to have artifacts shared among webservices not duplicated.</p>
       </div>
       <div class="paragraph">
        <p>Two separate binding files are required to customize WSDL components and XSD schema elements.<br> That is because WSDL component customization is to be done in 'jaxws' namespace <a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a>, whereas XSD schema element customization in 'jaxb' namespace <a href="http://java.sun.com/xml/ns/jaxb" class="bare">http://java.sun.com/xml/ns/jaxb</a>.</p>
       </div>
       <div id="lst-jaxws.bindingfile.ws" class="listingblock">
        <div class="title">
         Listing 119. example of jaxws component customization in the namespace
         <a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a>
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- binding to customize webservice components (xmlns=http://java.sun.com/xml/ns/jaxws) --&gt;</span>
<span class="tag">&lt;bindings</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://java.sun.com/xml/ns/jaxws</span><span class="delimiter">"</span></span><span class="tag">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tag">&lt;package</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.ws.yourfirstwebservice</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tag">&lt;/bindings&gt;</span></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>customization via jaxws namespace: <a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a></td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>instructs to put all webservice components (port type, service) into package <em>org.eclipse.ws.yourfirstwebservice</em></td>
          </tr>
         </tbody>
        </table>
       </div>
       <div id="lst-jaxws.bindingfile.xs" class="listingblock">
        <div class="title">
         Listing 120. example of xsd schema element customization in the namespace
         <a href="http://java.sun.com/xml/ns/jaxb" class="bare">http://java.sun.com/xml/ns/jaxb</a>
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- binding to customize xsd schema elements (xmlns=http://java.sun.com/xml/ns/jaxb) --&gt;</span>
<span class="tag">&lt;bindings</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://java.sun.com/xml/ns/jaxb</span><span class="delimiter">"</span></span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">"</span><span class="content">2.1</span><span class="delimiter">"</span></span><span class="tag">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="comment">&lt;!-- namespace http://eclipse.org/public/services/ws/soap --&gt;</span>
  <span class="tag">&lt;bindings</span> <span class="attribute-name">scd</span>=<span class="string"><span class="delimiter">"</span><span class="content">x-schema::tns</span><span class="delimiter">"</span></span> <span class="attribute-name">xmlns:tns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://eclipse.org/public/services/ws/soap</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;schemaBindings&gt;</span>
      <span class="tag">&lt;package</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.ws.yourfirstwebservice</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tag">&lt;/schemaBindings&gt;</span>
  <span class="tag">&lt;/bindings&gt;</span>
  <span class="comment">&lt;!-- namespace http://eclipse.org/public/services/ws/common/soap --&gt;</span>
  <span class="tag">&lt;bindings</span> <span class="attribute-name">scd</span>=<span class="string"><span class="delimiter">"</span><span class="content">x-schema::tns</span><span class="delimiter">"</span></span> <span class="attribute-name">xmlns:tns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://eclipse.org/public/services/ws/common/soap</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;schemaBindings&gt;</span>
      <span class="tag">&lt;package</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.ws.common</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tag">&lt;/schemaBindings&gt;</span>
  <span class="tag">&lt;/bindings&gt;</span>
<span class="tag">&lt;/bindings&gt;</span></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>customization via jaxb namespace: <a href="http://java.sun.com/xml/ns/jaxb" class="bare">http://java.sun.com/xml/ns/jaxb</a></td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>instructs to put all XSD schema elements in namespace <em><a href="http://eclipse.org/public/services/ws/soap" class="bare">http://eclipse.org/public/services/ws/soap</a></em> into package <em>org.eclipse.ws.yourfirstwebservice</em></td>
          </tr>
          <tr>
           <td><i class="conum" data-value="3"></i><b>3</b></td>
           <td>instructs to put all XSD schema elements in namespace <em><a href="http://eclipse.org/public/services/ws/common/soap" class="bare">http://eclipse.org/public/services/ws/common/soap</a></em> into package <em>org.eclipse.ws.common</em></td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="admonitionblock warning">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td>
           <td class="content"> <em>wsimport</em> allows to directly configure the package name for files to be generated (packageName). However, this is discouraged, because all artifacts are put into the very same package. Use package customization on a per-namespace basis instead. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> For shared webservice artifacts, you can also use XJC binding compiler to generate those artifacts in advance, and then provide the resulting episode binding file (META-INF/sun-jaxb.episode) to <em>wsimport</em>. See <a href="http://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.2/xjc-mojo.html" class="bare">http://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.2/xjc-mojo.html</a> for more information. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="annotation-processing-tool-apt"><a class="anchor" href="#annotation-processing-tool-apt"></a>18.4.3. Annotation Processing Tool (APT)</h4>
       <div class="paragraph">
        <p>Annotation Processing (APT) is a tool which can be enabled to fire for annotated types during compilation. In JAX-WS Scout integration, it is used as a trigger to generate webservice port type implementations. Such an auto-generated port type implementation is called an entry point. It is to be published as the webservice&#x2019;s endpoint, and acts as an interceptor for webservice requests. It optionally enforces for authentication, and makes the request to be executed in a <a href="#runcontext">RunContext</a>. Then, it handles the web request to the effectively implementing port type bean for actual processing.</p>
       </div>
       <div class="paragraph">
        <p>The entry point generated simplifies the actual port type implementation by removing lot of glue code to be written by hand otherwise. Of course, this entry point is just for convenience purpose, and it is up to you to make use of this artifact.</p>
       </div>
       <div class="paragraph">
        <p>When using 'jaxws' Scout Maven profile, annotation processing is enabled for that module by default. But, an entry point for a webservice port type will only be generated if enabled for that port type, meaning that a class annotated with <a href="#WebServiceEntryPoint">WebServiceEntryPoint</a> pointing to that very endpoint interface is found in this module. Anyway, for a sole webservice consumer, it makes no sense to generate an entry point at all.</p>
       </div>
       <div class="sect4">
        <h5 id="enable-annotation-processing-tool-apt-in-eclipse-ide"><a class="anchor" href="#enable-annotation-processing-tool-apt-in-eclipse-ide"></a>Enable Annotation Processing Tool (APT) in Eclipse IDE</h5>
        <div class="paragraph">
         <p>In Eclipse IDE, the workspace build ignores annotation processing as configured in pom.xml. Instead, it must be enabled separately with the following files. Nevertheless, to simply run Maven build with annotation support from within Eclipse IDE, those files are not required.</p>
        </div>
        <table class="tableblock frame-all grid-all stretch">
         <colgroup>
          <col style="width: 40%;">
          <col style="width: 60%;">
         </colgroup>
         <thead>
          <tr>
           <th class="tableblock halign-left valign-top">file</th>
           <th class="tableblock halign-left valign-top">description</th>
          </tr>
         </thead>
         <tbody>
          <tr>
           <td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#settings_org.eclipse.jdt.core.prefs">.settings/org.eclipse.jdt.core.prefs</a></p></td>
           <td class="tableblock halign-left valign-top"><p class="tableblock">Enables APT for this module via the property <em>org.eclipse.jdt.core.compiler.processAnnotations=enabled</em></p></td>
          </tr>
          <tr>
           <td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#settings_org.eclipse.jdt.apt.core.prefs">.settings/org.eclipse.jdt.apt.core.prefs</a></p></td>
           <td class="tableblock halign-left valign-top"><p class="tableblock">Enables APT for this module via the property <em>org.eclipse.jdt.apt.aptEnabled=true</em></p></td>
          </tr>
          <tr>
           <td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#factorypath">.factorypath</a></p></td>
           <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the annotation processor to be used (<a href="#jaxwsannotationprocessor">JaxWsAnnotationProcessor</a>) and dependent artifacts</p></td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="generate_artifacts_from_console"><a class="anchor" href="#generate_artifacts_from_console"></a>18.4.4. Build webservice stubs and APT artifacts from console</h4>
       <div class="paragraph">
        <p>Simply run <em>mvn clean compile</em> on the project. If you are experiencing some problems, run with -X debug flag to get a more detailed error message.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="generate_artifacts_from_eclipse"><a class="anchor" href="#generate_artifacts_from_eclipse"></a>18.4.5. Build webservice stubs and APT artifacts from within Eclipse IDE</h4>
       <div class="paragraph">
        <p>In the Eclipse IDE, there are three ways to generate webservice stubs and APT artifacts.</p>
       </div>
       <div class="olist arabic">
        <ol class="arabic">
         <li> <p>the implicit way on behalf of the workspace build and m2e integration (automatically, but sometimes not reliable)</p> </li>
         <li> <p>the explicit but potentially slow way by doing a 'Update Maven Project' with 'clean projects' checked (Alt+F5)</p> </li>
         <li> <p>the explicit and faster way by running a Maven build for that project. Thereto, right-click on the project or pom.xml, then select the menu 'Run As | Maven build&#x2026;&#x200b;', then choose 'clean compile' as its goal and check 'Resolve workspace artifacts', and finally click 'Run'. Afterwards, do not forget to refresh the project by pressing F5.</p> </li>
        </ol>
       </div>
       <div class="paragraph">
        <p>If the webservice stub(s) or APT artifacts are not generated (anew or at all), delete the target folder manually, and continue according to procedure number three. A possible reason might be the presence of 'target\jaxws\wsartifact-hash'. Then, for each webservice, a 'hash file' is computed by 'wsimport', so that regeneration only occurs upon a change of WSDL or XSD files.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="exclude-derived-resources-from-version-control"><a class="anchor" href="#exclude-derived-resources-from-version-control"></a>18.4.6. Exclude derived resources from version control</h4>
       <div class="paragraph">
        <p>Stub and APT artifacts are derived resources, and should be excluded from version control. When working with Eclipse IDE, this is done automatically by eGit, because it adds derived resources to <em>.gitignore</em> (if configured to do so).</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jaxwsannotationprocessor"><a class="anchor" href="#jaxwsannotationprocessor"></a>18.4.7. JaxWsAnnotationProcessor</h4>
       <div class="paragraph">
        <p><code>JaxWsAnnotationProcessor</code> is an annotation processor provided by Scout JAX-WS integration to generate an entry point for an endpoint interface during compilation. The instructions how to generate the entry point is given via a Java class or Java interface annotated with <a href="#WebServiceEntryPoint">WebServiceEntryPoint</a> annotation.</p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="provide-a-webservice"><a class="anchor" href="#provide-a-webservice"></a>18.5. Provide a webservice</h3>
      <div class="paragraph">
       <p>In this chapter, you will learn how to publish a webservice provider via an entry point.</p>
      </div>
      <div class="sect3">
       <h4 id="WebServiceEntryPoint"><a class="anchor" href="#WebServiceEntryPoint"></a>18.5.1. The concept of an Entry Point</h4>
       <div class="paragraph">
        <p>An entry point implements the endpoint interface (or port type interface), and is published as the webservice endpoint for that endpoint interface. The entry point itself is auto generated by <a href="#jaxwsannotationprocessor">JaxWsAnnotationProcessor</a> during compile time, based on instructions as given by the respective class/interface annotated with <code>WebServiceEntryPoint</code> annotation. The entry point is responsible to enforce authentication and to run the web request in a <code>RunContext</code>. In turn, the request is propagated to the bean implementing the endpoint interface.</p>
       </div>
       <div class="paragraph">
        <p><a href="#img-interaction_entrypoint_porttype">Figure 15</a> illustrates the endpoint&#x2019;s class hierarchy and the message flow for a web request.</p>
       </div>
       <div id="img-interaction_entrypoint_porttype" class="imageblock">
        <div class="content">
         <img src="images/jaxws_interaction_entrypoint_porttype.png" alt="jaxws interaction entrypoint porttype">
        </div>
        <div class="title">
         Figure 15. Interaction of entry point and port type
        </div>
       </div>
       <div class="paragraph">
        <p>As you can see, both, entry point and port type implement the endpoint interface. But it is the entry point which is actually installed as the webservice endpoint, and which receives web requests. However, the webservice itself is implemented in the implementing bean, which typically is located in <em>server</em> module. See <a href="#jaxws.modularization">Section 18.3</a> for more information. Upon a web request, the entry point simply intercepts the web request, and then invokes the web method on the implementing bean for further processing.</p>
       </div>
       <div class="paragraph">
        <p>See an <a href="#PingWebServicePortTypeBean.java">example</a> of an implementing port type bean, which is invoked by entry point.</p>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> Do not forget to annotate the implementing bean with <code>ApplicationScoped</code> annotation in order to be found by bean manager. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="generate-an-entry-point-as-an-endpoint-interface"><a class="anchor" href="#generate-an-entry-point-as-an-endpoint-interface"></a>18.5.2. Generate an Entry Point as an endpoint interface</h4>
       <div class="paragraph">
        <p>This section describes the steps required to generate an entry point. For demonstration purposes, a simple ping webservice is used, which provides a single method 'ping' to accept and return a <code>String</code> object.</p>
       </div>
       <div class="paragraph">
        <p>See the WSDL file of ping webservice: <a href="#PingWebService.wsdl">Section 18.8.1</a><br> See the endpoint interface of ping webservice: <a href="#PingWebServicePortType.java">Section 18.8.2</a></p>
       </div>
       <div class="paragraph">
        <p>To generate an entry point for the webservice&#x2019;s endpoint interface, create an interface as following in your jaxws project.</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@WebServiceEntryPoint</span>(endpointInterface = PingWebServicePortType.class) <i class="conum" data-value="2"></i><b>(2)</b>
<span class="type">interface</span> <span class="class">PingWebServiceEntryPointDefinition</span> { <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Create an interface or class to act as an anchor for the <code>WebServiceEntryPoint</code> annotation. This class or interface has no special meaning, except that it declares the annotation to be interpreted by annotation processor.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Reference the endpoint interface for which an entry point should be generated for. Typically, the endpoint interface is generated by 'wsimport' and is annotated with <code>WebService</code> annotation.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>It is important to understand, that the interface <code>PingWebServiceEntryPointDefinition</code> solely acts as the anchor for the <code>WebServiceEntryPoint</code> annotation. This class or interface has no special meaning, except that it declares the annotation to be interpreted by annotation processor. Typically, this class is called <em>Entry Point Definition</em>.</p>
       </div>
       <div class="paragraph">
        <p>If running <code>mvn clean compile</code>, an entry point is generated for that endpoint interface. See the entry point as generated for ping webservice: <a href="#PingWebServicePortTypeEntryPoint.java">Section 18.8.3</a></p>
       </div>
       <div class="paragraph">
        <p>If you should experience some problems in the entry point generation, refer to <a href="#generate_artifacts_from_eclipse">Build webservice stubs and APT artifacts from within Eclipse IDE</a>, or <a href="#generate_artifacts_from_console">Build webservice stubs and APT artifacts from console</a>.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="instrument-the-entry-point-generation"><a class="anchor" href="#instrument-the-entry-point-generation"></a>18.5.3. Instrument the Entry Point generation</h4>
       <div class="paragraph">
        <p>This section gives an overview on how to configure the entry point to be generated.</p>
       </div>
       <table class="tableblock frame-all grid-all stretch">
        <colgroup>
         <col style="width: 30%;">
         <col style="width: 70%;">
        </colgroup>
        <thead>
         <tr>
          <th class="tableblock halign-left valign-top">attribute</th>
          <th class="tableblock halign-left valign-top">description</th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>endpointInterface</strong><br> (<em>mandatory</em>)</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the endpoint interface for which to generate an entry point for.<br> An endpoint interface defines the service&#x2019;s abstract webservice contract, and is also known as port type interface. Also, the endpoint interface is annotated with WebService annotation.</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">entryPointName</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the class name of the entry point generated. If not set, the name is like the name of the endpoint interface suffixed with EntryPoint.</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">entryPointPackage</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the package name of the entry point generated. If not set, the package name is the same as of the element declaring this WebServiceEntryPoint annotation.</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">serviceName</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the service name as declared in the WSDL file, and must be set if publishing the webservice via auto discovery in an EE container. Both, 'serviceName' and 'portName' uniquely identify a webservice endpoint to be published.<br> See for valid service names in the WSDL: <code>&lt;wsdl:service name="SERVICE_NAME"&gt;&#x2026;&#x200b;&lt;/wsdl:service&gt;</code></p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">portName</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the name of the port as declared in the WSDL file, and must be set if publishing the webservice via auto discovery in an EE container. Both, 'serviceName' and 'portName' uniquely identify a webservice endpoint to be published.<br> See for valid port names in the WSDL: <code>&lt;wsdl:service name="&#x2026;&#x200b;"&gt;&lt;wsdl:port name="PORT_NAME" binding="&#x2026;&#x200b;"/&gt;&lt;/wsdl:service&gt;</code></p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">wsdlLocation</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the location of the WSDL document. If not set, the location is derived from WebServiceClient annotation which is typically initialized with the 'wsdlLocation' as provided to 'wsimport'.</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">authentication</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the authentication mechanism to be installed, and in which <code>RunContext</code> to run authenticated requests. By default, authentication is <em>disabled</em>. If <em>enabled</em>, an <code>AuthenticationHandler</code> is generated and registered in the handler chain as very first handler. However, the position of that handler can be changed via <em>order</em> field on <code>Authentication</code> annotation.<br> See <a href="#jaxws.provider.authentication">Section 18.5.3.1</a> for more information.</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">handlerChain</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the handlers to be installed. The order of the handlers is as declared. A handler is looked up as a bean, and must implement <code>javax.xml.ws.handler.Handler</code> interface.<br> See <a href="#jaxws.provider.handlerChain">Section 18.5.5</a> for more information.</p></td>
         </tr>
        </tbody>
       </table>
       <div class="paragraph">
        <p>Besides the instructions which can be set via <code>WebServiceEntryPoint</code> annotation, it is further possible to contribute other annotations to the entry point. Simply declare the annotation of your choice as a sibling annotation to <code>WebServiceEntryPoint</code> annotation. In turn, this annotation will be added to the entry point as well. This may be useful to enable some vendor specific features, or e.g. to enable <em>MTOM</em> to efficiently send binary data to a client.<br> That also applies for <code>WebService</code> annotation to overwrite values as declared in the WSDL file.</p>
       </div>
       <div class="paragraph">
        <p>Further, you can also provide your own <em>handler chain binding file</em>. However, <em>handlers</em> and <em>authentication</em> as declared via <code>WebServiceEntryPoint</code> annotation are ignored then.</p>
       </div>
       <div class="admonitionblock warning">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td>
           <td class="content"> Handlers registered via <em>handlerChain</em> must be beans, meaning either annotated with <em>@Bean</em> or <em>@ApplicationScoped</em>. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> The binding to the concrete endpoint is done via 'endpointInterface' attribute. If a WSDL declares multiple services, create a separate entry point definition for each service to be published. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> Annotate the <em>Entry Point Definition</em> class with `IgnoreWebServiceEntryPoint' to not generate an entry point for that definition. This is primarily used while developing an entry point, or for documenting purpose. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> Some fields require you to provide a Java class. Such fields are mostly of the annotation type <code>Clazz</code>, which accepts either the concrete <code>Class</code>, or its 'fully qualified name'. Use the latter if the class is not visible from within <code>jaxws</code> module.<br> However, if ever possible specify a <code>Class</code>. Because most classes are looked up via bean manager, this can be achieved with an interface located in 'jaxws' module, but with an implementation in 'server' module. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="sect4">
        <h5 id="jaxws.provider.authentication"><a class="anchor" href="#jaxws.provider.authentication"></a>Configure Authentication</h5>
        <div class="paragraph">
         <p>The field 'authentication' on <code>WebServiceEntryPoint</code> configures what authentication mechanism to install on the webservice endpoint, and in which <code>RunContext</code> to run authenticated webservice requests. It consists of the <a href="#IAuthenticationMethod">IAuthenticationMethod</a> to challenge the client to provide credentials, and the <a href="#ICredentialVerifier">ICredentialVerifier</a> to verify request&#x2019;s credentials against a data source.</p>
        </div>
        <div class="paragraph">
         <p>By default, authentication is <em>disabled</em>. If <em>enabled</em>, an <code>AuthenticationHandler</code> is generated and registered in the handler chain as very first handler. The position can be changed via <em>order</em> field on <code>Authentication</code> annotation.</p>
        </div>
        <div class="paragraph">
         <p>The following properties can be set.</p>
        </div>
        <table class="tableblock frame-all grid-all stretch">
         <colgroup>
          <col style="width: 30%;">
          <col style="width: 70%;">
         </colgroup>
         <tbody>
          <tr>
           <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>method</strong><br> (<em>mandatory</em>)</p></td>
           <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the authentication method to be used to challenge the client to provide credentials. By default, <code>NullAuthenticationMethod</code> is used to disable authentication.<br> See <a href="#IAuthenticationMethod">IAuthenticationMethod</a> for more information.</p></td>
          </tr>
          <tr>
           <td class="tableblock halign-left valign-top"><p class="tableblock">verifier<br></p></td>
           <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies against which data source credentials are to be verified. By default, <code>ForbiddenCredentialVerifier</code> is used to reject any webservice request.<br> See <a href="#ICredentialVerifier">ICredentialVerifier</a> for more information.</p></td>
          </tr>
          <tr>
           <td class="tableblock halign-left valign-top"><p class="tableblock">order<br></p></td>
           <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the position where to register the authentication handler in the handler chain. By default, it is registered as the very first handler.</p></td>
          </tr>
          <tr>
           <td class="tableblock halign-left valign-top"><p class="tableblock">principalProducer</p></td>
           <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates the principal producer to use to create principals to represent authenticated users. By default, SimplePrincipalProducer is used.</p></td>
          </tr>
          <tr>
           <td class="tableblock halign-left valign-top"><p class="tableblock">runContextProducer</p></td>
           <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates which <a href="#runcontext">RunContext</a> to use to run authenticated webservice requests. By default, <code>ServerRunContextProducer</code> is used, which is based on a session cache, and enforces to run in a new transaction.</p></td>
          </tr>
         </tbody>
        </table>
        <div class="admonitionblock tip">
         <table>
          <tbody>
           <tr>
            <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
            <td class="content"> If using container based authentication (authentication enforced by the application server), use <a href="#containerbasedauthenticationmethod">ContainerBasedAuthenticationMethod</a> as authentication method, and do not configure a credential verifier. </td>
           </tr>
          </tbody>
         </table>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="example.entrypoint.definition"><a class="anchor" href="#example.entrypoint.definition"></a>18.5.4. Example of an Entry Point definition</h4>
       <div id="jaxws.listing.porttypedefinition" class="listingblock">
        <div class="title">
         Listing 121. Example configuration for an entry point definition
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@WebServiceEntryPoint</span>(
    endpointInterface = PingWebServicePortType.class, <i class="conum" data-value="1"></i><b>(1)</b>
    entryPointName = <span class="string"><span class="delimiter">"</span><span class="content">PingWebServiceEntryPoint</span><span class="delimiter">"</span></span>,
    entryPointPackage = <span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.docs.ws.ping</span><span class="delimiter">"</span></span>,
    serviceName = <span class="string"><span class="delimiter">"</span><span class="content">PingWebService</span><span class="delimiter">"</span></span>,
    portName = <span class="string"><span class="delimiter">"</span><span class="content">PingWebServicePort</span><span class="delimiter">"</span></span>,
    handlerChain = {<i class="conum" data-value="2"></i><b>(2)</b>
        <span class="annotation">@Handler</span>(<span class="annotation">@Clazz</span>(CorrelationIdHandler.class)), <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="annotation">@Handler</span>(value = <span class="annotation">@Clazz</span>(IPAddressFilter.class), initParams = { <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="annotation">@InitParam</span>(key = <span class="string"><span class="delimiter">"</span><span class="content">rangeFrom</span><span class="delimiter">"</span></span>, value = <span class="string"><span class="delimiter">"</span><span class="content">192.200.0.0</span><span class="delimiter">"</span></span>),
            <span class="annotation">@InitParam</span>(key = <span class="string"><span class="delimiter">"</span><span class="content">rangeTo</span><span class="delimiter">"</span></span>, value = <span class="string"><span class="delimiter">"</span><span class="content">192.255.0.0</span><span class="delimiter">"</span></span>)}),
        <span class="annotation">@Handler</span>(<span class="annotation">@Clazz</span>(LogHandler.class)), <i class="conum" data-value="5"></i><b>(5)</b>
    },
    authentication = <span class="annotation">@Authentication</span>( <i class="conum" data-value="6"></i><b>(6)</b>
        order = <span class="integer">2</span>, <i class="conum" data-value="7"></i><b>(7)</b>
        method = <span class="annotation">@Clazz</span>(BasicAuthenticationMethod.class), <i class="conum" data-value="8"></i><b>(8)</b>
        verifier = <span class="annotation">@Clazz</span>(ConfigFileCredentialVerifier.class))) <i class="conum" data-value="9"></i><b>(9)</b>
<span class="annotation">@MTOM</span> <i class="conum" data-value="10"></i><b>(10)</b></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>References the endpoint interface for which to generate an entry point for.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Declares the handlers to be installed on that entry point. The order is as declared.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="3"></i><b>3</b></td>
           <td>Registers the 'CorrelationIdHandler' as the first handler to set a correlation ID onto the current message context. See <a href="#jaxws.provider.statepropagation">Section 18.5.6</a> for more information about state propagation.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="4"></i><b>4</b></td>
           <td>Registers the 'IpAddressFilter' as the second handler to filter for IP addresses. Also, this handler is parameterized with 'init params' to configure the valid IP range.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="5"></i><b>5</b></td>
           <td>Registers the <code>LogHandler</code> as the third handler to log SOAP messages.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="6"></i><b>6</b></td>
           <td>Configures the webservice&#x2019;s authentication.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="7"></i><b>7</b></td>
           <td>Configures the 'AuthHandler' to be put at position 2 (0-based), meaning in between of <code>IpAddressFilter</code> and <code>LogHandler</code>. By default, <code>AuthHandler</code> would be the very first handler in the handler chain.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="8"></i><b>8</b></td>
           <td>Configures to use <em>BASIC AUTH</em> as authentication method.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="9"></i><b>9</b></td>
           <td>Configures to verify user&#x2019;s credentials against 'config.properties' file.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="10"></i><b>10</b></td>
           <td>Specification of an <code>MTOM</code> annotation to be added to the entry point.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>This configuration generates the following artifacts:</p>
       </div>
       <div class="imageblock">
        <div class="content">
         <img src="images/jaxws_example_pingws_artifacts_generated.png" alt="jaxws example pingws artifacts generated">
        </div>
        <div class="title">
         Figure 16. generated artifacts
        </div>
       </div>
       <div class="paragraph">
        <p>All artifacts are generated into the package 'org.eclipse.scout.docs.ws.ping', as specified by the definition. The entry point itself is generated into 'PingWebServiceEntryPoint.java'. Further, for each handler, a respective handler delegate is generated. That allows handlers to be looked up via bean manager, and to run the handlers on behalf of a <code>RunContext</code>. Also, an <code>AuthHandler</code> is generated to authenticate web requests as configured.</p>
       </div>
       <div class="paragraph">
        <p>The handler-chain XML file generated looks as following. As specified, the authentication handler is installed as the third handler.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 122. PingWebServiceEntryPoint_handler-chain.xml
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">&lt;handler-chains xmlns=<span class="string"><span class="delimiter">"</span><span class="content">http://java.sun.com/xml/ns/javaee</span><span class="delimiter">"</span></span>&gt;
  &lt;handler-chain&gt;
    &lt;!-- Executed as <span class="integer">4</span>. handler--&gt;
    &lt;handler&gt;
      &lt;handler-<span class="type">class</span>&gt;<span class="class">org</span>.eclipse.scout.docs.ws.ping.PingWebServiceEntryPoint_LogHandler&lt;/handler-<span class="type">class</span>&gt;
    &lt;/<span class="class">handler</span>&gt;
  &lt;/handler-chain&gt;
  &lt;handler-chain&gt;
    &lt;!-- Executed as <span class="integer">3</span>. handler--&gt;
    &lt;handler&gt;
      &lt;handler-<span class="type">class</span>&gt;<span class="class">org</span>.eclipse.scout.docs.ws.ping.PingWebServiceEntryPoint_AuthHandler&lt;/handler-<span class="type">class</span>&gt;
    &lt;/<span class="class">handler</span>&gt;
  &lt;/handler-chain&gt;
  &lt;handler-chain&gt;
    &lt;!-- Executed as <span class="integer">2</span>. handler--&gt;
    &lt;handler&gt;
      &lt;handler-<span class="type">class</span>&gt;<span class="class">org</span>.eclipse.scout.docs.ws.ping.PingWebServiceEntryPoint_IPAddressFilter&lt;/handler-<span class="type">class</span>&gt;
    &lt;/<span class="class">handler</span>&gt;
  &lt;/handler-chain&gt;
  &lt;handler-chain&gt;
    &lt;!-- Executed as <span class="integer">1</span>. handler--&gt;
    &lt;handler&gt;
      &lt;handler-<span class="type">class</span>&gt;<span class="class">org</span>.eclipse.scout.docs.ws.ping.PingWebServiceEntryPoint_CorrelationIdHandler&lt;/handler-<span class="type">class</span>&gt;
    &lt;/<span class="class">handler</span>&gt;
  &lt;/handler-chain&gt;
&lt;/handler-chains&gt;</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>The following listing shows the beginning of the entry point generated. As you can see, the handler-chain XML file is referenced via <code>HandlerChain</code> annotation, and the <code>MTOM</code> annotation was added as well.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 123. PingWebServiceEntryPoint.java
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@WebService</span>(name = <span class="string"><span class="delimiter">"</span><span class="content">PingWebServicePortType</span><span class="delimiter">"</span></span>,
    targetNamespace = <span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/</span><span class="delimiter">"</span></span>,
    endpointInterface = <span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.docs.snippets.JaxWsSnippet.PingWebServicePortType</span><span class="delimiter">"</span></span>,
    serviceName = <span class="string"><span class="delimiter">"</span><span class="content">PingWebService</span><span class="delimiter">"</span></span>,
    portName = <span class="string"><span class="delimiter">"</span><span class="content">PingWebServicePort</span><span class="delimiter">"</span></span>)
<span class="annotation">@MTOM</span>
<span class="annotation">@HandlerChain</span>(file = <span class="string"><span class="delimiter">"</span><span class="content">PingWebServiceEntryPoint_handler-chain.xml</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">PingWebServiceEntryPoint</span> <span class="directive">implements</span> PingWebServicePortType {</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jaxws.provider.handlerChain"><a class="anchor" href="#jaxws.provider.handlerChain"></a>18.5.5. Configure JAX-WS Handlers</h4>
       <div class="paragraph">
        <p>See <a href="#example.entrypoint.definition">listing</a> for an example of how to configure JAX-WS handlers.</p>
       </div>
       <div class="paragraph">
        <p>JAX-WS handlers are configured directly on the entry point definition via the array field <code>handlerChain</code>. In turn, <em>JaxWsAnnotationProcessor</em> generates a 'handler XML file' with the handler&#x2019;s order preserved, and which is registered in entry point via annotation <code>handlerChain</code>.</p>
       </div>
       <div class="paragraph">
        <p>A handler can be initialized with static 'init parameters', which will be injected into the handler instance. For the injection to work, declare a member of the type <code>Map</code> in the handler class, and annotate it with <code>javax.annotation.Resource</code> annotation.</p>
       </div>
       <div class="paragraph">
        <p>Because handlers are looked up via bean manager, a handler must be annotated with <code>ApplicationScoped</code> annotation.</p>
       </div>
       <div class="paragraph">
        <p>If a handler requires to be run in a <code>RunContext</code>, annotate the handler with <code>RunWithRunContext</code> annotation, and optionally specify a <code>RunContextProducer</code>. If the web request is authenticated upon entering the handler, the <code>RunContext</code> is run on behalf of the authenticated user. Otherwise, if not authenticated yet, it is invoked with the Subject as configured in <code>scout.jaxws.provider.user.handler</code> config property.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 124. Example of a JAX-WS Handler
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ApplicationScoped</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="annotation">@RunWithRunContext</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">IPAddressFilter</span> <span class="directive">implements</span> SOAPHandler&lt;SOAPMessageContext&gt; {
  <span class="annotation">@Resource</span>
  <span class="directive">private</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; m_initParams; <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> handleMessage(SOAPMessageContext context) {
    <span class="predefined-type">String</span> rangeForm = m_initParams.get(<span class="string"><span class="delimiter">"</span><span class="content">rangeFrom</span><span class="delimiter">"</span></span>); <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="predefined-type">String</span> rangeTo = m_initParams.get(<span class="string"><span class="delimiter">"</span><span class="content">rangeTo</span><span class="delimiter">"</span></span>);
    <span class="comment">// ...</span>
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> handleFault(SOAPMessageContext context) {
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">QName</span>&gt; getHeaders() {
    <span class="keyword">return</span> <span class="predefined-type">Collections</span>.emptySet();
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> close(MessageContext context) {
  }
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Annotate the Handler with <code>ApplicationScoped</code> annotation, so it can be looked up via bean manager</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Optionally annotate the Handler with <code>RunWithRunContext</code> annotation, so the handler is invoked in a <code>RunContext</code></td>
          </tr>
          <tr>
           <td><i class="conum" data-value="3"></i><b>3</b></td>
           <td>Declare a <code>Map</code> member annotated with <code>Resource</code> annotation to make injection of 'init parameters' work</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="4"></i><b>4</b></td>
           <td>Access injected 'init parameters'</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jaxws.provider.statepropagation"><a class="anchor" href="#jaxws.provider.statepropagation"></a>18.5.6. Propagate state among Handlers and port type</h4>
       <div class="paragraph">
        <p>Sometimes it is useful to share state among handlers, and even with the port type. This can be done via <code>javax.xml.ws.handler.MessageContext</code>. By default, a property put onto message context is only available in the handler chain. To make it available to the port type as well, set its scope to 'APPLICATION' accordingly.</p>
       </div>
       <div class="paragraph">
        <p>The following listings gives an example of how to propagate state among handlers and port type.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 125. This handler puts the correlation ID onto message context to be accessible by subsequent handlers and the port type.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ApplicationScoped</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">CorrelationIdHandler</span> <span class="directive">implements</span> SOAPHandler&lt;SOAPMessageContext&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> handleMessage(SOAPMessageContext context) {
    context.put(<span class="string"><span class="delimiter">"</span><span class="content">cid</span><span class="delimiter">"</span></span>, <span class="predefined-type">UUID</span>.randomUUID().toString()); <i class="conum" data-value="1"></i><b>(1)</b>
    context.setScope(<span class="string"><span class="delimiter">"</span><span class="content">cid</span><span class="delimiter">"</span></span>, Scope.APPLICATION); <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> handleFault(SOAPMessageContext context) {
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">QName</span>&gt; getHeaders() {
    <span class="keyword">return</span> <span class="predefined-type">Collections</span>.emptySet();
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> close(MessageContext context) {
  }
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Put the 'correlation ID' onto message context.</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Set scope to <em>APPLICATION</em> to be accessible in port type. By default, the scope if <em>HANDLER</em> only.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div id="jaxws.handler.statepropagation.readcid" class="listingblock">
        <div class="title">
         Listing 126. This handler accesses the 'correlation ID' as set by the previous handler.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ApplicationScoped</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">CorrelationIdLogger</span> <span class="directive">implements</span> SOAPHandler&lt;SOAPMessageContext&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> handleMessage(SOAPMessageContext context) {
    <span class="predefined-type">String</span> correlationId = (<span class="predefined-type">String</span>) context.get(<span class="string"><span class="delimiter">"</span><span class="content">cid</span><span class="delimiter">"</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="comment">// ...</span>
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> handleFault(SOAPMessageContext context) {
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> close(MessageContext context) {
  }
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">QName</span>&gt; getHeaders() {
    <span class="keyword">return</span> <span class="predefined-type">Collections</span>.emptySet();
  }
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Get the 'correlation ID' from message context.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 127. This port type accesses the 'correlation ID' as set by the previous handler.
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ApplicationScoped</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">CorrelationIdPortType</span> <span class="directive">implements</span> PingWebServicePortType {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> ping(<span class="predefined-type">String</span> ping) {
    MessageContext currentMsgCtx = IWebServiceContext.CURRENT.get().getMessageContext(); <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="predefined-type">String</span> correlationId = (<span class="predefined-type">String</span>) currentMsgCtx.get(<span class="string"><span class="delimiter">"</span><span class="content">cid</span><span class="delimiter">"</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="comment">// ...</span>
    <span class="keyword">return</span> ping;
  }
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Get the current message context via thread local <code>IWebServiceContext</code></td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Get the 'correlation ID' from message context.</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jax-ws-correlation-id-propagation"><a class="anchor" href="#jax-ws-correlation-id-propagation"></a>18.5.7. JAX-WS Correlation ID Propagation</h4>
       <div class="paragraph">
        <p>Scout&#x2019;s JAX-WS integration already provides complete support for reading a correlation ID from the HTTP header named <code>X-Scout-Correlation-Id</code> of the incoming web service request and propagates it to the <a href="#runcontext">RunContext</a> that executes the actual service operation. A new correlation ID is created if the HTTP header is empty or missing.</p>
       </div>
       <div class="admonitionblock note">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
           <td class="content"> The CorrelationIdHandler example above just illustrates the capabilities of a SOAPHandler. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="admonitionblock note">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
           <td class="content"> You have to implement your own handler if the consumer provides a correlation ID in another header parameter or as part of the request&#x2019;s payload. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 128. Add Scout&#x2019;s WsProviderCorrelationIdHandler to the handler chain
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@WebServiceEntryPoint</span>(
    endpointInterface = PingWebServicePortType.class,
    entryPointName = <span class="string"><span class="delimiter">"</span><span class="content">PingWebServiceEntryPoint</span><span class="delimiter">"</span></span>,
    entryPointPackage = <span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.docs.ws.ping2</span><span class="delimiter">"</span></span>,
    serviceName = <span class="string"><span class="delimiter">"</span><span class="content">PingWebService</span><span class="delimiter">"</span></span>,
    portName = <span class="string"><span class="delimiter">"</span><span class="content">PingWebServicePort</span><span class="delimiter">"</span></span>,
    handlerChain = {
        <span class="annotation">@Handler</span>(<span class="annotation">@Clazz</span>(WsProviderCorrelationIdHandler.class)), <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="annotation">@Handler</span>(<span class="annotation">@Clazz</span>(LogHandler.class)),
    },
    authentication = <span class="annotation">@Authentication</span>(
        method = <span class="annotation">@Clazz</span>(BasicAuthenticationMethod.class),
        verifier = <span class="annotation">@Clazz</span>(ConfigFileCredentialVerifier.class)))</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Add the correlation ID handler <strong>at the beginning</strong> of the handler chain to ensure that all handlers can use its value (especially the <code>LogHandler</code> has to be added after the correlation ID handler).</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="registration-of-webservice-endpoints"><a class="anchor" href="#registration-of-webservice-endpoints"></a>18.5.8. Registration of webservice endpoints</h4>
       <div class="paragraph">
        <p>The registration of webservice endpoints depends on the implementor you use, and whether you are running in an EE container with webservice auto discovery enabled.</p>
       </div>
       <div class="paragraph">
        <p>When running in an EE container, webservice providers are typically found by their presence. In order to be found, such webservice providers must be annotated with <code>WebService</code> annotation, and must have the coordinates 'serviceName' and 'portName' set. Still, most application servers allow for manual registration as well. E.g. if using Oracle WebLogic Server (WLS), endpoints to be published can be registered directly in 'web.xml' as a Servlet. However, this is vendor specific. Refer to the container&#x2019;s documentation for more information.</p>
       </div>
       <div class="paragraph">
        <p>If not running in an EE container, the registration is implementor specific. In the following, an example for <em>JAX-WS METRO</em> and <em>Apache CXF</em> is given.</p>
       </div>
       <div class="sect4">
        <h5 id="jax-ws-metro"><a class="anchor" href="#jax-ws-metro"></a>JAX-WS METRO</h5>
        <div class="paragraph">
         <p>During startup, <em>JAX-WS METRO</em> looks for the file '/WEB-INF/sun-jaxws.xml', which contains the endpoint definitions.</p>
        </div>
        <div class="listingblock">
         <div class="title">
          Listing 129. WEB-INF/sun-jaxws.xml
         </div>
         <div class="content">
          <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;jws:endpoints</span> <span class="attribute-name">xmlns:jws</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://java.sun.com/xml/ns/jax-ws/ri/runtime</span><span class="delimiter">"</span></span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">"</span><span class="content">2.0</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  <span class="comment">&lt;!-- PingWebService --&gt;</span>
  <span class="tag">&lt;jws:endpoint</span>
      <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">PingService</span><span class="delimiter">"</span></span>
      <span class="attribute-name">implementation</span>=<span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.docs.ws.ping.PingWebServiceEntryPoint</span><span class="delimiter">"</span></span>
      <span class="attribute-name">service</span>=<span class="string"><span class="delimiter">"</span><span class="content">{http://scout.eclipse.org/docs/ws/PingWebService/}PingWebService</span><span class="delimiter">"</span></span>
      <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">"</span><span class="content">{http://scout.eclipse.org/docs/ws/PingWebService/}PingWebServiceSOAP</span><span class="delimiter">"</span></span>
      <span class="attribute-name">url-pattern</span>=<span class="string"><span class="delimiter">"</span><span class="content">/jaxws/PingWebService</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/jws:endpoints&gt;</span></code></pre>
         </div>
        </div>
       </div>
       <div class="sect4">
        <h5 id="jaxws.registration.endpoints.cxf"><a class="anchor" href="#jaxws.registration.endpoints.cxf"></a>Apache CXF</h5>
        <div class="paragraph">
         <p>During startup, <em>Apache CXF</em> looks for the config file as specified in 'web.xml' via 'config-location'. See <a href="#lst-jaxws.webxml.cxf">Listing 113</a> for more information.</p>
        </div>
        <div class="listingblock">
         <div class="title">
          Listing 130. WEB-INF/cxf-jaxws.xml
         </div>
         <div class="content">
          <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;beans</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.springframework.org/schema/beans</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xmlns:jaxws</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://cxf.apache.org/jaxws</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span> <span class="content">http://www.springframework.org/schema/beans</span> <span class="content">http://www.springframework.org/schema/beans/spring-beans.xsd</span> <span class="content">http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;import</span> <span class="attribute-name">resource</span>=<span class="string"><span class="delimiter">"</span><span class="content">classpath:META-INF/cxf/cxf.xml</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
  <span class="comment">&lt;!-- PingWebService --&gt;</span>
  <span class="tag">&lt;jaxws:endpoint</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">PingWebService</span><span class="delimiter">"</span></span>
    <span class="attribute-name">implementor</span>=<span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.docs.ws.ping.PingWebServiceEntryPoint</span><span class="delimiter">"</span></span>
    <span class="attribute-name">address</span>=<span class="string"><span class="delimiter">"</span><span class="content">/PingWebService</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/beans&gt;</span></code></pre>
         </div>
        </div>
        <div class="admonitionblock tip">
         <table>
          <tbody>
           <tr>
            <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
            <td class="content"> As the webservice endpoint, specify the fully qualified name to the entry point, and not to the implementing port type. </td>
           </tr>
          </tbody>
         </table>
        </div>
        <div class="admonitionblock tip">
         <table>
          <tbody>
           <tr>
            <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
            <td class="content"> Depending on the implementor, a HTML page may be provided to see all webservices published.<br> For <em>JAX-WS METRO</em>, enter the URL to a concrete webservice, e.g. <a href="http://localhost:8080/jaxws/PingWebService" class="bare">http://localhost:8080/jaxws/PingWebService</a>.<br> For <em>Apache CXF</em>, enter the base URL where the webservices are published, e.g. <a href="http://localhost:8080/jaxws" class="bare">http://localhost:8080/jaxws</a>. </td>
           </tr>
          </tbody>
         </table>
        </div>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="consume-a-webservice"><a class="anchor" href="#consume-a-webservice"></a>18.6. Consume a webservice</h3>
      <div class="paragraph">
       <p>Communication with a webservice endpoint is done based on the webservice&#x2019;s port generated by 'wsimport'. Learn more how to <a href="#jaxws.stub.generation">generate a webservice stub from a WSDL file</a>.</p>
      </div>
      <div class="paragraph">
       <p>To interact with a webservice endpoint, create a concrete 'WebServiceClient' class which extends from <code>AbstractWebServiceClient</code>, and specify the endpoint&#x2019;s coordinates ('service' and 'port') via its bounded type parameters.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 131. Example of a WS-Client
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">PingWebServiceClient</span> <span class="directive">extends</span> AbstractWebServiceClient&lt;PingWebService, PingWebServicePortType&gt; { <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Specify 'service' and 'port' via bounded type parameters</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="paragraph">
       <p>A WS-Client can be configured with some default values like the endpoint URL, credentials, timeouts and more. However, the configuration can also be set or overwritten later when creating the <code>InvocationContext</code>.</p>
      </div>
      <div class="paragraph">
       <p>See also <a href="#jaxws.consumer.configuration">Section 18.6.7</a>.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 132. Example of a WS-Client configuration
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">PingWebServiceClient1</span> <span class="directive">extends</span> AbstractWebServiceClient&lt;PingWebService, PingWebServicePortType&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> IConfigProperty&lt;<span class="predefined-type">String</span>&gt;&gt; getConfiguredEndpointUrlProperty() {
    <span class="keyword">return</span> JaxWsPingEndpointUrlProperty.class; <i class="conum" data-value="1"></i><b>(1)</b>
  }
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> IConfigProperty&lt;<span class="predefined-type">String</span>&gt;&gt; getConfiguredUsernameProperty() {
    <span class="keyword">return</span> JaxWsPingUsernameProperty.class; <i class="conum" data-value="2"></i><b>(2)</b>
  }
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> IConfigProperty&lt;<span class="predefined-type">String</span>&gt;&gt; getConfiguredPasswordProperty() {
    <span class="keyword">return</span> JaxWsPingPasswordProperty.class; <i class="conum" data-value="2"></i><b>(2)</b>
  }
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> IConfigProperty&lt;<span class="predefined-type">Integer</span>&gt;&gt; getConfiguredConnectTimeoutProperty() {
    <span class="keyword">return</span> JaxWsPingConnectTimeoutProperty.class; <i class="conum" data-value="3"></i><b>(3)</b>
  }
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="predefined-type">Class</span>&lt;? <span class="directive">extends</span> IConfigProperty&lt;<span class="predefined-type">Integer</span>&gt;&gt; getConfiguredReadTimeoutProperty() {
    <span class="keyword">return</span> JaxWsPingReadTimeoutProperty.class; <i class="conum" data-value="3"></i><b>(3)</b>
  }
}</code></pre>
       </div>
      </div>
      <div class="colist arabic">
       <table>
        <tbody>
         <tr>
          <td><i class="conum" data-value="1"></i><b>1</b></td>
          <td>Specifies the endpoint URL</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="2"></i><b>2</b></td>
          <td>Specifies credentials</td>
         </tr>
         <tr>
          <td><i class="conum" data-value="3"></i><b>3</b></td>
          <td>Specifies timeouts</td>
         </tr>
        </tbody>
       </table>
      </div>
      <div class="sect3">
       <h4 id="invoke-a-webservice"><a class="anchor" href="#invoke-a-webservice"></a>18.6.1. Invoke a webservice</h4>
       <div class="paragraph">
        <p>A webservice operation is invoked on behalf of an invocation context, which is associated with a dedicated port, and which specifies the data to be included in the web request. Upon a webservice call, the invocation context should be discarded.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 133. Example of a webservice call
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">PingWebServicePortType port = BEANS.get(PingWebServiceClient.class).newInvocationContext().getPort(); <i class="conum" data-value="1"></i><b>(1)</b>
port.ping(<span class="string"><span class="delimiter">"</span><span class="content">Hello world</span><span class="delimiter">"</span></span>); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Obtain a new invocation context and port via WS-Client</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Invoke the webservice operation</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>Invoking <code>newInvocationContext()</code> returns a new context and port instance. The context returned inherits all properties as configured for the WS-Client (endpoint URL, credentials, timeouts, &#x2026;&#x200b;), but which can be overwritten for the scope of this context.</p>
       </div>
       <div class="paragraph">
        <p>The following listing illustrates how to set/overwrite properties.</p>
       </div>
       <div class="listingblock">
        <div class="title">
         Listing 134. Configure invocation context with data to be included in the web request
        </div>
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">final</span> InvocationContext&lt;PingWebServicePortType&gt; context = BEANS.get(PingWebServiceClient.class).newInvocationContext();
PingWebServicePortType port = context
    .withUsername(<span class="string"><span class="delimiter">"</span><span class="content">test-user</span><span class="delimiter">"</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
    .withPassword(<span class="string"><span class="delimiter">"</span><span class="content">secret</span><span class="delimiter">"</span></span>)
    .withConnectTimeout(<span class="integer">10</span>, <span class="predefined-type">TimeUnit</span>.SECONDS) <i class="conum" data-value="2"></i><b>(2)</b>
    .withoutReadTimeout() <i class="conum" data-value="3"></i><b>(3)</b>
    .withHttpRequestHeader(<span class="string"><span class="delimiter">"</span><span class="content">X-ENV</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">integration</span><span class="delimiter">"</span></span>) <i class="conum" data-value="4"></i><b>(4)</b>
    .getPort();
port.ping(<span class="string"><span class="delimiter">"</span><span class="content">Hello world</span><span class="delimiter">"</span></span>); <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Set the credentials</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Change the connect timeout to 10s</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="3"></i><b>3</b></td>
           <td>Unset the read timeout</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="4"></i><b>4</b></td>
           <td>Add a HTTP request header</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="5"></i><b>5</b></td>
           <td>Invoke the webservice operation</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>The WS-Client provides port instances via a preemptive port cache. This cache improves performance because port creation may be an expensive operation due to WSDL/schema validation. The cache is based on a 'corePoolSize', meaning that that number of ports is created on a preemptively basis. If more ports than that number are required, they are created on demand, and additionally added to the cache until expired, which is useful at a high load.</p>
       </div>
       <div class="admonitionblock warning">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td>
           <td class="content"> The JAX-WS specification does not specify thread safety of a port instance. Therefore, a port should not be used concurrently among threads. Further, JAX-WS API does not support to reset the Port&#x2019;s request and response context, which is why a port should only be used for a single webservice call. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="cancel-a-webservice-request"><a class="anchor" href="#cancel-a-webservice-request"></a>18.6.2. Cancel a webservice request</h4>
       <div class="paragraph">
        <p>The WS-Client supports for cancellation of webservice requests. Internally, every web request is run in another thread, which the calling thread waits for to complete. Upon cancellation, that other thread is interrupted, and the calling thread released with a <code>WebServiceRequestCancelledException</code>. However, depending on the JAX-WS implementor, the web request may still be running, because JAX-WS API does not support the cancellation of a web request.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="get-information-about-the-last-web-request"><a class="anchor" href="#get-information-about-the-last-web-request"></a>18.6.3. Get information about the last web request</h4>
       <div class="paragraph">
        <p>The invocation context allows you to access HTTP status code and HTTP headers of the last web request.</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">final</span> InvocationContext&lt;PingWebServicePortType&gt; context = BEANS.get(PingWebServiceClient.class).newInvocationContext();
<span class="predefined-type">String</span> pingResult = context.getPort().ping(<span class="string"><span class="delimiter">"</span><span class="content">Hello world</span><span class="delimiter">"</span></span>);
<span class="comment">// Get HTTP status code</span>
<span class="type">int</span> httpStatusCode = context.getHttpStatusCode();
<span class="comment">// Get HTTP response header</span>
<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; httpResponseHeader = context.getHttpResponseHeader(<span class="string"><span class="delimiter">"</span><span class="content">X-CUSTOM-HEADER</span><span class="delimiter">"</span></span>);</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="propagate-state-to-handlers"><a class="anchor" href="#propagate-state-to-handlers"></a>18.6.4. Propagate state to Handlers</h4>
       <div class="paragraph">
        <p>An invocation context can be associated with request context properties, which are propagated to handlers and JAX-WS implementor.</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java">BEANS.get(PingWebServiceClient.class).newInvocationContext()
    .withRequestContextProperty(<span class="string"><span class="delimiter">"</span><span class="content">cid</span><span class="delimiter">"</span></span>, <span class="predefined-type">UUID</span>.randomUUID().toString()) <i class="conum" data-value="1"></i><b>(1)</b>
    .getPort().ping(<span class="string"><span class="delimiter">"</span><span class="content">Hello world</span><span class="delimiter">"</span></span>); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>Propagate the correlation ID</td>
          </tr>
          <tr>
           <td><i class="conum" data-value="2"></i><b>2</b></td>
           <td>Invoke the web operation</td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="paragraph">
        <p>Learn more how to access context properties from within a handler in <a href="#jaxws.handler.statepropagation.readcid">Listing 126</a>.</p>
       </div>
      </div>
      <div class="sect3">
       <h4 id="install-handlers-and-provide-credentials-for-authentication"><a class="anchor" href="#install-handlers-and-provide-credentials-for-authentication"></a>18.6.5. Install handlers and provide credentials for authentication</h4>
       <div class="paragraph">
        <p>To install a handler, overwrite <code>execInstallHandlers</code> and add the handler to the given List. The handlers are invoked in the order as added to the handler-chain. By default, there is no handler installed.</p>
       </div>
       <div class="paragraph">
        <p>The method <code>execInstallHandlers</code> is invoked upon preemptive creation of the port. Consequently, you cannot do any assumption about the calling thread.</p>
       </div>
       <div class="paragraph">
        <p>If a handler requires to run in another <code>RunContext</code> than the calling context, annotate it with <code>RunWithRunContext</code> annotation, e.g. to start a new transaction to log into database.</p>
       </div>
       <div class="paragraph">
        <p>If the endpoint requires to authenticate requests, an authentication handler is typically added to the list, e.g. <code>BasicAuthenticationHandler</code> for 'Basic authentication', or <code>WsseUsernameTokenAuthenticationHandler</code> for 'Message Level WS-Security authentication', or some other handler to provide credentials.</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">PingWebServiceClient2</span> <span class="directive">extends</span> AbstractWebServiceClient&lt;PingWebService, PingWebServicePortType&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="type">void</span> execInstallHandlers(<span class="predefined-type">List</span>&lt;javax.xml.ws.handler.Handler&lt;?&gt;&gt; handlerChain) {
    handlerChain.add(<span class="keyword">new</span> BasicAuthenticationHandler());
    handlerChain.add(BEANS.get(LogHandler.class));
  }
}</code></pre>
        </div>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> The credentials as provided via <code>InvocationContext</code> can be accessed via request context with the property <code>InvocationContext.PROP_USERNAME</code> and <code>InvocationContext.PROP_PASSWORD</code>. </td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jax-ws-client-correlation-id-propagation"><a class="anchor" href="#jax-ws-client-correlation-id-propagation"></a>18.6.6. JAX-WS Client Correlation ID Propagation</h4>
       <div class="paragraph">
        <p>The current context&#x2019;s correlation ID can be forwarded to the consumed web service. Scout provides a handler that sets the <code>X-Scout-Correlation-Id</code> HTTP header on the outgoing request.</p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">PingWebServiceClient3</span> <span class="directive">extends</span> AbstractWebServiceClient&lt;PingWebService, PingWebServicePortType&gt; {
  <span class="annotation">@Override</span>
  <span class="directive">protected</span> <span class="type">void</span> execInstallHandlers(<span class="predefined-type">List</span>&lt;javax.xml.ws.handler.Handler&lt;?&gt;&gt; handlerChain) {
    handlerChain.add(<span class="keyword">new</span> BasicAuthenticationHandler());
    handlerChain.add(BEANS.get(LogHandler.class));
    handlerChain.add(BEANS.get(WsConsumerCorrelationIdHandler.class)); <i class="conum" data-value="1"></i><b>(1)</b>
  }
}</code></pre>
        </div>
       </div>
       <div class="colist arabic">
        <table>
         <tbody>
          <tr>
           <td><i class="conum" data-value="1"></i><b>1</b></td>
           <td>The handler can be at any position in the handler chain.</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
      <div class="sect3">
       <h4 id="jaxws.consumer.configuration"><a class="anchor" href="#jaxws.consumer.configuration"></a>18.6.7. Default configuration of WS-Clients</h4>
       <div class="paragraph">
        <p>The following properties can be set globally for all WS-Clients. However, a WS-Client can overwrite any of this values.</p>
       </div>
       <table class="tableblock frame-all grid-all stretch">
        <colgroup>
         <col style="width: 30%;">
         <col style="width: 50%;">
         <col style="width: 20%;">
        </colgroup>
        <thead>
         <tr>
          <th class="tableblock halign-left valign-top">property</th>
          <th class="tableblock halign-left valign-top">description</th>
          <th class="tableblock halign-left valign-top">default value</th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">scout.jaxws.consumer.portCache.enabled</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">To indicate whether to use a preemptive port cache for WS-Clients.<br> Depending on the implementor used, cached ports may increase performance, because port creation is an expensive operation due to WSDL and schema validation. The cache is based on a 'corePoolSize', meaning that that number of ports is created on a preemptive basis. If more ports than that number is required, they are are created on demand and also added to the cache until expired, which is useful at a high load.</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">scout.jaxws.consumer.portCache.corePoolSize</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Number of ports to be preemptively cached to speed up webservice calls.</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">scout.jaxws.consumer.portCache.ttl</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Maximum time in seconds to retain ports in the cache if the 'corePoolSize' is exceeded. That typically occurs at high load, or if 'corePoolSize' is undersized.</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">15 minutes</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">scout.jaxws.consumer.connectTimeout</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Connect timeout in milliseconds to abort a webservice request, if establishment of the HTTP connection takes longer than this timeout. A timeout of null means an infinite timeout.</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">infinite</p></td>
         </tr>
         <tr>
          <td class="tableblock halign-left valign-top"><p class="tableblock">scout.jaxws.consumer.readTimeout</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">Read timeout in milliseconds to abort a webservice request, if it takes longer than this timeout for data to be available for read. A timeout of null means an infinite timeout.</p></td>
          <td class="tableblock halign-left valign-top"><p class="tableblock">infinite</p></td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="sect2">
      <h3 id="jaxws.xmladapters"><a class="anchor" href="#jaxws.xmladapters"></a>18.7. XML adapters to work with java.util.Date and java.util.Calendar</h3>
      <div class="paragraph">
       <p>Scout ships with some XML adapters to not have to work with <code>XMLGregorianCalendar</code>, but with <code>java.util.Date</code> instead.<br> It is recommended to configure your global binding file accordingly. See <a href="#lst-jaxws.example.globalbindingfile">Listing 118</a> for an example.</p>
      </div>
      <div class="paragraph">
       <p>See the adapter&#x2019;s JavaDoc for more detailed information.</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <caption class="title">
        Table 3. UTC Date adapters
       </caption>
       <colgroup>
        <col style="width: 35%;">
        <col style="width: 65%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">adapter</th>
         <th class="tableblock halign-left valign-top">description</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">UtcDateAdapter</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Use this adapter to work with UTC <em>xsd:dates</em>. A UTC date is also known as 'zulu' date, and has 'GMT+-00:00'. Unlike <code>UtcDateTimeAdapter</code>, this adapter truncates hours, minutes, seconds and milliseconds.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">UtcTimeAdapter</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Use this adapter to work with UTC <em>xsd:times</em>. A UTC time is also known as 'zulu' time, and has 'GMT+-00:00'. Unlike <code>UtcDateTimeAdapter</code>, this adapter sets year, month and day to the epoch, which is defined as 1970-01-01 in UTC.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">UtcDateTimeAdapter</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Use this adapter to work with UTC <em>xsd:dateTimes</em>. A UTC time is also known as 'zulu' time, and has 'GMT+-00:00'.</p> <p class="tableblock">This adapter converts xsd:dateTime into UTC milliseconds, by respecting the timezone as provided. If the timezone is missing, the date is interpreted as UTC-time, and not local to the default JVM timezone. To convert a <code>Date</code> into <em>xsd:dateTime</em>, the date&#x2019;s milliseconds are used as UTC milliseconds from the epoch, and are formatted as 'zulu' time.</p></td>
        </tr>
       </tbody>
      </table>
      <table class="tableblock frame-all grid-all stretch">
       <caption class="title">
        Table 4. Calendar adapters
       </caption>
       <colgroup>
        <col style="width: 35%;">
        <col style="width: 65%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">adapter</th>
         <th class="tableblock halign-left valign-top">description</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">CalendarDateAdapter</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Use this adapter to work with <code>Calendar</code> <em>xsd:dates</em> without loosing timezone information. Unlike CalendarDateTimeAdapter, this adapter truncates hours, minutes, seconds and milliseconds.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">CalendarTimeAdapter</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Use this adapter to work with <code>Calendar</code> <em>xsd:times</em> without loosing timezone information. Unlike CalendarDateTimeAdapter, this adapter sets year, month and day to the epoch, which is defined as 1970-01-01 in UTC.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">CalendarDateTimeAdapter</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Adapter to convert a <em>xsd:dateTime</em> to a <code>Calendar</code> and vice versa. For both directions, the timezone information is not lost. Use this adapter if you expect to work with dates from various timezones without loosing the local time. If the UTC (Zulu-time) is sufficient, use <code>UtcDateTimeAdapter</code> instead.</p></td>
        </tr>
       </tbody>
      </table>
      <table class="tableblock frame-all grid-all stretch">
       <caption class="title">
        Table 5. Default timezone Date adapters
       </caption>
       <colgroup>
        <col style="width: 35%;">
        <col style="width: 65%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">adapter</th>
         <th class="tableblock halign-left valign-top">description</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">DefaultTimezoneDateAdapter</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Use this adapter to work with <em>xsd:dates</em> in the default timezone of the Java Virtual Machine. Depending on the JVM installation, the timezone may differ: 'GMT+-XX:XX'. Unlike <code>DefaultTimezoneDateTimeAdapter</code>, this adapter truncates hours, minutes, seconds and milliseconds.<br> Whenever possible, use <code>UtcDateAdapter</code> or <code>CalendarDateAdapter</code> instead.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">DefaultTimezoneTimeAdapter</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Use this adapter to work with <em>xsd:times</em> in the default timezone of the Java Virtual Machine. Depending on the JVM installation, the timezone may differ: 'GMT+-XX:XX'. Unlike DefaultTimezoneDateTimeAdapter, this adapter sets year, month and day to the epoch, which is defined as 1970-01-01 in UTC.<br> Whenever possible, use <code>UtcTimeAdapter</code> or <code>CalendarTimeAdapter</code> instead.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">DefaultTimezoneDateTimeAdapter</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Use this adapter to work with <em>xsd:dateTimes</em> in the default timezone of the Java Virtual Machine. Depending on the JVM installation, the timezone may differ: 'GMT+-XX:XX'.<br> Whenever possible, use <code>UtcDateTimeAdapter</code> or <code>CalendarDateTimeAdapter</code> instead.</p></td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="sect2">
      <h3 id="jax-ws-appendix"><a class="anchor" href="#jax-ws-appendix"></a>18.8. JAX-WS Appendix</h3>
      <div class="sect3">
       <h4 id="PingWebService.wsdl"><a class="anchor" href="#PingWebService.wsdl"></a>18.8.1. PingWebService.wsdl</h4>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span>
<span class="tag">&lt;wsdl:definitions</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">PingWebService</span><span class="delimiter">"</span></span>
  <span class="attribute-name">targetNamespace</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xmlns:tns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xmlns:soap</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://schemas.xmlsoap.org/wsdl/soap/</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xmlns:wsdl</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://schemas.xmlsoap.org/wsdl/</span><span class="delimiter">"</span></span>
  <span class="attribute-name">xmlns:xsd</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;wsdl:types&gt;</span>
    <span class="tag">&lt;xsd:schema</span> <span class="attribute-name">targetNamespace</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;xsd:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">pingRequest</span><span class="delimiter">"</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">xsd:string</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;xsd:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">pingResponse</span><span class="delimiter">"</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">xsd:string</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/xsd:schema&gt;</span>
  <span class="tag">&lt;/wsdl:types&gt;</span>
  <span class="tag">&lt;wsdl:message</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">pingRequest</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;wsdl:part</span> <span class="attribute-name">element</span>=<span class="string"><span class="delimiter">"</span><span class="content">tns:pingRequest</span><span class="delimiter">"</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">ping</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;/wsdl:message&gt;</span>
  <span class="tag">&lt;wsdl:message</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">pingResponse</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;wsdl:part</span> <span class="attribute-name">element</span>=<span class="string"><span class="delimiter">"</span><span class="content">tns:pingResponse</span><span class="delimiter">"</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">parameters</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;/wsdl:message&gt;</span>
  <span class="tag">&lt;wsdl:portType</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">PingWebServicePortType</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;wsdl:operation</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">ping</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;wsdl:input</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">"</span><span class="content">tns:pingRequest</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
      <span class="tag">&lt;wsdl:output</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">"</span><span class="content">tns:pingResponse</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/wsdl:operation&gt;</span>
  <span class="tag">&lt;/wsdl:portType&gt;</span>
  <span class="tag">&lt;wsdl:binding</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">PingWebServiceSOAP</span><span class="delimiter">"</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">tns:PingWebServicePortType</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;soap:binding</span> <span class="attribute-name">style</span>=<span class="string"><span class="delimiter">"</span><span class="key">document</span><span class="delimiter">"</span></span>
      <span class="attribute-name">transport</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://schemas.xmlsoap.org/soap/http</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;wsdl:operation</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">ping</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;soap:operation</span> <span class="attribute-name">soapAction</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/ping</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
      <span class="tag">&lt;wsdl:input&gt;</span>
        <span class="tag">&lt;soap:body</span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">"</span><span class="content">literal</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
      <span class="tag">&lt;/wsdl:input&gt;</span>
      <span class="tag">&lt;wsdl:output&gt;</span>
        <span class="tag">&lt;soap:body</span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">"</span><span class="content">literal</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
      <span class="tag">&lt;/wsdl:output&gt;</span>
    <span class="tag">&lt;/wsdl:operation&gt;</span>
  <span class="tag">&lt;/wsdl:binding&gt;</span>
  <span class="tag">&lt;wsdl:service</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">PingWebService</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;wsdl:port</span> <span class="attribute-name">binding</span>=<span class="string"><span class="delimiter">"</span><span class="content">tns:PingWebServiceSOAP</span><span class="delimiter">"</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">PingWebServiceSOAP</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;soap:address</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/wsdl:port&gt;</span>
  <span class="tag">&lt;/wsdl:service&gt;</span>
<span class="tag">&lt;/wsdl:definitions&gt;</span></code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="PingWebServicePortType.java"><a class="anchor" href="#PingWebServicePortType.java"></a>18.8.2. PingWebServicePortType.java</h4>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FunctionalInterface</span>
<span class="annotation">@WebService</span>(name = <span class="string"><span class="delimiter">"</span><span class="content">PingWebServicePortType</span><span class="delimiter">"</span></span>, targetNamespace = <span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/</span><span class="delimiter">"</span></span>)
<span class="annotation">@SOAPBinding</span>(parameterStyle = ParameterStyle.BARE)
<span class="directive">public</span> <span class="type">interface</span> <span class="class">PingWebServicePortType</span> {
  <span class="annotation">@WebMethod</span>(action = <span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/ping</span><span class="delimiter">"</span></span>)
  <span class="annotation">@WebResult</span>(name = <span class="string"><span class="delimiter">"</span><span class="content">pingResponse</span><span class="delimiter">"</span></span>, targetNamespace = <span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/</span><span class="delimiter">"</span></span>, partName = <span class="string"><span class="delimiter">"</span><span class="content">parameters</span><span class="delimiter">"</span></span>)
  <span class="predefined-type">String</span> ping(<span class="annotation">@WebParam</span>(name = <span class="string"><span class="delimiter">"</span><span class="content">pingRequest</span><span class="delimiter">"</span></span>, targetNamespace = <span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/</span><span class="delimiter">"</span></span>, partName = <span class="string"><span class="delimiter">"</span><span class="content">ping</span><span class="delimiter">"</span></span>) <span class="predefined-type">String</span> ping);
}</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="PingWebServicePortTypeEntryPoint.java"><a class="anchor" href="#PingWebServicePortTypeEntryPoint.java"></a>18.8.3. PingWebServicePortTypeEntryPoint.java</h4>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Generated</span>(value = <span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.jaxws.apt.JaxWsAnnotationProcessor</span><span class="delimiter">"</span></span>, date = <span class="string"><span class="delimiter">"</span><span class="content">2016-01-25T14:22:58:583+0100</span><span class="delimiter">"</span></span>, comments = <span class="string"><span class="delimiter">"</span><span class="content">EntryPoint to run webservice requests on behalf of a RunContext</span><span class="delimiter">"</span></span>)
<span class="annotation">@WebService</span>(name = <span class="string"><span class="delimiter">"</span><span class="content">PingWebServicePortType</span><span class="delimiter">"</span></span>, targetNamespace = <span class="string"><span class="delimiter">"</span><span class="content">http://scout.eclipse.org/docs/ws/PingWebService/</span><span class="delimiter">"</span></span>, endpointInterface = <span class="string"><span class="delimiter">"</span><span class="content">org.eclipse.scout.docs.ws.pingwebservice.PingWebServicePortType</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">PingWebServicePortTypeEntryPoint</span> <span class="directive">implements</span> org.eclipse.scout.docs.ws.pingwebservice.PingWebServicePortType {
  <span class="annotation">@Resource</span>
  <span class="directive">protected</span> WebServiceContext m_webServiceContext;
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> ping(<span class="directive">final</span> <span class="predefined-type">String</span> ping) {
    <span class="keyword">try</span> {
      <span class="keyword">return</span> lookupRunContext().call(<span class="keyword">new</span> <span class="predefined-type">Callable</span>&lt;<span class="predefined-type">String</span>&gt;() {
        <span class="annotation">@Override</span>
        <span class="directive">public</span> <span class="directive">final</span> <span class="predefined-type">String</span> call() <span class="directive">throws</span> <span class="exception">Exception</span> {
          <span class="keyword">return</span> BEANS.get(PingWebServicePortType.class).ping(ping);
        }
      }, DefaultExceptionTranslator.class);
    }
    <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
      <span class="keyword">throw</span> handleUndeclaredFault(e);
    }
  }
  <span class="directive">protected</span> <span class="exception">RuntimeException</span> handleUndeclaredFault(<span class="directive">final</span> <span class="exception">Exception</span> e) {
    <span class="keyword">throw</span> BEANS.get(JaxWsUndeclaredExceptionTranslator.class).translate(e);
  }
  <span class="directive">protected</span> RunContext lookupRunContext() {
    <span class="keyword">return</span> BEANS.get(JaxWsRunContextLookup.class).lookup(m_webServiceContext);
  }
}</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="PingWebServicePortTypeBean.java"><a class="anchor" href="#PingWebServicePortTypeBean.java"></a>18.8.4. PingWebServicePortTypeBean.java</h4>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ApplicationScoped</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">PingWebServicePortTypeBean</span> <span class="directive">implements</span> PingWebServicePortType {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> ping(<span class="predefined-type">String</span> ping) {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">ping: </span><span class="delimiter">"</span></span> + ping;
  }
}</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="settings_org.eclipse.jdt.core.prefs"><a class="anchor" href="#settings_org.eclipse.jdt.core.prefs"></a>18.8.5. .settings/org.eclipse.jdt.core.prefs file to enable APT in Eclipse IDE</h4>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml">...
org.eclipse.jdt.core.compiler.processAnnotations=enabled
...</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="settings_org.eclipse.jdt.apt.core.prefs"><a class="anchor" href="#settings_org.eclipse.jdt.apt.core.prefs"></a>18.8.6. .settings/org.eclipse.jdt.apt.core.prefs file to enable APT in Eclipse IDE</h4>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml">org.eclipse.jdt.apt.aptEnabled=true
org.eclipse.jdt.apt.genSrcDir=target/generated-sources/annotations
org.eclipse.jdt.apt.processorOptions/consoleLog=true
org.eclipse.jdt.apt.reconcileEnabled=true</code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="factorypath"><a class="anchor" href="#factorypath"></a>18.8.7. .factorypath file to enable APT in Eclipse IDE</h4>
       <div class="listingblock">
        <div class="content">
         <pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- Replace 'XXX-VERSION-XXX' by the respective Scout RT version --&gt;</span>
<span class="tag">&lt;factorypath&gt;</span>
    <span class="tag">&lt;factorypathentry</span> <span class="attribute-name">kind</span>=<span class="string"><span class="delimiter">"</span><span class="content">VARJAR</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">M2_REPO/org/eclipse/scout/rt/org.eclipse.scout.jaxws.apt/XXX-VERSION-XXX/org.eclipse.scout.jaxws.apt-XXX-VERSION-XXX.jar</span><span class="delimiter">"</span></span> <span class="attribute-name">enabled</span>=<span class="string"><span class="delimiter">"</span><span class="content">true</span><span class="delimiter">"</span></span> <span class="attribute-name">runInBatchMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;factorypathentry</span> <span class="attribute-name">kind</span>=<span class="string"><span class="delimiter">"</span><span class="content">VARJAR</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">M2_REPO/com/unquietcode/tools/jcodemodel/codemodel/1.0.3/codemodel-1.0.3.jar</span><span class="delimiter">"</span></span> <span class="attribute-name">enabled</span>=<span class="string"><span class="delimiter">"</span><span class="content">true</span><span class="delimiter">"</span></span> <span class="attribute-name">runInBatchMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;factorypathentry</span> <span class="attribute-name">kind</span>=<span class="string"><span class="delimiter">"</span><span class="content">VARJAR</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">M2_REPO/org/eclipse/scout/rt/org.eclipse.scout.rt.platform/XXX-VERSION-XXX/org.eclipse.scout.rt.platform-XXX-VERSION-XXX.jar</span><span class="delimiter">"</span></span> <span class="attribute-name">enabled</span>=<span class="string"><span class="delimiter">"</span><span class="content">true</span><span class="delimiter">"</span></span> <span class="attribute-name">runInBatchMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;factorypathentry</span> <span class="attribute-name">kind</span>=<span class="string"><span class="delimiter">"</span><span class="content">VARJAR</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">M2_REPO/org/eclipse/scout/rt/org.eclipse.scout.rt.server.jaxws/XXX-VERSION-XXX/org.eclipse.scout.rt.server.jaxws-XXX-VERSION-XXX.jar</span><span class="delimiter">"</span></span> <span class="attribute-name">enabled</span>=<span class="string"><span class="delimiter">"</span><span class="content">true</span><span class="delimiter">"</span></span> <span class="attribute-name">runInBatchMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;factorypathentry</span> <span class="attribute-name">kind</span>=<span class="string"><span class="delimiter">"</span><span class="content">VARJAR</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">M2_REPO/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar</span><span class="delimiter">"</span></span> <span class="attribute-name">enabled</span>=<span class="string"><span class="delimiter">"</span><span class="content">true</span><span class="delimiter">"</span></span> <span class="attribute-name">runInBatchMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;factorypathentry</span> <span class="attribute-name">kind</span>=<span class="string"><span class="delimiter">"</span><span class="content">VARJAR</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">M2_REPO/org/slf4j/slf4j-api/1.7.12/slf4j-api-1.7.12.jar</span><span class="delimiter">"</span></span> <span class="attribute-name">enabled</span>=<span class="string"><span class="delimiter">"</span><span class="content">true</span><span class="delimiter">"</span></span> <span class="attribute-name">runInBatchMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">false</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/factorypath&gt;</span></code></pre>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="IAuthenticationMethod"><a class="anchor" href="#IAuthenticationMethod"></a>18.8.8. Authentication Method</h4>
       <div class="paragraph">
        <p>The authentication method specifies the protocol to challenge the webservice client to provide credentials.<br> Scout provides an implementation for <em>BASIC</em> and <em>WSSE_UsernameToken</em>. You can implement your own authentication method by implementing <code>IAuthenticationMethod</code> interface.</p>
       </div>
       <div class="sect4">
        <h5 id="basicauthenticationmethod"><a class="anchor" href="#basicauthenticationmethod"></a>BasicAuthenticationMethod</h5>
        <div class="paragraph">
         <p>Authentication method to apply <em>Basic Access</em> Authentication. This requires requests to provide a valid user name and password to access content. User&#x2019;s credentials are transported in HTTP headers. Basic authentication also works across firewalls and proxy servers.</p>
        </div>
        <div class="paragraph">
         <p>However, the disadvantage of Basic authentication is that it transmits unencrypted base64-encoded passwords across the network. Therefore, you only should use this authentication when you know that the connection between the client and the server is secure. The connection should be established either over a dedicated line or by using Secure Sockets Layer (SSL) encryption and Transport Layer Security (TLS).</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="wsseusernametokenmethod"><a class="anchor" href="#wsseusernametokenmethod"></a>WsseUsernameTokenMethod</h5>
        <div class="paragraph">
         <p>Authentication method to apply <em>Message Level WS-Security with UsernameToken</em> Authentication. This requires requests to provide a valid user name and password to access content. User&#x2019;s credentials are included in SOAP message headers.</p>
        </div>
        <div class="paragraph">
         <p>However, the disadvantage of WSSE UsernameToken Authentication is that it transmits unencrypted passwords across the network. Therefore, you only should use this authentication when you know that the connection between the client and the server is secure. The connection should be established either over a dedicated line or by using Secure Sockets Layer (SSL) encryption and Transport Layer Security (TLS).</p>
        </div>
       </div>
       <div class="sect4">
        <h5 id="containerbasedauthenticationmethod"><a class="anchor" href="#containerbasedauthenticationmethod"></a>ContainerBasedAuthenticationMethod</h5>
        <div class="paragraph">
         <p>Use this authentication method when using container based authentication, meaning that webservice requests are authenticated by the application server, or a Servlet filter.</p>
        </div>
       </div>
      </div>
      <div class="sect3">
       <h4 id="ICredentialVerifier"><a class="anchor" href="#ICredentialVerifier"></a>18.8.9. Credential Verifier</h4>
       <div class="paragraph">
        <p>Verifies user&#x2019;s credentials against a data source like <em>database</em>, <em>config.properties</em>, <em>Active Directory</em>, or others.<br> Scout provides an implementation for verification against users in <em>config.properties</em>. You can implement your own verifier by implementing <code>ICredentialVerifier</code> interface.</p>
       </div>
       <div class="admonitionblock tip">
        <table>
         <tbody>
          <tr>
           <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
           <td class="content"> If you require to run in a specific <code>RunContext</code> like a transaction for user&#x2019;s verification, annotate the verifier with <code>RunWithRunContext</code> annotation, and specify a <code>RunContextProducer</code> accordingly. </td>
          </tr>
         </tbody>
        </table>
       </div>
       <div class="sect4">
        <h5 id="configfilecredentialverifier"><a class="anchor" href="#configfilecredentialverifier"></a>ConfigFileCredentialVerifier</h5>
        <div class="paragraph">
         <p>Credential verifier against credentials configured in <em>config.properties</em> file.</p>
        </div>
        <div class="paragraph">
         <p>By default, this verifier expects the passwords in 'config.properties' to be a hash produced with SHA-512 algorithm. To support you in password hash generation, <code>ConfigFileCredentialVerifier</code> provides a static Java main method.</p>
        </div>
        <div class="paragraph">
         <p>Credentials are loaded from property <code>scout.auth.credentials</code>. Multiple credentials are separated with the semicolon, username and password with the colon. If using hashed passwords (by default), the password&#x2019;s salt and hash are separated with the dot.</p>
        </div>
        <div class="paragraph">
         <p>To work with plaintext passwords, set the property <code>scout.auth.credentialsPlaintext</code> to <em>true</em>.</p>
        </div>
        <div class="paragraph">
         <p>Example of hashed passwords: <code>scott:SALT.PASSWORD-HASH;jack:SALT.PASSWORD-HASH;john:SALT.PASSWORD-HASH</code> Example of plaintext passwords: <code>scott:<strong><strong>*;jack:</strong><strong>;john:</strong></strong>*</code></p>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="smtphelper"><a class="anchor" href="#smtphelper"></a>19. SmtpHelper</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>The <code>org.eclipse.scout.rt.mail.smtp.SmtpHelper</code> is an <code>@ApplicationScoped</code> Bean that provides means of sending emails described by <code>javax.mail.internet.MimeMessage</code> objects via SMTP. The SMTP connection can either be provided as a <code>org.eclipse.scout.rt.mail.smtp.SmtpServerConfig</code> object containing all the required connection parameters or as an already created <code>javax.mail.Session</code> object. The <code>SmtpHelper</code> also supports pooling of SMTP connections as described in the section <a href="#connection-pooling-chapter">Section 19.4</a>.</p>
     </div>
     <div class="sect2">
      <h3 id="smtpserverconfig"><a class="anchor" href="#smtpserverconfig"></a>19.1. SmtpServerConfig</h3>
      <div class="paragraph">
       <p>The <code>org.eclipse.scout.rt.mail.smtp.SmtpServerConfig</code> class allows to specify details of an SMTP connection to be made. It supports the following properties:</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <colgroup>
        <col style="width: 33.3333%;">
        <col style="width: 33.3333%;">
        <col style="width: 33.3334%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">Property</th>
         <th class="tableblock halign-left valign-top">Description</th>
         <th class="tableblock halign-left valign-top">Example</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The hostname or ip address of the SMTP server to use.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code> or <code>192.168.10.199</code>.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">port</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The TCP port the SMTP server listens on.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">E.g. 25 or 465.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">username</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The username to use for authentication.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">password</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">The password to use for authentication.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">useAuthentication</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to use authentication or not. This setting is only effective, if a username has been provided.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">useSmtps</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If true, the protocol will be 'smtps', else the protocol will be 'smtp'.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">useStartTls</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If true, STARTTLS will be used to create the connection to the SMTP server.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">sslProtocols</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Limits the SSL protocols to support when connecting to the SMTP server. The value is a space separated list of protocol names returned by the <code>javax.net.ssl.SSLSocket.getSupportedProtocols()</code> method.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">E.g. "TLSv1.1 TLSv1.2"</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">additionalSessionProperties</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Can be used to specify any other property for the <code>javax.mail.Session</code> that is created from <code>org.eclipse.scout.rt.mail.smtp.SmtpServerConfig</code>. These additional properties are applied after all the other properties, thus may override already specified properties.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">"mail.smtp.socketFactory.class": "com.example.net.SocketFactory"</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">poolSize</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Allows to specify the size of the connection pool for this <code>SmtpServerConfig</code>. The Default value is 0 which effectively deactives connection pooling.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">maxMessagesPerConnection</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Allows to specify the max number of messages to be sent per connection when using connection pooling (<code>poolSize</code> &gt; 0). The default value is 0 which effectively disables limiting the maximum number of messages sent per connection. You should consult with the operator of the SMTP server you are using to define this value. Local mail servers probably allow less than 20 messages per connection, bigger white mailers may allow up to 100 or even more.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
        </tr>
       </tbody>
      </table>
      <div class="paragraph">
       <p><a href="#lst-SmtpServerConfig.example">Listing 135</a> demonstrates how to use the SmtpServerConfig class.</p>
      </div>
      <div id="lst-SmtpServerConfig.example" class="listingblock">
       <div class="title">
        Listing 135. Create and configure an instance of
        <code>org.eclipse.scout.rt.mail.smtp.SmtpServerConfig</code>
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SuppressWarnings</span>(<span class="string"><span class="delimiter">"</span><span class="content">unused</span><span class="delimiter">"</span></span>)
SmtpServerConfig smtpServerConfig = BEANS.get(SmtpServerConfig.class)
    .withHost(<span class="string"><span class="delimiter">"</span><span class="content">mail.example.com</span><span class="delimiter">"</span></span>)
    .withPort(<span class="integer">465</span>)
    .withUsername(<span class="string"><span class="delimiter">"</span><span class="content">smtpuser</span><span class="delimiter">"</span></span>)
    .withPassword(<span class="string"><span class="delimiter">"</span><span class="content">smtpuserpwd</span><span class="delimiter">"</span></span>)
    .withUseAuthentication(<span class="predefined-constant">true</span>)
    .withUseSmtps(<span class="predefined-constant">true</span>)
    .withUseStartTls(<span class="predefined-constant">true</span>);</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="sending-messages"><a class="anchor" href="#sending-messages"></a>19.2. Sending messages</h3>
      <div class="paragraph">
       <p>Messages can be sent using the <code>sendMessage</code> Methods of the <code>SmtpHelper</code> class. In Order to prepare the message to be sent, Scout provides a number of classes and helpers:</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <colgroup>
        <col style="width: 50%;">
        <col style="width: 50%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">Class</th>
         <th class="tableblock halign-left valign-top">Description</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.eclipse.scout.rt.mail.MailMessage</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Encapsulates all the information about a single mail message (sender, recipient, carbon-copy recipients, subject, body, attachments, etc.).</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.eclipse.scout.rt.mail.MailParticipant</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Defines email address and name of a mail participant. A participant can be a recipient, a carbon-copy recipient, a blind-carbon-copy recipient, the sender and a replyTo contact.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.eclipse.scout.rt.mail.MailAttachment</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Contains information about an email attachment.</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.eclipse.scout.rt.mail.MailHelper</code></p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Provides various helper methods around email bodies, attachments, etc.</p></td>
        </tr>
       </tbody>
      </table>
      <div class="paragraph">
       <p><a href="#lst-SmtpHelper.prepareMimeMessage">Listing 136</a> shows the usage of the mentioned classes Scout provides in order to create a MimeMessage object.</p>
      </div>
      <div id="lst-SmtpHelper.prepareMimeMessage" class="listingblock">
       <div class="title">
        Listing 136. Create
        <code>org.eclipse.scout.rt.mail.CharsetSafeMimeMessage</code> object
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// create BinaryResource for an attachment.</span>
BinaryResource screenshotResource = BinaryResources.create()
    .withFilename(<span class="string"><span class="delimiter">"</span><span class="content">screenshot.jpg</span><span class="delimiter">"</span></span>)
    .withContentType(<span class="string"><span class="delimiter">"</span><span class="content">image/jpeg</span><span class="delimiter">"</span></span>)
    .withContent(bytes)
    .build();
<span class="comment">// wrap BinaryResource in MailAttachment</span>
MailAttachment screenshotAttachment = <span class="keyword">new</span> MailAttachment(screenshotResource);
<span class="comment">// prepare Scout MailMessage</span>
MailMessage mailMessage = BEANS.get(MailMessage.class)
    .withSender(BEANS.get(MailParticipant.class).withName(<span class="string"><span class="delimiter">"</span><span class="content">sender</span><span class="delimiter">"</span></span>).withEmail(<span class="string"><span class="delimiter">"</span><span class="content">me@example.com</span><span class="delimiter">"</span></span>))
    .addToRecipient(BEANS.get(MailParticipant.class).withName(<span class="string"><span class="delimiter">"</span><span class="content">recipient</span><span class="delimiter">"</span></span>).withEmail(<span class="string"><span class="delimiter">"</span><span class="content">somebody@example.com</span><span class="delimiter">"</span></span>))
    .withAttachment(screenshotAttachment)
    .withSubject(<span class="string"><span class="delimiter">"</span><span class="content">Screenshot</span><span class="delimiter">"</span></span>)
    .withBodyPlainText(<span class="string"><span class="delimiter">"</span><span class="content">Dear recipient,</span><span class="char">\n</span><span class="char">\n</span><span class="content">Please have a look at my screenshot!</span><span class="char">\n</span><span class="char">\n</span><span class="content">Regards,</span><span class="char">\n</span><span class="content">sender</span><span class="delimiter">"</span></span>);
<span class="comment">// convert MailMessage to MimeMessage</span>
CharsetSafeMimeMessage mimeMessage = BEANS.get(MailHelper.class).createMimeMessage(mailMessage);</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>In order to send the message you can either use a <code>org.eclipse.scout.rt.mail.smtp.SmtpServerConfig</code> object or an existing <code>javax.mail.Session</code> object as demonstrated in <a href="#lst-SmtpHelper.sendWithSmtpServerConfig">Listing 137</a> and <a href="#lst-SmtpHelper.sendWithSession">Listing 138</a>.</p>
      </div>
      <div id="lst-SmtpHelper.sendWithSmtpServerConfig" class="listingblock">
       <div class="title">
        Listing 137. Send email using an
        <code>org.eclipse.scout.rt.mail.smtp.SmtpServerConfig</code> object.
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java">BEANS.get(SmtpHelper.class).sendMessage(smtpServerConfig, mimeMessage);</code></pre>
       </div>
      </div>
      <div id="lst-SmtpHelper.sendWithSession" class="listingblock">
       <div class="title">
        Listing 138. Send email using an existing
        <code>javax.mail.Session</code> object.
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// The password has to be provided additionally as it is not stored in the session object.</span>
BEANS.get(SmtpHelper.class).sendMessage(session, password, mimeMessage);</code></pre>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="smtphelper-configuration"><a class="anchor" href="#smtphelper-configuration"></a>19.3. SmtpHelper Configuration</h3>
      <div class="paragraph">
       <p>The <code>SmtpHelper</code> provides some config properties that allow to modify certain behaviour.</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <colgroup>
        <col style="width: 33.3333%;">
        <col style="width: 33.3333%;">
        <col style="width: 33.3334%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">Key</th>
         <th class="tableblock halign-left valign-top">Description</th>
         <th class="tableblock halign-left valign-top">Example</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">scout.smtp.debugReceiverEmail</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">If this property is set, the <code>SmtpHelper</code> sends all emails to the specified email address instead of the recipients specified in the <code>MimeMessage</code> object. This is useful for development and testing environments.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock"><a href="mailto:debug-receiver@example.com">debug-receiver@example.com</a></p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">scout.smtp.connectionTimeout</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the connection timeout for SMTP connections in milliseconds. Default is 60 seconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">30000</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">scout.smtp.readTimeout</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the read timeout for SMTP connections in milliseconds. Default is 60 seconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">30000</p></td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="sect2">
      <h3 id="connection-pooling-chapter"><a class="anchor" href="#connection-pooling-chapter"></a>19.4. Connection Pooling</h3>
      <div class="paragraph">
       <p>Normally, the <code>SmtpHelper</code> opens a new connection for every email which is then closed after the email has been sent. If you want to send a lot of emails, this behaviour is rather inefficient as opening a new SMTP connection takes a long time compared to sending the email especially when using encrypted connections. To mitigate this overhead, the <code>SmtpHelper</code> supports pooling of SMTP connections which is activated using the <code>poolSize</code> property of <code>SmtpServerConfig</code> objects. If you set the pool size property to a value &gt; 0, the <code>SmtpHelper</code> will create parallel connections up to the specified number. This means, that connection pooling is not possible when you use the <code>sendMessage</code> method accepting an already prepared <code>javax.mail.Session</code> object.</p>
      </div>
      <div class="paragraph">
       <p><strong>Pooling</strong> in this context means the following:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>All SMTP server connections sharing the same <code>SmtpServerConfig</code> object (by same meaning being equal according to <code>SmtpServerConfig.equals()</code>) belong to the same pool</p> </li>
        <li> <p>For each different <code>SmtpServerConfig</code> object (again using <code>SmtpServerConfig.equals()</code>) up to the specified pool size connections are created</p> </li>
        <li> <p>Connections are not immediately closed after an email has been sent, instead they are returned to the pool as idle connections.</p> </li>
        <li> <p>Before creating new connections, idle connections are reused.</p> </li>
        <li> <p>When trying to send an email while all the SMTP connections are currently in use and the pool size has already been reached, the calling thread is blocked until a connection is returned as idle to the pool or as soon as the wait-for-connection-timeout has exceeded.</p> </li>
        <li> <p>As long as connections are open, a background job monitors their state and closes idle and old connections.</p> </li>
       </ul>
      </div>
     </div>
     <div class="sect2">
      <h3 id="smtpconnectionpool-configuration"><a class="anchor" href="#smtpconnectionpool-configuration"></a>19.5. SmtpConnectionPool Configuration</h3>
      <div class="paragraph">
       <p>The following config properties allow to modify the behavior of the connection pool implementation at the global level:</p>
      </div>
      <table class="tableblock frame-all grid-all stretch">
       <colgroup>
        <col style="width: 33.3333%;">
        <col style="width: 33.3333%;">
        <col style="width: 33.3334%;">
       </colgroup>
       <thead>
        <tr>
         <th class="tableblock halign-left valign-top">key</th>
         <th class="tableblock halign-left valign-top">Description</th>
         <th class="tableblock halign-left valign-top">Example</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">scout.smtp.pool.maxIdleTime</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies how long in seconds a connection can be idle before it is closed by the background cleanup job. Default is 60 seconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">scout.smtp.pool.maxConnectionLifetime</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies how long in seconds a connection can be open before it is closed. This is to prevent connections from being open forever when sending emails on a regular basis. Default is 1h.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">7200</p></td>
        </tr>
        <tr>
         <td class="tableblock halign-left valign-top"><p class="tableblock">scout.smtp.pool.waitForConnectionTimeout</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">Max. wait time for SMTP connection in seconds. If the value is 0, callers will wait infinitely long for SMTP connections. Default is 300 seconds.</p></td>
         <td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="scout-js"><a class="anchor" href="#scout-js"></a>20. Scout JS</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>Scout JS is the technology used by Scout to render your application. The client model defined using Java code is sent to the browser where Scout JS comes into action by taking that model and generating HTML elements.</p>
     </div>
     <div class="paragraph">
      <p>But Scout JS is a lot more: it can be used to create applications without having a Java based client model at all. You can find out more about Scout JS and its concepts in the <a href="https://eclipsescout.github.io/9.0/technical-guide-js.html">Technical Guide for Scout JS</a>.</p>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="how-tos"><a class="anchor" href="#how-tos"></a>21. How-Tos</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>This chapter provides various small technical guides to very specific Scout subjects.</p>
     </div>
     <div class="sect2">
      <h3 id="smartfield-how-to-apply-colors-and-styles-from-a-lookup-row"><a class="anchor" href="#smartfield-how-to-apply-colors-and-styles-from-a-lookup-row"></a>21.1. SmartField: how to apply colors and styles from a lookup-row</h3>
      <div class="paragraph">
       <p>When a user selects a lookup-row from the proposal chooser in Scout versions &#x21d0; 6.0, the properties <code>foregroundColor</code>, <code>backgroundColor</code>, <code>font</code> and <code>tooltipText</code> have been automatically copied from the lookup-row to the field. In some cases this was exactly what a specific application needed, but in other cases it was hard to implement a specific behavior without overriding internal methods from the <code>SmartField</code>. For instance it was not possible to have a lookup-row with background-color red in the proposal-chooser and at the same time avoid the background-color of the field changing to red, when that row was being selected.</p>
      </div>
      <div class="paragraph">
       <p>Since that automatic behavior didn&#x2019;t fit every business requirement, we removed it completely. This means a programmer must now implement specific code to read properties from the lookup-row and set them on the field. The following example is from the Scout widgets app. It changes the background-color of the field.</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 139. Java example, set the background-color of the lookup-row on the field
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">protected</span> <span class="type">void</span> execChangedValue() {
  updateFieldBackgroundColor();
}
<span class="comment">/** * Sets the color of the field to the color of the selected lookup row. */</span>
<span class="directive">protected</span> <span class="type">void</span> updateFieldBackgroundColor() {
  ILookupRow&lt;?&gt; lookupRow = getLookupRow();
  <span class="predefined-type">String</span> bgColor = lookupRow == <span class="predefined-constant">null</span> ? <span class="predefined-constant">null</span> : lookupRow.getBackgroundColor();
  setBackgroundColor(bgColor);
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>Since Scout 8.0 the property <code>cssClass</code> from the lookup-row is automatically applied to the .form-field DIV. This gives the programmer the flexibility to style either both, lookup-row and field, or only the lookup-row in the proposal-chooser via CSS/LESS.</p>
      </div>
      <div class="paragraph">
       <p>Here&#x2019;s a LESS example from the Scout widget app that sets the background-color of lookup-row and field. It is used for the <code>EventTypeCodeType</code> which defines 3 codes with the CSS classes public, private and external:</p>
      </div>
      <div class="listingblock">
       <div class="title">
        Listing 140. LESS example, style lookup-row and field with the same CSS class
       </div>
       <div class="content">
        <pre class="CodeRay highlight"><code data-lang="less">.form-field.public &gt; .field, .table-row.public {
  background-color: @palette-green-0;
}
.form-field.private &gt; .field, .table-row.private {
  background-color: @palette-orange-1;
}
.form-field.external &gt; .field, .table-row.external {
  background-color: @palette-gray-3;
}</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p><em>Conclusion</em>: older Scout apps that rely on the automatic behavior for the properties mentioned above, should use CSS classes instead of the properties back-/foregroundColor or font. If that&#x2019;s not possible you should implement logic as shown in the example above where required, possibly moving that code in a class that extends <code>AbstractSmartField</code>, if the same code is required in multiple places.</p>
      </div>
     </div>
    </div>
   </div>
   <div class="sect1">
    <h2 id="apx-cclicence"><a class="anchor" href="#apx-cclicence"></a>Appendix A: Licence and Copyright</h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>This appendix first provides a summary of the Creative Commons (CC-BY) licence used for this book. The licence is followed by the complete list of the contributing individuals, and the full licence text.</p>
     </div>
     <div class="sect2">
      <h3 id="licence-summary"><a class="anchor" href="#licence-summary"></a>A.1. Licence Summary</h3>
      <div class="paragraph">
       <p>This work is licensed under the Creative Commons Attribution License. To view a copy of this license, visit <a href="https://creativecommons.org/licenses/by/3.0/" class="bare">https://creativecommons.org/licenses/by/3.0/</a> or send a letter to Creative Commons, 559 Nathan Abbott Way, Stanford, California 94305, USA.</p>
      </div>
      <div class="paragraph">
       <p>A summary of the license is given below, followed by the full legal text.</p>
      </div>
      <div class="paragraph">
       <p>You are free:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p><strong>to Share</strong> ---to copy, distribute and transmit the work</p> </li>
        <li> <p><strong>to Remix</strong>---to adapt the work</p> </li>
        <li> <p>to make commercial use of the work</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p>Under the following conditions:</p>
      </div>
      <div class="paragraph">
       <p><strong>Attribution</strong> ---You must attribute the work in the manner specified by the author or licensor (but not in any way that suggests that they endorse you or your use of the work).</p>
      </div>
      <div class="paragraph">
       <p>With the understanding that:</p>
      </div>
      <div class="paragraph">
       <p><strong>Waiver</strong> ---Any of the above conditions can be waived if you get permission from the copyright holder.</p>
      </div>
      <div class="paragraph">
       <p><strong>Public Domain</strong> ---Where the work or any of its elements is in the public domain under applicable law, that status is in no way affected by the license.</p>
      </div>
      <div class="paragraph">
       <p><strong>Other Rights</strong> ---In no way are any of the following rights affected by the license:</p>
      </div>
      <div class="ulist">
       <ul>
        <li> <p>Your fair dealing or fair use rights, or other applicable copyright exceptions and limitations;</p> </li>
        <li> <p>The author&#x2019;s moral rights;</p> </li>
        <li> <p>Rights other persons may have either in the work itself or in how the work is used, such as publicity or privacy rights.</p> </li>
       </ul>
      </div>
      <div class="paragraph">
       <p><strong>Notice</strong> ---For any reuse or distribution, you must make clear to others the license terms of this work. The best way to do this is with a link to <a href="https://creativecommons.org/licenses/by/3.0/" class="bare">https://creativecommons.org/licenses/by/3.0/</a>.</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="sec-contributing_individuals"><a class="anchor" href="#sec-contributing_individuals"></a>A.2. Contributing Individuals</h3>
      <div class="paragraph">
       <p>Copyright (c) 2012-2014.</p>
      </div>
      <div class="paragraph">
       <p>In the text below, all contributing individuals are listed in alphabetical order by name. For contributions in the form of GitHub pull requests, the name should match the one provided in the corresponding public profile.</p>
      </div>
      <div class="paragraph">
       <p>Bresson Jeremie, Fihlon Marcus, Nick Matthias, Schroeder Alex, Zimmermann Matthias</p>
      </div>
     </div>
     <div class="sect2">
      <h3 id="full-licence-text"><a class="anchor" href="#full-licence-text"></a>A.3. Full Licence Text</h3>
      <div class="paragraph">
       <p>The full licence text is available online at <a href="http://creativecommons.org/licenses/by/3.0/legalcode" class="bare">http://creativecommons.org/licenses/by/3.0/legalcode</a></p>
      </div>
      <div class="admonitionblock tip">
       <table>
        <tbody>
         <tr>
          <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td>
          <td class="content"> Do you want to improve this document? Have a look at the <a href="https://github.com/bsi-software/org.eclipse.scout.docs/blob/releases/9.0.x/docs/build/technical_guide/src/docs/technical-guide.adoc">sources</a> on GitHub. </td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div id="footnotes">
   <hr>
   <div class="footnote" id="_footnotedef_1">
    <a href="#_footnoteref_1">1</a>.
    <a href="https://github.com/wildfly/jandex" class="bare">https://github.com/wildfly/jandex</a>
   </div>
   <div class="footnote" id="_footnotedef_2">
    <a href="#_footnoteref_2">2</a>.
    <a href="https://en.wikipedia.org/wiki/.properties" class="bare">https://en.wikipedia.org/wiki/.properties</a>
   </div>
   <div class="footnote" id="_footnotedef_3">
    <a href="#_footnoteref_3">3</a>.
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/X-Frame-Options" class="bare">https://developer.mozilla.org/en-US/docs/Web/HTTP/X-Frame-Options</a>
   </div>
   <div class="footnote" id="_footnotedef_4">
    <a href="#_footnoteref_4">4</a>.
    <a href="https://en.wikipedia.org/wiki/Clickjacking" class="bare">https://en.wikipedia.org/wiki/Clickjacking</a>
   </div>
   <div class="footnote" id="_footnotedef_5">
    <a href="#_footnoteref_5">5</a>.
    <a href="https://tools.ietf.org/html/rfc7034" class="bare">https://tools.ietf.org/html/rfc7034</a>
   </div>
   <div class="footnote" id="_footnotedef_6">
    <a href="#_footnoteref_6">6</a>.
    <a href="https://en.wikipedia.org/wiki/Cross-site_scripting" class="bare">https://en.wikipedia.org/wiki/Cross-site_scripting</a>
   </div>
   <div class="footnote" id="_footnotedef_7">
    <a href="#_footnoteref_7">7</a>.
    <a href="http://content-security-policy.com/" class="bare">http://content-security-policy.com/</a>
   </div>
   <div class="footnote" id="_footnotedef_8">
    <a href="#_footnoteref_8">8</a>.
    <a href="https://en.wikipedia.org/wiki/JavaScript" class="bare">https://en.wikipedia.org/wiki/JavaScript</a>
   </div>
   <div class="footnote" id="_footnotedef_9">
    <a href="#_footnoteref_9">9</a>.
    <a href="https://en.wikipedia.org/wiki/Cascading_Style_Sheets" class="bare">https://en.wikipedia.org/wiki/Cascading_Style_Sheets</a>
   </div>
   <div class="footnote" id="_footnotedef_10">
    <a href="#_footnoteref_10">10</a>.
    <a href="https://en.wikipedia.org/wiki/Framing_(World_Wide_Web" class="bare">https://en.wikipedia.org/wiki/Framing_(World_Wide_Web</a>)
   </div>
   <div class="footnote" id="_footnotedef_11">
    <a href="#_footnoteref_11">11</a>.
    <a href="https://en.wikipedia.org/wiki/WebSocket" class="bare">https://en.wikipedia.org/wiki/WebSocket</a>
   </div>
   <div class="footnote" id="_footnotedef_12">
    <a href="#_footnoteref_12">12</a>.
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventSource" class="bare">https://developer.mozilla.org/en-US/docs/Web/API/EventSource</a>
   </div>
   <div class="footnote" id="_footnotedef_13">
    <a href="#_footnoteref_13">13</a>.
    <a href="https://en.wikipedia.org/wiki/Ajax_%28programming%29" class="bare">https://en.wikipedia.org/wiki/Ajax_%28programming%29</a>
   </div>
   <div class="footnote" id="_footnotedef_14">
    <a href="#_footnoteref_14">14</a>.
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object" class="bare">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object</a>
   </div>
   <div class="footnote" id="_footnotedef_15">
    <a href="#_footnoteref_15">15</a>.
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/embed" class="bare">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/embed</a>
   </div>
   <div class="footnote" id="_footnotedef_16">
    <a href="#_footnoteref_16">16</a>.
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/applet" class="bare">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/applet</a>
   </div>
   <div class="footnote" id="_footnotedef_17">
    <a href="#_footnoteref_17">17</a>.
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio" class="bare">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio</a>
   </div>
   <div class="footnote" id="_footnotedef_18">
    <a href="#_footnoteref_18">18</a>.
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" class="bare">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video</a>
   </div>
  </div>
  <div id="footer">
   <div id="footer-text">
     Version 9.0
    <br> Last updated 2021-02-04 18:45:57 +0100
   </div>
  </div>
 </body>
</html>